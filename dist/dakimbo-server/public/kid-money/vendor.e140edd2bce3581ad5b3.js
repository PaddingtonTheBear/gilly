(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+oQb":function(e,t,n){"use strict";var r=n("dEMF"),i=n("1TxV"),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(B(e,ArrayBuffer)||e&&B(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(B(e,SharedArrayBuffer)||e&&B(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return s.from(r,t,n);var i=function(e){if(s.isBuffer(e)){var t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return c(e),o(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,s.prototype),r}function d(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(i)return r?-1:L(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){h=!1;break}if(h)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(U(s))return o;e[n+o]=s}return o}function E(e,t,n,r){return q(L(t,e.length-n),e,n,r)}function w(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return w(e,t,n,r)}function C(e,t,n,r){return q(F(t),e,n,r)}function T(e,t,n,r){return q(function(e,t){for(var n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=V[e[a]];return i}function j(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,a){return t=+t,n>>>=0,a||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,a){return t=+t,n>>>=0,a||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(B(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),B(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(B(a,Uint8Array)&&(a=s.from(a)),!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toLocaleString=s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,t,n,r,i){if(B(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),u=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),h=0;h<u;++h)if(c[h]!==l[h]){a=c[h],o=l[h];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,s.prototype),r},s.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},s.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=s.isBuffer(e)?e:s.from(e,r),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=o[a%u]}return this};var I=/[^+/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function B(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var V=function(){for(var e=new Array(256),t=0;t<16;++t)for(var n=16*t,r=0;r<16;++r)e[n+r]="0123456789abcdef"[t]+"0123456789abcdef"[r];return e}()},"/0jE":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(e){this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames}return e.prototype.clone=function(){return new e({name:this.name,columnNames:r.i(this.columnNames)})},e.create=function(t){return new e({name:t.name,columnNames:t.columns.map((function(e){return e.databaseName}))})},e}()},"/eLe":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D57K"),i=n("l5L1"),a=function(){function e(){}return e.buildDriverOptions=function(e,t){if(e.url){var n=this.parseConnectionUrl(e.url),r={type:n.type,host:n.host,username:n.username,password:n.password,port:n.port,database:n.database};return t&&t.useSid&&(r.sid=n.database),Object.assign({},e,r)}return Object.assign({},e)},e.buildColumnAlias=function(e,t,n){var r=e.maxAliasLength,a=t+"_"+n;return r&&r>0&&a.length>r?Object(i.b)(a,{length:r}):a},e.parseConnectionUrl=function(e){var t=e.split(":")[0],n=e.indexOf("//"),i=e.substr(n+2),a=i.indexOf("/"),o=-1!==a?i.substr(0,a):i,s=-1!==a?i.substr(a+1):void 0,u=o.lastIndexOf("@"),c=o.substr(0,u),l=o.substr(u+1),h=c,f="",d=c.indexOf(":");-1!==d&&(h=c.substr(0,d),f=c.substr(d+1));var p=r.g(l.split(":"),2),m=p[1];return{type:t,host:p[0],username:decodeURIComponent(h),password:decodeURIComponent(f),port:m?parseInt(m):void 0,database:s||void 0}},e}()},"/vgl":function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},"0Woy":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe");function u(){return function(e){return e.lift(new c)}}var c=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e))}}]),e}(),l=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).hasPrev=!1,r}return Object(o.a)(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(s.a)},"0rEu":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1),this._type=e,this._value=t,this._useParameter=n,this._multipleParameters=r}return Object.defineProperty(e.prototype,"useParameter",{get:function(){return this._value instanceof e?this._value.useParameter:this._useParameter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multipleParameters",{get:function(){return this._value instanceof e?this._value.multipleParameters:this._multipleParameters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value instanceof e?this._value.value:this._value},enumerable:!0,configurable:!0}),e.prototype.toSql=function(t,n,r){switch(this._type){case"not":return this._value instanceof e?"NOT("+this._value.toSql(t,n,r)+")":n+" != "+r[0];case"lessThan":return n+" < "+r[0];case"lessThanOrEqual":return n+" <= "+r[0];case"moreThan":return n+" > "+r[0];case"moreThanOrEqual":return n+" >= "+r[0];case"equal":return n+" = "+r[0];case"like":return n+" LIKE "+r[0];case"between":return n+" BETWEEN "+r[0]+" AND "+r[1];case"in":return n+" IN ("+r.join(", ")+")";case"any":return n+" = ANY("+r[0]+")";case"isNull":return n+" IS NULL";case"raw":return this.value instanceof Function?this.value(n):n+" = "+this.value}return""},e}()},"1MAX":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("dUuy"),i=n("i9P/"),a=n("sWLk"),o=n("qEfY"),s=n("eY+9"),u=n("/vgl"),c=n("X0qr"),l=function(e){if(e&&"function"==typeof e[o.a])return l=e,function(e){var t=l[o.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(u.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[a.a])return t=e,function(e){for(var n=t[a.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,l,h=Object(c.a)(e)?"an invalid object":"'".concat(e,"'"),f="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(f)}},"1TxV":function(e,t){t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,a=d&(1<<-l)-1,d>>=-l,l+=s;l>0;a=256*a+e[t+h],h+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+h],h+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=c}return(d?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=l?(s=0,o=l):o+h>=1?(s=(t*u-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*m}},"25CY":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"2ELk":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){this.count=0,this.promises=[]}},"2FZx":function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},"2kYt":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return Je})),n.d(t,"c",(function(){return pt})),n.d(t,"d",(function(){return lt})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return et})),n.d(t,"g",(function(){return ut})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return nt})),n.d(t,"j",(function(){return rt})),n.d(t,"k",(function(){return it})),n.d(t,"l",(function(){return ot})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return T})),n.d(t,"p",(function(){return Ye})),n.d(t,"q",(function(){return ke})),n.d(t,"r",(function(){return je})),n.d(t,"s",(function(){return Me})),n.d(t,"t",(function(){return De})),n.d(t,"u",(function(){return Ue})),n.d(t,"v",(function(){return Ve})),n.d(t,"w",(function(){return He})),n.d(t,"x",(function(){return Fe})),n.d(t,"y",(function(){return qe})),n.d(t,"z",(function(){return Be})),n.d(t,"A",(function(){return ze})),n.d(t,"B",(function(){return S})),n.d(t,"C",(function(){return ct})),n.d(t,"D",(function(){return m})),n.d(t,"E",(function(){return dt})),n.d(t,"F",(function(){return Xe})),n.d(t,"G",(function(){return $e})),n.d(t,"H",(function(){return vt})),n.d(t,"I",(function(){return yt})),n.d(t,"J",(function(){return d})),n.d(t,"K",(function(){return mt})),n.d(t,"L",(function(){return h})),n.d(t,"M",(function(){return Ne})),n.d(t,"N",(function(){return f}));var r=n("mPN/"),i=n("XlW9"),a=n("jg4I"),o=n("Qvxn"),s=n("sTvq"),u=n("bI4O"),c=n("EM62"),l=null;function h(){return l}function f(e){l||(l=e)}var d=function e(){Object(u.a)(this,e)},p=new c.q("DocumentToken"),m=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Fb)({factory:y,token:e,providedIn:"platform"}),e}();function y(){return Object(c.Tb)(g)}var v=new c.q("Location Initialized"),g=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this))._doc=e,r._init(),r}return Object(a.a)(n,[{key:"_init",value:function(){this.location=h().getLocation(),this._history=h().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return h().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){h().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){h().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){b()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){b()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(m);return e.\u0275fac=function(t){return new(t||e)(c.Tb(p))},e.\u0275prov=Object(c.Fb)({factory:E,token:e,providedIn:"platform"}),e}();function b(){return!!window.history.pushState}function E(){return new g(Object(c.Tb)(p))}function w(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function O(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function C(e){return e&&"?"!==e[0]?"?"+e:e}var T=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Fb)({factory:_,token:e,providedIn:"root"}),e}();function _(e){var t=Object(c.Tb)(p).location;return new S(Object(c.Tb)(m),t&&t.origin||"")}var A=new c.q("appBaseHref"),S=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;if(Object(u.a)(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return Object(a.a)(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return w(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+C(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+C(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+C(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(T);return e.\u0275fac=function(t){return new(t||e)(c.Tb(m),c.Tb(A,8))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),N=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return Object(a.a)(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=w(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+C(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+C(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(T);return e.\u0275fac=function(t){return new(t||e)(c.Tb(m),c.Tb(A,8))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),k=function(){var e=function(){function e(t,n){var r=this;Object(u.a)(this,e),this._subject=new c.n,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=O(x(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return Object(a.a)(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+C(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,x(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+C(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+C(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)})))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Tb(T),c.Tb(m))},e.normalizeQueryParams=C,e.joinWithSlash=w,e.stripTrailingSlash=O,e.\u0275prov=Object(c.Fb)({factory:j,token:e,providedIn:"root"}),e}();function j(){return new k(Object(c.Tb)(T),Object(c.Tb)(m))}function x(e){return e.replace(/\/index.html$/,"")}var M={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},R=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}({}),D=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),P=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),I=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),L=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),F=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function q(e,t){return K(Object(c.ib)(e)[c.Z.DateFormat],t)}function B(e,t){return K(Object(c.ib)(e)[c.Z.TimeFormat],t)}function U(e,t){return K(Object(c.ib)(e)[c.Z.DateTimeFormat],t)}function V(e,t){var n=Object(c.ib)(e),r=n[c.Z.NumberSymbols][t];if(void 0===r){if(t===F.CurrencyDecimal)return n[c.Z.NumberSymbols][F.Decimal];if(t===F.CurrencyGroup)return n[c.Z.NumberSymbols][F.Group]}return r}function H(e,t){return Object(c.ib)(e)[c.Z.NumberFormats][t]}function z(e){return Object(c.ib)(e)[c.Z.Currencies]}var Q=c.lb;function W(e){if(!e[c.Z.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[c.Z.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function K(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function G(e){var t=e.split(":"),n=Object(i.a)(t,2);return{hours:+n[0],minutes:+n[1]}}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",r=z(n)[e]||M[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}var Y=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Z={},X=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),ee=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}({}),te=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function ne(e,t,n,r){var a=function(e){if(ye(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var r=e.split("-").map((function(e){return+e})),a=Object(i.a)(r,3);return new Date(a[0],a[1]-1,a[2])}if(t=e.match(Y))return function(e){var t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var o=Number(e[4]||0)-n,s=Number(e[5]||0)-r,u=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(t,o,s,u,c),t}(t)}var o=new Date(e);if(!ye(o))throw new Error('Unable to convert "'.concat(e,'" into a date'));return o}(e);t=function e(t,n){var r=function(e){return Object(c.ib)(e)[c.Z.LocaleId]}(t);if(Z[r]=Z[r]||{},Z[r][n])return Z[r][n];var i="";switch(n){case"shortDate":i=q(t,L.Short);break;case"mediumDate":i=q(t,L.Medium);break;case"longDate":i=q(t,L.Long);break;case"fullDate":i=q(t,L.Full);break;case"shortTime":i=B(t,L.Short);break;case"mediumTime":i=B(t,L.Medium);break;case"longTime":i=B(t,L.Long);break;case"fullTime":i=B(t,L.Full);break;case"short":var a=e(t,"shortTime"),o=e(t,"shortDate");i=re(U(t,L.Short),[a,o]);break;case"medium":var s=e(t,"mediumTime"),u=e(t,"mediumDate");i=re(U(t,L.Medium),[s,u]);break;case"long":var l=e(t,"longTime"),h=e(t,"longDate");i=re(U(t,L.Long),[l,h]);break;case"full":var f=e(t,"fullTime"),d=e(t,"fullDate");i=re(U(t,L.Full),[f,d])}return i&&(Z[r][n]=i),i}(n,t)||t;for(var o,s=[];t;){if(!(o=X.exec(t))){s.push(t);break}var u=(s=s.concat(o.slice(1))).pop();if(!u)break;t=u}var l=a.getTimezoneOffset();r&&(l=me(r,l),a=function(e,t,n){var r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(me(t,r)-r))}(a,r));var h="";return s.forEach((function(e){var t=function(e){if(pe[e])return pe[e];var t;switch(e){case"G":case"GG":case"GGG":t=ue(te.Eras,I.Abbreviated);break;case"GGGG":t=ue(te.Eras,I.Wide);break;case"GGGGG":t=ue(te.Eras,I.Narrow);break;case"y":t=oe(ee.FullYear,1,0,!1,!0);break;case"yy":t=oe(ee.FullYear,2,0,!0,!0);break;case"yyy":t=oe(ee.FullYear,3,0,!1,!0);break;case"yyyy":t=oe(ee.FullYear,4,0,!1,!0);break;case"M":case"L":t=oe(ee.Month,1,1);break;case"MM":case"LL":t=oe(ee.Month,2,1);break;case"MMM":t=ue(te.Months,I.Abbreviated);break;case"MMMM":t=ue(te.Months,I.Wide);break;case"MMMMM":t=ue(te.Months,I.Narrow);break;case"LLL":t=ue(te.Months,I.Abbreviated,P.Standalone);break;case"LLLL":t=ue(te.Months,I.Wide,P.Standalone);break;case"LLLLL":t=ue(te.Months,I.Narrow,P.Standalone);break;case"w":t=de(1);break;case"ww":t=de(2);break;case"W":t=de(1,!0);break;case"d":t=oe(ee.Date,1);break;case"dd":t=oe(ee.Date,2);break;case"E":case"EE":case"EEE":t=ue(te.Days,I.Abbreviated);break;case"EEEE":t=ue(te.Days,I.Wide);break;case"EEEEE":t=ue(te.Days,I.Narrow);break;case"EEEEEE":t=ue(te.Days,I.Short);break;case"a":case"aa":case"aaa":t=ue(te.DayPeriods,I.Abbreviated);break;case"aaaa":t=ue(te.DayPeriods,I.Wide);break;case"aaaaa":t=ue(te.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":t=ue(te.DayPeriods,I.Abbreviated,P.Standalone,!0);break;case"bbbb":t=ue(te.DayPeriods,I.Wide,P.Standalone,!0);break;case"bbbbb":t=ue(te.DayPeriods,I.Narrow,P.Standalone,!0);break;case"B":case"BB":case"BBB":t=ue(te.DayPeriods,I.Abbreviated,P.Format,!0);break;case"BBBB":t=ue(te.DayPeriods,I.Wide,P.Format,!0);break;case"BBBBB":t=ue(te.DayPeriods,I.Narrow,P.Format,!0);break;case"h":t=oe(ee.Hours,1,-12);break;case"hh":t=oe(ee.Hours,2,-12);break;case"H":t=oe(ee.Hours,1);break;case"HH":t=oe(ee.Hours,2);break;case"m":t=oe(ee.Minutes,1);break;case"mm":t=oe(ee.Minutes,2);break;case"s":t=oe(ee.Seconds,1);break;case"ss":t=oe(ee.Seconds,2);break;case"S":t=oe(ee.FractionalSeconds,1);break;case"SS":t=oe(ee.FractionalSeconds,2);break;case"SSS":t=oe(ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=le($.Short);break;case"ZZZZZ":t=le($.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=le($.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=le($.Long);break;default:return null}return pe[e]=t,t}(e);h+=t?t(a,n,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),h}function re(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,a=n));for(var o=String(e);o.length<t;)o="0"+o;return r&&(o=o.substr(o.length-t)),a+o}function ae(e,t){return ie(e,3).substr(0,t)}function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(a,o){var s=se(e,a);if((n>0||s>-n)&&(s+=n),e===ee.Hours)0===s&&-12===n&&(s=12);else if(e===ee.FractionalSeconds)return ae(s,t);var u=V(o,F.MinusSign);return ie(s,t,u,r,i)}}function se(e,t){switch(e){case ee.FullYear:return t.getFullYear();case ee.Month:return t.getMonth();case ee.Date:return t.getDate();case ee.Hours:return t.getHours();case ee.Minutes:return t.getMinutes();case ee.Seconds:return t.getSeconds();case ee.FractionalSeconds:return t.getMilliseconds();case ee.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Format,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,a){return ce(i,a,e,t,n,r)}}function ce(e,t,n,r,a,o){switch(n){case te.Months:return function(e,t,n){var r=Object(c.ib)(e),i=K([r[c.Z.MonthsFormat],r[c.Z.MonthsStandalone]],t);return K(i,n)}(t,a,r)[e.getMonth()];case te.Days:return function(e,t,n){var r=Object(c.ib)(e),i=K([r[c.Z.DaysFormat],r[c.Z.DaysStandalone]],t);return K(i,n)}(t,a,r)[e.getDay()];case te.DayPeriods:var s=e.getHours(),u=e.getMinutes();if(o){var l=function(e){var t=Object(c.ib)(e);return W(t),(t[c.Z.ExtraData][2]||[]).map((function(e){return"string"==typeof e?G(e):[G(e[0]),G(e[1])]}))}(t),h=function(e,t,n){var r=Object(c.ib)(e);W(r);var i=K([r[c.Z.ExtraData][0],r[c.Z.ExtraData][1]],t)||[];return K(i,n)||[]}(t,a,r),f=l.findIndex((function(e){if(Array.isArray(e)){var t=Object(i.a)(e,2),n=t[0],r=t[1],a=s>=n.hours&&u>=n.minutes,o=s<r.hours||s===r.hours&&u<r.minutes;if(n.hours<r.hours){if(a&&o)return!0}else if(a||o)return!0}else if(e.hours===s&&e.minutes===u)return!0;return!1}));if(-1!==f)return h[f]}return function(e,t,n){var r=Object(c.ib)(e),i=K([r[c.Z.DayPeriodsFormat],r[c.Z.DayPeriodsStandalone]],t);return K(i,n)}(t,a,r)[s<12?0:1];case te.Eras:return function(e,t){return K(Object(c.ib)(e)[c.Z.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}function le(e){return function(t,n,r){var i=-1*r,a=V(n,F.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case $.Short:return(i>=0?"+":"")+ie(o,2,a)+ie(Math.abs(i%60),2,a);case $.ShortGMT:return"GMT"+(i>=0?"+":"")+ie(o,1,a);case $.Long:return"GMT"+(i>=0?"+":"")+ie(o,2,a)+":"+ie(Math.abs(i%60),2,a);case $.Extended:return 0===r?"Z":(i>=0?"+":"")+ie(o,2,a)+":"+ie(Math.abs(i%60),2,a);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function he(e){var t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}function fe(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function de(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i;if(t){var a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();i=1+Math.floor((o+a)/7)}else{var s=he(n.getFullYear()),u=fe(n).getTime()-s.getTime();i=1+Math.round(u/6048e5)}return ie(i,e,V(r,F.MinusSign))}}var pe={};function me(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ye(e){return e instanceof Date&&!isNaN(e.valueOf())}var ve=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ge(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(e)){var c=Oe(e);o&&(c=we(c));var l=t.minInt,h=t.minFrac,f=t.maxFrac;if(a){var d=a.match(ve);if(null===d)throw new Error("".concat(a," is not a valid digit info"));var p=d[1],m=d[3],y=d[5];null!=p&&(l=Te(p)),null!=m&&(h=Te(m)),null!=y?f=Te(y):null!=m&&h>f&&(f=h)}Ce(c,h,f);var v=c.digits,g=c.integerLen,b=c.exponent,E=[];for(u=v.every((function(e){return!e}));g<l;g++)v.unshift(0);for(;g<0;g++)v.unshift(0);g>0?E=v.splice(g,v.length):(E=v,v=[0]);var w=[];for(v.length>=t.lgSize&&w.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)w.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&w.unshift(v.join("")),s=w.join(V(n,r)),E.length&&(s+=V(n,i)+E.join("")),b&&(s+=V(n,F.Exponential)+"+"+b)}else s=V(n,F.Infinity);return e<0&&!u?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}function be(e,t,n,r,i){var a=Ee(H(t,R.Currency),V(t,F.MinusSign));return a.minFrac=function(e){var t,n=M[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),a.maxFrac=a.minFrac,ge(e,a,t,F.CurrencyGroup,F.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],a=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=o[0],u=o[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,a){var f=i.length-n.posPre.length-n.posSuf.length,d=a.indexOf("#");n.negPre=a.substr(0,d).replace(/'/g,""),n.negSuf=a.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function we(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}function Oe(e){var t,n,r,i,a,o=Math.abs(e)+"",s=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(a=o.length))t=[0],n=1;else{for(a--;"0"===o.charAt(a);)a--;for(n-=r,t=[],i=0;r<=a;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}function Ce(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,a=Math.min(Math.max(t,i),n),o=a+e.integerLen,s=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(var u=o;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=a+1),r[0]=0;for(var c=1;c<o;c++)r[c]=0}if(s>=5)if(o-1<0){for(var l=0;l>o;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,a);i++)r.push(0);var h=0!==a,f=t+e.integerLen,d=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0}),0);d&&(r.unshift(d),e.integerLen++)}function Te(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var _e=function e(){Object(u.a)(this,e)};function Ae(e,t,n,r){var i="=".concat(e);if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error('No plural message found for value "'.concat(e,'"'))}var Se=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).locale=e,r}return Object(a.a)(n,[{key:"getPluralCategory",value:function(e,t){switch(Q(t||this.locale)(e)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}]),n}(_e);return e.\u0275fac=function(t){return new(t||e)(c.Tb(c.u))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}();function Ne(e,t){t=encodeURIComponent(t);var n,a=Object(r.a)(e.split(";"));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.indexOf("="),u=-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],c=Object(i.a)(u,2),l=c[1];if(c[0].trim()===t)return decodeURIComponent(l)}}catch(h){a.e(h)}finally{a.f()}return null}var ke=function(){var e=function(){function e(t,n,r,i){Object(u.a)(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object(a.a)(e,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(c.tb)(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}},{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Object(c.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.s),c.Jb(c.t),c.Jb(c.l),c.Jb(c.D))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),je=function(){var e=function(){function e(t){Object(u.a)(this,e),this._viewContainerRef=t,this._componentRef=null,this._moduleRef=null}return Object(a.a)(e,[{key:"ngOnChanges",value:function(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){var t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){var n=t.get(c.x);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(n.injector)}else this._moduleRef=null;var r=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(c.j)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(r,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}},{key:"ngOnDestroy",value:function(){this._moduleRef&&this._moduleRef.destroy()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.O))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[c.wb]}),e}(),xe=function(){function e(t,n,r,i){Object(u.a)(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return Object(a.a)(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Me=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(a.a)(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new xe(null,t._ngForOf,-1,-1),null===i?void 0:i),o=new Re(e,a);n.push(o)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Re(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,a=this._viewContainer.length;i<a;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){Object(c.U)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.O),c.Jb(c.K),c.Jb(c.s))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Re=function e(t,n){Object(u.a)(this,e),this.record=t,this.view=n},De=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._viewContainer=t,this._context=new Pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(a.a)(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Ie("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Ie("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.O),c.Jb(c.K))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),Pe=function e(){Object(u.a)(this,e),this.$implicit=null,this.ngIf=null};function Ie(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Object(c.tb)(t),"'."))}var Le=function(){function e(t,n){Object(u.a)(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return Object(a.a)(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),Fe=function(){var e=function(){function e(){Object(u.a)(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return Object(a.a)(e,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}},{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.Eb({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e}(),qe=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this.ngSwitch=r,r._addCase(),this._view=new Le(t,n)}return Object(a.a)(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.O),c.Jb(c.K),c.Jb(Fe,1))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e}(),Be=function(){var e=function e(t,n,r){Object(u.a)(this,e),r._addDefault(new Le(t,n))};return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.O),c.Jb(c.K),c.Jb(Fe,1))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngSwitchDefault",""]]}),e}(),Ue=function(){var e=function(){function e(t){Object(u.a)(this,e),this._localization=t,this._caseViews={}}return Object(a.a)(e,[{key:"addCase",value:function(e,t){this._caseViews[e]=t}},{key:"_updateView",value:function(){this._clearViews();var e=Object.keys(this._caseViews),t=Ae(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}},{key:"_clearViews",value:function(){this._activeView&&this._activeView.destroy()}},{key:"_activateView",value:function(e){e&&(this._activeView=e,this._activeView.create())}},{key:"ngPlural",set:function(e){this._switchValue=e,this._updateView()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(_e))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),e}(),Ve=function(){var e=function e(t,n,r,i){Object(u.a)(this,e),this.value=t;var a=!isNaN(Number(t));i.addCase(a?"=".concat(t):t,new Le(r,n))};return e.\u0275fac=function(t){return new(t||e)(c.Ub("ngPluralCase"),c.Jb(c.K),c.Jb(c.O),c.Jb(Ue,1))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngPluralCase",""]]}),e}(),He=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return Object(a.a)(e,[{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=e.split("."),r=Object(i.a)(n,2),a=r[0],o=r[1];null!=(t=null!=t&&o?"".concat(t).concat(o):t)?this._renderer.setStyle(this._ngEl.nativeElement,a,t):this._renderer.removeStyle(this._ngEl.nativeElement,a)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.l),c.Jb(c.t),c.Jb(c.D))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}(),ze=function(){var e=function(){function e(t){Object(u.a)(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return Object(a.a)(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,a=Object(r.a)(n);try{for(a.s();!(i=a.n()).done;)if(-1===t.indexOf(i.value))return!0}catch(o){a.e(o)}finally{a.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.O))},e.\u0275dir=c.Eb({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.wb]}),e}();function Qe(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Object(c.tb)(e),"'"))}var We=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Ke=new(function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Ge=new We,Je=function(){var e=function(){function e(t){Object(u.a)(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return Object(a.a)(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(Object(c.qb)(t))return Ke;if(Object(c.pb)(t))return Ge;throw Qe(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Vb())},e.\u0275pipe=c.Ib({name:"async",type:e,pure:!1}),e}(),Ye=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Qe(e,t);return t.toLowerCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"lowercase",type:e,pure:!0}),e}(),Ze=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g,Xe=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Qe(e,t);return t.replace(Ze,(function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"titlecase",type:e,pure:!0}),e}(),$e=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"transform",value:function(t){if(!t)return t;if("string"!=typeof t)throw Qe(e,t);return t.toUpperCase()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"uppercase",type:e,pure:!0}),e}(),et=function(){var e=function(){function e(t){Object(u.a)(this,e),this.locale=t}return Object(a.a)(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return ne(t,n,i||this.locale,r)}catch(a){throw Qe(e,a.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.u))},e.\u0275pipe=c.Ib({name:"date",type:e,pure:!0}),e}(),tt=/#/g,nt=function(){var e=function(){function e(t){Object(u.a)(this,e),this._localization=t}return Object(a.a)(e,[{key:"transform",value:function(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw Qe(e,n);return n[Ae(t,Object.keys(n),this._localization,r)].replace(tt,t.toString())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(_e))},e.\u0275pipe=c.Ib({name:"i18nPlural",type:e,pure:!0}),e}(),rt=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"transform",value:function(t,n){if(null==t)return"";if("object"!=typeof n||"string"!=typeof t)throw Qe(e,n);return n.hasOwnProperty(t)?n[t]:n.hasOwnProperty("other")?n.other:""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"i18nSelect",type:e,pure:!0}),e}(),it=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"transform",value:function(e){return JSON.stringify(e,null,2)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"json",type:e,pure:!1}),e}();function at(e,t){return{key:e,value:t}}var ot=function(){var e=function(){function e(t){Object(u.a)(this,e),this.differs=t,this.keyValues=[]}return Object(a.a)(e,[{key:"transform",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st;if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());var r=this.differ.diff(e);return r&&(this.keyValues=[],r.forEachItem((function(e){t.keyValues.push(at(e.key,e.currentValue))})),this.keyValues.sort(n)),this.keyValues}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.t))},e.\u0275pipe=c.Ib({name:"keyvalue",type:e,pure:!1}),e}();function st(e,t){var n=e.key,r=t.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),a=String(r);return i==a?0:i<a?-1:1}var ut=function(){var e=function(){function e(t){Object(u.a)(this,e),this._locale=t}return Object(a.a)(e,[{key:"transform",value:function(t,n,r){if(ht(t))return null;r=r||this._locale;try{return function(e,t,n){return ge(e,Ee(H(t,R.Decimal),V(t,F.MinusSign)),t,F.Group,F.Decimal,n)}(ft(t),r,n)}catch(i){throw Qe(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.u))},e.\u0275pipe=c.Ib({name:"number",type:e,pure:!0}),e}(),ct=function(){var e=function(){function e(t){Object(u.a)(this,e),this._locale=t}return Object(a.a)(e,[{key:"transform",value:function(t,n,r){if(ht(t))return null;r=r||this._locale;try{return function(e,t,n){return ge(e,Ee(H(t,R.Percent),V(t,F.MinusSign)),t,F.Group,F.Decimal,n,!0).replace(new RegExp("%","g"),V(t,F.PercentSign))}(ft(t),r,n)}catch(i){throw Qe(e,i.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.u))},e.\u0275pipe=c.Ib({name:"percent",type:e,pure:!0}),e}(),lt=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";Object(u.a)(this,e),this._locale=t,this._defaultCurrencyCode=n}return Object(a.a)(e,[{key:"transform",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(ht(t))return null;a=a||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");var o=n||this._defaultCurrencyCode;"code"!==r&&(o="symbol"===r||"symbol-narrow"===r?J(o,"symbol"===r?"wide":"narrow",a):r);try{var s=ft(t);return be(s,a,o,n,i)}catch(u){throw Qe(e,u.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.u),c.Jb(c.k))},e.\u0275pipe=c.Ib({name:"currency",type:e,pure:!0}),e}();function ht(e){return null==e||""===e||e!=e}function ft(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}var dt=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(a.a)(e,[{key:"transform",value:function(t,n,r){if(null==t)return t;if(!this.supports(t))throw Qe(e,t);return t.slice(n,r)}},{key:"supports",value:function(e){return"string"==typeof e||Array.isArray(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"slice",type:e,pure:!1}),e}(),pt=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},providers:[{provide:_e,useClass:Se}]}),e}(),mt="browser";function yt(e){return e===mt}var vt=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275prov=Object(c.Fb)({token:e,providedIn:"root",factory:function(){return new gt(Object(c.Tb)(p),window,Object(c.Tb)(c.m))}}),e}(),gt=function(){function e(t,n,r){Object(u.a)(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return Object(a.a)(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}()},"2p4/":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){this.options=e}},"3C3V":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){this.generatedMaps=[]}},"3OGo":function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},"3lSR":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("cJ9h"),i=n("5E2i");function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,e)}},"3mST":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe");function u(e){return function(t){return t.lift(new c(e))}}var c=function(){function e(t){Object(a.a)(this,e),this.total=t}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.total))}}]),e}(),l=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return Object(o.a)(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(s.a)},"47ST":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("IdLP");function i(e,t){return new r.a(t?function(n){return t.schedule(a,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function a(e){e.subscriber.error(e.error)}},"4U52":function(e,t,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},"4e/d":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("JRSL"),i=n("3OGo"),a=n("Qvxn"),o=n("sTvq"),s=n("bI4O"),u=n("jg4I"),c=n("pBDD"),l=n("r9RI"),h=n("mW0F");function f(e){return function(t){var n=new d(e),r=t.lift(n);return n.caught=r}}var d=function(){function e(t){Object(s.a)(this,e),this.selector=t}return Object(u.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new p(e,this.selector,this.caught))}}]),e}(),p=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r,i){var a;return Object(s.a)(this,n),(a=t.call(this,e)).selector=r,a.caught=i,a}return Object(u.a)(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void Object(r.a)(Object(i.a)(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var a=new l.a(this,void 0,void 0);this.add(a);var o=Object(h.a)(this,t,void 0,void 0,a);o!==a&&this.add(o)}}}]),n}(c.a)},"4rhd":function(e,t,n){var r=n("KLyV").Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(e=r.from(e,t=t||"utf8"));for(var n=this._block,i=this._blockSize,a=e.length,o=this._len,s=0;s<a;){for(var u=o%i,c=Math.min(a-s,i-u),l=0;l<c;l++)n[u+l]=e[s+l];s+=c,(o+=c)%i==0&&this._update(n)}return this._len+=a,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0;this._block.writeUInt32BE((n-r)/4294967296,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var i=this._hash();return e?i.toString(e):i},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},"5E2i":function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},"5W/B":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(){var n=e.call(this)||this;return n.name="TransactionAlreadyStartedError",Object.setPrototypeOf(n,t.prototype),n.message="Transaction already started for the given connection, commit current transaction before starting a new one.",n}return r.d(t,e),t}(Error)},"5XID":function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e)?Number(e):t}function i(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function a(e){return Array.isArray(e)?e:[e]}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n("EM62")},"5gjd":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){this.whereFactory=e}},"5lCh":function(e,t,n){"use strict";n.d(t,"a",(function(){return jt}));var r=n("XlW9"),i=n("bI4O"),a=n("jg4I"),o=n("Qvxn"),s=n("sTvq"),u=n("EM62"),c=n("e4iD"),l=n("f7+R"),h=n("JRSL"),f=n("3OGo"),d=n("mPN/"),p=n("K8MB");function m(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function y(e){switch(e.length){case 0:return new l.d;case 1:return e[0];default:return new l.o(e)}}function v(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],u=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==u,h=r&&c||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),s){case l.p:s=i[n];break;case l.a:s=a[n];break;default:s=t.normalizeStyleValue(n,r,s,o)}h[r]=s})),r||s.push(h),c=h,u=n})),o.length){var h="\n - ";throw new Error("Unable to animate due to the following errors:".concat(h).concat(o.join(h)))}return s}function g(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&b(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&b(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&b(n,"destroy",e))}))}}function b(e,t,n){var r=n.totalTime,i=E(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),a=e._data;return null!=a&&(i._data=a),i}function E(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function w(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function O(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var C=function(e,t){return!1},T=function(e,t){return!1},_=function(e,t,n){return[]},A=m();(A||"undefined"!=typeof Element)&&(C=function(e,t){return e.contains(t)},T=function(){if(A||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:T}(),_=function(e,t,n){var r=[];if(n)r.push.apply(r,Object(p.a)(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var S=null,N=!1;function k(e){S||(S=("undefined"!=typeof document?document.body:null)||{},N=!!S.style&&"WebkitAppearance"in S.style);var t=!0;return S.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in S.style)&&N&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in S.style),t}var j=T,x=C,M=_;function R(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var D=function(){var e=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"validateStyleProperty",value:function(e){return k(e)}},{key:"matchesElement",value:function(e,t){return j(e,t)}},{key:"containsElement",value:function(e,t){return x(e,t)}},{key:"query",value:function(e,t,n){return M(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new l.d(n,r)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e}(),P=function(){var e=function e(){Object(i.a)(this,e)};return e.NOOP=new D,e}();function I(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:L(parseFloat(t[1]),t[2])}function L(e,t){switch(t){case"s":return 1e3*e;default:return e}}function F(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=L(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(i=L(parseFloat(s),o[4]));var u=o[5];u&&(a=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:a}}(e,t,n)}function q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else q(e,n);return n}function U(e,t,n){return n?t+":"+n+";":""}function V(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=U(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=U(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function H(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Z(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),m()&&V(e))}function z(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Z(t);e.style[n]=""})),m()&&V(e))}function Q(e){return Array.isArray(e)?1==e.length?e[0]:Object(l.i)(e):e}var W=new RegExp("".concat("{{","\\s*(.+?)\\s*").concat("}}"),"g");function K(e){var t=[];if("string"==typeof e){for(var n;n=W.exec(e);)t.push(n[1]);W.lastIndex=0}return t}function G(e,t,n){var r=e.toString(),i=r.replace(W,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()}));return i==r?e:i}function J(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Y=/-+([a-z0-9])/g;function Z(e){return e.replace(Y,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function X(e,t){return 0===e||0===t}function $(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],a=[];if(r.forEach((function(e){i.hasOwnProperty(e)||a.push(e),i[e]=n[e]})),a.length)for(var o=function(){var n=t[s];a.forEach((function(t){n[t]=te(e,t)}))},s=1;s<t.length;s++)o()}return t}function ee(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function te(e,t){return window.getComputedStyle(e)[t]}var ne=new Set(["true","1"]),re=new Set(["false","0"]);function ie(e,t){var n=ne.has(e)||re.has(e),r=ne.has(t)||re.has(t);return function(i,a){var o="*"==e||e==i,s="*"==t||t==a;return!o&&n&&"boolean"==typeof i&&(o=i?ne.has(e):re.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?ne.has(t):re.has(t)),o&&s}}var ae=new RegExp("s*".concat(":self","s*,?"),"g");function oe(e,t,n){return new se(e).build(t,n)}var se=function(){function e(t){Object(i.a)(this,e),this._driver=t}return Object(a.a)(e,[{key:"build",value:function(e,t){var n=new ue(t);return this._resetContextStyleTimingState(n),ee(this,Q(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,a.push(n.visitState(s,t))})),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,a=r||{};if(n.styles.forEach((function(e){if(ce(e)){var t=e;Object.keys(t).forEach((function(e){K(t[e]).forEach((function(e){a.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var o=J(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,a=ee(this,Q(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=i[1],o=i[2],s=i[3];t.push(ie(a,s)),"<"!=o[0]||"*"==a&&"*"==s||t.push(ie(s,a))}(e,i,r)})):i.push(n),i),animation:a,queryCount:t.queryCount,depCount:t.depCount,options:le(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return ee(n,e,t)})),options:le(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,a=e.steps.map((function(e){t.currentTime=r;var a=ee(n,e,t);return i=Math.max(i,t.currentTime),a}));return t.currentTime=i,{type:3,steps:a,options:le(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return he(F(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=he(0,0,"");return i.dynamic=!0,i.strValue=r,i}return he((n=n||F(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:Object(l.k)({});if(5==i.type)n=this.visitKeyframes(i,t);else{var a=e.styles,o=!1;if(!a){o=!0;var s={};r.easing&&(s.easing=r.easing),a=Object(l.k)(s)}t.currentTime+=r.duration+r.delay;var u=this.visitStyle(a,t);u.isEmptyStep=o,n=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==l.a?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(ce(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var a in t)if(t[a].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var o,s,u,c=t.collectedStyles[t.currentQuerySelector],l=c[r],h=!0;l&&(a!=i&&a>=l.startTime&&i<=l.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(l.startTime,'ms" and "').concat(l.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(i,'ms"')),h=!1),a=l.startTime),h&&(c[r]={startTime:a,endTime:i}),t.options&&(o=t.errors,s=t.options.params||{},(u=K(e[r])).length&&u.forEach((function(e){s.hasOwnProperty(e)||o.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,a=[],o=!1,s=!1,u=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(ce(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(ce(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,o=o||l<u,u=l,a.push(l),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return c.forEach((function(e,i){var o=h>0?i==f?1:h*i:a[i],s=o*m;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=o,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:ee(this,Q(e.animation),t),options:le(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:le(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:le(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var a=function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(ae,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),o=Object(r.a)(a,2),s=o[0],u=o[1];t.currentQuerySelector=n.length?n+" "+s:s,w(t.collectedStyles,t.currentQuerySelector,{});var c=ee(this,Q(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:c,originalSelector:e.selector,options:le(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:F(e.timings,t.errors,!0);return{type:12,animation:ee(this,Q(e.animation),t),timings:n,options:null}}}]),e}(),ue=function e(t){Object(i.a)(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function ce(e){return!Array.isArray(e)&&"object"==typeof e}function le(e){var t;return e?(e=q(e)).params&&(e.params=(t=e.params)?q(t):null):e={},e}function he(e,t,n){return{duration:e,delay:t,easing:n}}function fe(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var de=function(){function e(){Object(i.a)(this,e),this._map=new Map}return Object(a.a)(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,Object(p.a)(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),pe=new RegExp(":enter","g"),me=new RegExp(":leave","g");function ye(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ve).buildKeyframes(e,t,n,r,i,a,o,s,u,c)}var ve=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,a,o,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new de;var l=new be(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([a],null,l.errors,s),ee(this,n,l);var h=l.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(o).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([o],null,l.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[fe(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?I(n.duration):null,a=null!=n.delay?I(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,a);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ee(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&((i=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ge);var o=I(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach((function(e){return ee(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?I(e.options.delay):0;e.steps.forEach((function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),ee(n,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return F(t.params?G(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach((function(e){a.forwardTime((e.offset||0)*i),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?I(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ge);var o=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);a&&s.delayNextStep(a),r===t.element&&(u=s.currentTimeline),ee(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,a=Math.abs(i.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;ee(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),ge={},be=function(){function e(t,n,r,a,o,s,u,c){Object(i.a)(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=o,this.errors=s,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ge,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Ee(this._driver,n,0),u.push(this.currentTimeline)}return Object(a.a)(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=I(r.duration)),null!=r.delay&&(i.delay=I(r.delay));var a=r.params;if(a){var o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach((function(e){t&&o.hasOwnProperty(e)||(o[e]=G(a[e],o,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,a=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=ge,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new we(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,a){var o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(pe,"."+this._enterClassName)).replace(me,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,Object(p.a)(s))}return i||0!=o.length||a.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),o}},{key:"params",get:function(){return this.options.params}}]),e}(),Ee=function(){function e(t,n,r,a){Object(i.a)(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return Object(a.a)(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||l.a,t._currentKeyframe[e]=l.a})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},o=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]=l.a})):B(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(o).forEach((function(e){var t=G(o[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:l.a),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(a,o){var s=B(a,!0);Object.keys(s).forEach((function(e){var r=s[e];r==l.p?t.add(e):r==l.a&&n.add(e)})),r||(s.offset=o/e.duration),i.push(s)}));var a=t.size?J(t.values()):[],o=n.size?J(n.values()):[];if(r){var s=i[0],u=q(s);s.offset=0,u.offset=1,i=[s,u]}return fe(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),we=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,a,o,s,u){var c,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return Object(i.a)(this,n),(c=t.call(this,e,r,u.delay)).element=r,c.keyframes=a,c.preStyleProps=o,c.postStyleProps=s,c._stretchStartingKeyframe=l,c.timings={duration:u.duration,delay:u.delay,easing:u.easing},c}return Object(a.a)(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=r+n,s=n/o,u=B(e[0],!1);u.offset=0,a.push(u);var c=B(e[0],!1);c.offset=Oe(s),a.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=B(e[h],!1);f.offset=Oe((n+f.offset*r)/o),a.push(f)}r=o,n=0,i="",e=a}return fe(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(Ee);function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Ce=function e(){Object(i.a)(this,e)},Te=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"normalizePropertyName",value:function(e,t){return Z(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",a=n.toString().trim();if(_e[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+i}}]),n}(Ce),_e=function(){return e="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),t={},e.forEach((function(e){return t[e]=!0})),t;var e,t}();function Ae(e,t,n,r,i,a,o,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Se={},Ne=function(){function e(t,n,r){Object(i.a)(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return Object(a.a)(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],a=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,r,i,a,o,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Se,f=this.buildStyles(n,o&&o.params||Se,l),d=s&&s.params||Se,p=this.buildStyles(r,d,l),m=new Set,y=new Map,v=new Map,g="void"===r,b={params:Object.assign(Object.assign({},h),d)},E=c?[]:ye(e,t,this.ast.animation,i,a,f,p,b,u,l),O=0;if(E.forEach((function(e){O=Math.max(e.duration+e.delay,O)})),l.length)return Ae(t,this._triggerName,n,r,g,f,p,[],[],y,v,O,l);E.forEach((function(e){var n=e.element,r=w(y,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=w(v,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&m.add(n)}));var C=J(m.values());return Ae(t,this._triggerName,n,r,g,f,p,E,C,y,v,O)}}]),e}(),ke=function(){function e(t,n){Object(i.a)(this,e),this.styles=t,this.defaultParams=n}return Object(a.a)(e,[{key:"buildStyles",value:function(e,t){var n={},r=q(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var a=i[e];a.length>1&&(a=G(a,r,t)),n[e]=a}))}})),n}}]),e}(),je=function(){function e(t,n){var r=this;Object(i.a)(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new ke(e.style,e.options&&e.options.params||{})})),xe(this.states,"true","1"),xe(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new Ne(t,e,r.states))})),this.fallbackTransition=new Ne(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return Object(a.a)(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function xe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Me=new de,Re=function(){function e(t,n,r){Object(i.a)(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return Object(a.a)(e,[{key:"register",value:function(e,t){var n=[],r=oe(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=v(this._driver,this._normalizer,r,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],s=new Map;if(o?(n=ye(this._driver,t,o,"ng-enter","ng-leave",{},{},i,Me,a)).forEach((function(e){var t=w(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,l.a)}))}));var u=n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})),c=y(u);return this._playersById[e]=c,c.onDestroy((function(){return r.destroy(e)})),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=E(t,"","","");return g(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),De=[],Pe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ie={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Le=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(i.a)(this,e),this.namespaceId=n;var r=t&&t.hasOwnProperty("value"),a=r?t.value:t;if(this.value=Ve(a),r){var o=q(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return Object(a.a)(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),Fe=new Le("void"),qe=function(){function e(t,n,r){Object(i.a)(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ke(n,this._hostClassName)}return Object(a.a)(e,[{key:"listen",value:function(e,t,n,r){var i,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=w(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);var u=w(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(Ke(e,"ng-trigger"),Ke(e,"ng-trigger-"+t),u[t]=Fe),function(){a._engine.afterFlush((function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete u[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new Ue(this.id,t,e),s=this._engine.statesByElement.get(e);s||(Ke(e,"ng-trigger"),Ke(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new Le(n,this.id),l=n&&n.hasOwnProperty("value");!l&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=Fe);var h="void"===c.value;if(h||u.value!==c.value){var f=w(this._engine.playersByElement,e,[]);f.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var d=a.matchTransition(u.value,c.value,e,c.params),p=!1;if(!d){if(!i)return;d=a.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:d,fromState:u,toState:c,player:o,isFallbackTransition:p}),p||(Ke(e,"ng-animate-queued"),o.onStart((function(){Ge(e,"ng-animate-queued")}))),o.onDone((function(){var t=r.players.indexOf(o);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(o);i>=0&&n.splice(i,1)}})),this.players.push(o),f.push(o),o}if(!Ye(u.params,c.params)){var m=[],y=a.matchStyles(u.value,u.params,m),v=a.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush((function(){z(e,y),H(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,".ng-trigger",!0);r.forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return r.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&o.push(n)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&y(o).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var a=t._triggers[i].fallbackTransition,o=t._engine.statesByElement.get(e)[i]||Fe,s=new Le("void"),u=new Ue(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:a,fromState:o,toState:s,player:u,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e.__ng_removed;s&&s!==Pe||(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Ke(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var a=r.element,o=t._elementListeners.get(a);o&&o.forEach((function(t){if(t.name==r.triggerName){var n=E(a,r.triggerName,r.fromState.value,r.toState.value);n._data=e,g(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Be=function(){function e(t,n,r){Object(i.a)(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return Object(a.a)(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new qe(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=n[r[i]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,r){if(He(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(He(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ke(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ge(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(He(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return He(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return y(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Pe,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++){var i=this.collectedEnterElements[r];Ke(i,"ng-star-inserted")}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var a=[];try{n=this._flushAnimations(a,t)}finally{for(var o=0;o<a.length;o++)a[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++){var u=this.collectedLeaveElements[s];this.processLeaveNode(u)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var c=this._whenQuietFns;this._whenQuietFns=[],n.length?y(n).onDone((function(){c.forEach((function(e){return e()}))})):c.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new de,i=[],a=new Map,o=[],s=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach((function(e){h.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)h.add(t[r])}));var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),m=We(d,this.collectedEnterElements),v=new Map,g=0;m.forEach((function(e,t){var n="ng-enter"+g++;v.set(t,n),e.forEach((function(e){return Ke(e,n)}))}));for(var b=[],E=new Set,O=new Set,C=0;C<this.collectedLeaveElements.length;C++){var T=this.collectedLeaveElements[C],_=T.__ng_removed;_&&_.setForRemoval&&(b.push(T),E.add(T),_.hasAnimation?this.driver.query(T,".ng-star-inserted",!0).forEach((function(e){return E.add(e)})):O.add(T))}var A=new Map,S=We(d,Array.from(E));S.forEach((function(e,t){var n="ng-leave"+g++;A.set(t,n),e.forEach((function(e){return Ke(e,n)}))})),e.push((function(){m.forEach((function(e,t){var n=v.get(t);e.forEach((function(e){return Ge(e,n)}))})),S.forEach((function(e,t){var n=A.get(t);e.forEach((function(e){return Ge(e,n)}))})),b.forEach((function(e){n.processLeaveNode(e)}))}));for(var N=[],k=[],j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach((function(e){var t=e.player,a=e.element;if(N.push(t),n.collectedEnterElements.length){var l=a.__ng_removed;if(l&&l.setForMove)return void t.destroy()}var h=!f||!n.driver.containsElement(f,a),d=A.get(a),p=v.get(a),m=n._buildInstruction(e,r,p,d,h);if(m.errors&&m.errors.length)k.push(m);else{if(h)return t.onStart((function(){return z(a,m.fromStyles)})),t.onDestroy((function(){return H(a,m.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return z(a,m.fromStyles)})),t.onDestroy((function(){return H(a,m.toStyles)})),void i.push(t);m.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(a,m.timelines),o.push({instruction:m,player:t,element:a}),m.queriedElements.forEach((function(e){return w(s,e,[]).push(t)})),m.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=u.get(t);r||u.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),m.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(k.length){var x=[];k.forEach((function(e){x.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return x.push("- ".concat(e,"\n"))}))})),N.forEach((function(e){return e.destroy()})),this.reportError(x)}var M=new Map,R=new Map;o.forEach((function(e){var t=e.element;r.has(t)&&(R.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,M))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){w(M,t,[]).push(e),e.destroy()}))}));var D=b.filter((function(e){return Ze(e,u,c)})),P=new Map;Qe(P,this.driver,O,c,l.a).forEach((function(e){Ze(e,u,c)&&D.push(e)}));var I=new Map;m.forEach((function(e,t){Qe(I,n.driver,new Set(e),u,l.p)})),D.forEach((function(e){var t=P.get(e),n=I.get(e);P.set(e,Object.assign(Object.assign({},t),n))}));var L=[],F=[],q={};o.forEach((function(e){var t=e.element,o=e.player,s=e.instruction;if(r.has(t)){if(h.has(t))return o.onDestroy((function(){return H(t,s.toStyles)})),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=q;if(R.size>1){for(var c=t,l=[];c=c.parentNode;){var f=R.get(c);if(f){u=f;break}l.push(c)}l.forEach((function(e){return R.set(e,u)}))}var d=n._buildAnimation(o.namespaceId,s,M,a,I,P);if(o.setRealPlayer(d),u===q)L.push(o);else{var p=n.playersByElement.get(u);p&&p.length&&(o.parentPlayer=y(p)),i.push(o)}}else z(t,s.fromStyles),o.onDestroy((function(){return H(t,s.toStyles)})),F.push(o),h.has(t)&&i.push(o)})),F.forEach((function(e){var t=a.get(e.element);if(t&&t.length){var n=y(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var B=0;B<b.length;B++){var U=b[B],V=U.__ng_removed;if(Ge(U,"ng-leave"),!V||!V.hasAnimation){var Q=[];if(s.size){var W=s.get(U);W&&W.length&&Q.push.apply(Q,Object(p.a)(W));for(var K=this.driver.query(U,".ng-animating",!0),G=0;G<K.length;G++){var J=s.get(K[G]);J&&J.length&&Q.push.apply(Q,Object(p.a)(J))}}var Y=Q.filter((function(e){return!e.destroyed}));Y.length?Je(this,U,Y):this.processLeaveNode(U)}}return b.length=0,L.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),L}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var u=!i||"void"==i;s.forEach((function(e){e.queued||(u||e.triggerName==r)&&a.push(e)}))}}return(n||r)&&(a=a.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=Object(d.a)(t.timelines);try{var c=function(){var e=r.value.element,u=e!==a,c=w(n,e,[]);i._getPreviousPlayers(e,u,o,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}z(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var o=this,s=t.triggerName,u=t.element,c=[],h=new Set,f=new Set,d=t.timelines.map((function(t){var d=t.element;h.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new l.d(t.duration,t.delay);var m,y,g=d!==u,b=(m=(n.get(d)||De).map((function(e){return e.getRealPlayer()})),y=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof l.o?e(i.players,n):n.push(i)}}(m,y),y).filter((function(e){return!!e.element&&e.element===d})),E=i.get(d),w=a.get(d),O=v(o.driver,o._normalizer,d,t.keyframes,E,w),C=o._buildPlayer(t,O,b);if(t.subTimeline&&r&&f.add(d),g){var T=new Ue(e,s,d);T.setRealPlayer(C),c.push(T)}return C}));c.forEach((function(e){w(o.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var a=r.indexOf(n);r.splice(a,1)}0==r.length&&delete e[t]}return r}(o.playersByQueriedElement,e.element,e)}))})),h.forEach((function(e){return Ke(e,"ng-animating")}));var p=y(d);return p.onDestroy((function(){h.forEach((function(e){return Ge(e,"ng-animating")})),H(u,t.toStyles)})),f.forEach((function(e){w(r,e,[]).push(p)})),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new l.d(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),Ue=function(){function e(t,n,r){Object(i.a)(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new l.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return Object(a.a)(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return g(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){w(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Ve(e){return null!=e?e:null}function He(e){return e&&1===e.nodeType}function ze(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Qe(e,t,n,r,i){var a=[];n.forEach((function(e){return a.push(ze(e))}));var o=[];r.forEach((function(n,r){var a={};n.forEach((function(e){var n=a[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Ie,o.push(r))})),e.set(r,a)}));var s=0;return n.forEach((function(e){return ze(e,a[s++])})),o}function We(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var a=i.get(t);if(a)return a;var o=t.parentNode;return a=n.has(o)?o:r.has(o)?1:e(o),i.set(t,a),a}(e);1!==t&&n.get(t).push(e)})),n}function Ke(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Ge(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function Je(e,t,n){y(n).onDone((function(){return e.processLeaveNode(t)}))}function Ye(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}function Ze(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var Xe=function(){function e(t,n,r){var a=this;Object(i.a)(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Be(t,n,r),this._timelineEngine=new Re(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return a.onRemovalComplete(e,t)}}return Object(a.a)(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var a=e+"-"+r,o=this._triggerCache[a];if(!o){var s=[],u=oe(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t){return new je(e,t)}(r,u),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var a=O(n),o=Object(r.a)(a,2);this._timelineEngine.command(o[0],t,o[1],i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,a){if("@"==n.charAt(0)){var o=O(n),s=Object(r.a)(o,2);return this._timelineEngine.listen(s[0],t,s[1],a)}return this._transitionEngine.listen(e,t,n,i,a)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function $e(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=tt(t[0]),t.length>1&&(r=tt(t[t.length-1]))):t&&(n=tt(t)),n||r?new et(e,n,r):null}var et=function(){var e=function(){function e(t,n,r){Object(i.a)(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var a=e.initialStylesByElement.get(t);a||e.initialStylesByElement.set(t,a={}),this._initialStyles=a}return Object(a.a)(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&H(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(H(this._element,this._initialStyles),this._endStyles&&(H(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(z(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(z(this._element,this._endStyles),this._endStyles=null),H(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function tt(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];nt(i)&&((t=t||{})[i]=e[i])}return t}function nt(e){return"display"===e||"position"===e}var rt=function(){function e(t,n,r,a,o,s,u){var c=this;Object(i.a)(this,e),this._element=t,this._name=n,this._duration=r,this._delay=a,this._easing=o,this._fillMode=s,this._onDoneFn=u,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return c._handleCallback(e)}}return Object(a.a)(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ct(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)","===e.charAt(n)&&0}(n),t="".concat(n,", ").concat(t)),ut(e,"",t),st(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){it(this._element,this._name,"paused")}},{key:"resume",value:function(){it(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=at(this._element,this._name);this._position=e*this._duration,ut(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),st(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._name,(r=ot(n=ct(e=this._element,"").split(","),t))>=0&&(n.splice(r,1),ut(e,"",n.join(","))))}}]),e}();function it(e,t,n){ut(e,"PlayState",n,at(e,t))}function at(e,t){var n=ct(e,"");return n.indexOf(",")>0?ot(n.split(","),t):ot([n],t)}function ot(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function st(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function ut(e,t,n,r){var i="animation"+t;if(null!=r){var a=e.style[i];if(a.length){var o=a.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function ct(e,t){return e.style["animation"+t]}var lt=function(){function e(t,n,r,a,o,s,u,c){Object(i.a)(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=a,this._delay=o,this._finalStyles=u,this._specialStyles=c,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=a+o,this._buildStyler()}return Object(a.a)(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new rt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:te(e.element,r))}))}this.currentSnapshot=t}}]),e}(),ht=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this)).element=e,a._startingStyles={},a.__initialized=!1,a._styles=R(r),a}return Object(a.a)(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),Object(h.a)(Object(f.a)(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),Object(h.a)(Object(f.a)(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,Object(h.a)(Object(f.a)(n.prototype),"destroy",this).call(this))}}]),n}(l.d),ft=function(){function e(){Object(i.a)(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return Object(a.a)(e,[{key:"validateStyleProperty",value:function(e){return k(e)}},{key:"matchesElement",value:function(e,t){return j(e,t)}},{key:"containsElement",value:function(e,t){return x(e,t)}},{key:"query",value:function(e,t,n){return M(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return R(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+="".concat(i,"}\n")})),r+="}\n";var a=document.createElement("style");return a.innerHTML=r,a}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;o&&this._notifyFaultyScrubber();var s=a.filter((function(e){return e instanceof lt})),u={};X(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return u[e]=t[e]}))}));var c=dt(t=$(e,t,u));if(0==n)return new ht(e,c);var l="".concat("gen_css_kf_").concat(this._count++),h=this.buildKeyframeElement(e,l,t);document.querySelector("head").appendChild(h);var f=$e(e,t),d=new lt(e,t,l,n,r,i,c,f);return d.onDestroy((function(){return pt(h)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}();function dt(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}function pt(e){e.parentNode.removeChild(e)}var mt=function(){function e(t,n,r,a){Object(i.a)(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return Object(a.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:te(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),yt=function(){function e(){Object(i.a)(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vt().toString()),this._cssKeyframesDriver=new ft}return Object(a.a)(e,[{key:"validateStyleProperty",value:function(e){return k(e)}},{key:"matchesElement",value:function(e,t){return j(e,t)}},{key:"containsElement",value:function(e,t){return x(e,t)}},{key:"query",value:function(e,t,n){return M(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0,s=!o&&!this._isNativeImpl;if(s)return this._cssKeyframesDriver.animate(e,t,n,r,i,a);var u=0==r?"both":"forwards",c={duration:n,delay:r,fill:u};i&&(c.easing=i);var l={},h=a.filter((function(e){return e instanceof mt}));X(n,r)&&h.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var f=$e(e,t=$(e,t=t.map((function(e){return B(e,!1)})),l));return new mt(e,t,c,f)}}]),e}();function vt(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var gt=n("2kYt"),bt=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._nextAnimationId=0,a._renderer=e.createRenderer(r.body,{id:"0",encapsulation:u.P.None,styles:[],data:{animation:[]}}),a}return Object(a.a)(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?Object(l.i)(e):e;return Ot(this._renderer,null,t,"register",[n]),new Et(t,this._renderer)}}]),n}(l.b);return e.\u0275fac=function(t){return new(t||e)(u.Tb(u.E),u.Tb(gt.e))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e}(),Et=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(i.a)(this,n),(a=t.call(this))._id=e,a._renderer=r,a}return Object(a.a)(n,[{key:"create",value:function(e,t){return new wt(this._id,e,t||{},this._renderer)}}]),n}(l.c),wt=function(){function e(t,n,r,a){Object(i.a)(this,e),this.id=t,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return Object(a.a)(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ot(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Ot(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Ct=function(){var e=function(){function e(t,n,r){Object(i.a)(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return Object(a.a)(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Tt("",r,this.engine),this._rendererCache.set(r,i)),i}var a=t.id,o=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,e),t.data.animation.forEach((function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(a,o,e,r.name,r)})),new _t(this,o,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=Object(r.a)(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Tb(u.E),u.Tb(Xe),u.Tb(u.z))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e}(),Tt=function(){function e(t,n,r){Object(i.a)(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return Object(a.a)(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),_t=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,a,o){var s;return Object(i.a)(this,n),(s=t.call(this,r,a,o)).factory=e,s.namespaceId=r,s}return Object(a.a)(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,a,o=this;if("@"==t.charAt(0)){var s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),u=t.substr(1),c="";if("@"!=u.charAt(0)){var l=(a=(i=u).indexOf("."),[i.substring(0,a),i.substr(a+1)]),h=Object(r.a)(l,2);u=h[0],c=h[1]}return this.engine.listen(this.namespaceId,s,u,c,(function(e){o.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(Tt),At=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,a){return Object(i.a)(this,n),t.call(this,e.body,r,a)}return n}(Xe);return e.\u0275fac=function(t){return new(t||e)(u.Tb(gt.e),u.Tb(P),u.Tb(Ce))},e.\u0275prov=u.Fb({token:e,factory:e.\u0275fac}),e}(),St=new u.q("AnimationModuleType"),Nt=[{provide:l.b,useClass:bt},{provide:Ce,useFactory:function(){return new Te}},{provide:Xe,useClass:At},{provide:u.E,useFactory:function(e,t,n){return new Ct(e,t,n)},deps:[c.d,Xe,u.z]}],kt=[{provide:P,useFactory:function(){return"function"==typeof vt()?new yt:new ft}},{provide:St,useValue:"BrowserAnimations"}].concat(Nt),jt=([{provide:P,useClass:D},{provide:St,useValue:"NoopAnimations"}].concat(Nt),function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275mod=u.Hb({type:e}),e.\u0275inj=u.Gb({factory:function(t){return new(t||e)},providers:kt,imports:[c.a]}),e}())},"5uDM":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("cJ9h");function i(e,t){return Object(r.a)(e,t,1)}},"5uGe":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("bI4O"),i=n("jg4I"),a=n("uWoz"),o=n("JRSL"),s=n("3OGo"),u=n("Qvxn"),c=n("sTvq"),l=n("IJgj"),h=n("rWo0"),f=n("bwdy"),d=n("25CY"),p=n("HgnN"),m=n("i9P/"),y=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,i,o){var s;switch(Object(r.a)(this,n),(s=t.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h.a;break;case 1:if(!e){s.destination=h.a;break}if("object"==typeof e){e instanceof n?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(Object(a.a)(s))):(s.syncErrorThrowable=!0,s.destination=new v(Object(a.a)(s),e));break}default:s.syncErrorThrowable=!0,s.destination=new v(Object(a.a)(s),e,i,o)}return s}return Object(i.a)(n,[{key:d.a,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(o.a)(Object(s.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(f.a),v=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,i,o,s){var u,c;Object(r.a)(this,n),(u=t.call(this))._parentSubscriber=e;var f=Object(a.a)(u);return Object(l.a)(i)?c=i:i&&(c=i.next,o=i.error,s=i.complete,i!==h.a&&(f=Object.create(i),Object(l.a)(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind(Object(a.a)(u)))),u._context=f,u._next=c,u._error=o,u._complete=s,u}return Object(i.a)(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;p.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=p.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(m.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(m.a)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};p.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),p.a.useDeprecatedSynchronousErrorHandling)throw n;Object(m.a)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!p.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return p.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(m.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(y)},"6EFp":function(e,t,n){"use strict";n.r(t),n.d(t,"RelationQueryBuilder",(function(){return u}));var r=n("D57K"),i=n("DC8z"),a=n("ecGF"),o=function(){function e(e,t){this.queryBuilder=e,this.expressionMap=t}return e.prototype.update=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,o,s,u,c,l,h,f,d,p,m=this;return r.e(this,(function(r){switch(r.label){case 0:return(t=this.expressionMap.relationMetadata).isManyToOne||t.isOneToOneOwner?(c=t.joinColumns.reduce((function(t,n){var r=e instanceof Object?n.referencedColumn.getEntityValue(e):e;return n.setEntityValue(t,r),t}),{}),!this.expressionMap.of||Array.isArray(this.expressionMap.of)&&!this.expressionMap.of.length?[2]:[4,this.queryBuilder.createQueryBuilder().update(t.entityMetadata.target).set(c).whereInIds(this.expressionMap.of).execute()]):[3,2];case 1:return r.sent(),[3,10];case 2:return!t.isOneToOneNotOwner&&!t.isOneToMany||null!==e?[3,4]:(n={},t.inverseRelation.joinColumns.forEach((function(e){n[e.propertyName]=null})),h=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],i={},o=[],h.forEach((function(e,n){t.inverseRelation.joinColumns.map((function(t,r){var a="joinColumn_"+n+"_"+r;i[a]=e instanceof Object?t.referencedColumn.getEntityValue(e):e,o.push(t.propertyPath+" = :"+a)}))})),(s=o.map((function(e){return"("+e+")"})).join(" OR "))?[4,this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(n).where(s).setParameters(i).execute()]:[2]);case 3:return r.sent(),[3,10];case 4:if(!t.isOneToOneNotOwner&&!t.isOneToMany)return[3,6];if(Array.isArray(this.expressionMap.of))throw new Error("You cannot update relations of multiple entities with the same related object. Provide a single entity into .of method.");return u=this.expressionMap.of,c=t.inverseRelation.joinColumns.reduce((function(e,t){var n=u instanceof Object?t.referencedColumn.getEntityValue(u):u;return t.setEntityValue(e,n),e}),{}),!e||Array.isArray(e)&&!e.length?[2]:[4,this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(c).whereInIds(e).execute()];case 5:return r.sent(),[3,10];case 6:return l=t.junctionEntityMetadata,h=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],f=Array.isArray(e)?e:[e],d=t.isManyToManyOwner?f:h,p=[],(t.isManyToManyOwner?h:f).forEach((function(e){d.forEach((function(t){var n={};l.ownerColumns.forEach((function(t){n[t.databaseName]=e instanceof Object?t.referencedColumn.getEntityValue(e):e})),l.inverseColumns.forEach((function(e){n[e.databaseName]=t instanceof Object?e.referencedColumn.getEntityValue(t):t})),p.push(n)}))})),p.length?this.queryBuilder.connection.driver instanceof a.f||this.queryBuilder.connection.driver instanceof a.h?[4,Promise.all(p.map((function(e){return m.queryBuilder.createQueryBuilder().insert().into(l.tableName).values(e).execute()})))]:[3,8]:[2];case 7:return r.sent(),[3,10];case 8:return[4,this.queryBuilder.createQueryBuilder().insert().into(l.tableName).values(p).execute()];case 9:r.sent(),r.label=10;case 10:return[2]}}))}))},e}(),s=function(){function e(e,t){this.queryBuilder=e,this.expressionMap=t}return e.prototype.remove=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,c,l,h,f,d;return r.e(this,(function(p){switch(p.label){case 0:return(t=this.expressionMap.relationMetadata).isOneToMany?(u=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],n=Array.isArray(e)?e:[e],i={},t.inverseRelation.joinColumns.forEach((function(e){i[e.propertyName]=null})),a={},o=[],u.forEach((function(e,i){o.push.apply(o,r.i(n.map((function(n,o){return r.i(t.inverseRelation.joinColumns.map((function(t,n){var r="joinColumn_"+i+"_"+o+"_"+n;return a[r]=e instanceof Object?t.referencedColumn.getEntityValue(e):e,t.propertyPath+" = :"+r})),t.inverseRelation.entityMetadata.primaryColumns.map((function(e,t){var r="primaryColumn_"+o+"_"+o+"_"+t;return a[r]=n instanceof Object?e.getEntityValue(n):n,e.propertyPath+" = :"+r}))).join(" AND ")}))))})),(d=o.map((function(e){return"("+e+")"})).join(" OR "))?[4,this.queryBuilder.createQueryBuilder().update(t.inverseEntityMetadata.target).set(i).where(d).setParameters(a).execute()]:[2]):[3,2];case 1:return p.sent(),[3,4];case 2:return s=t.junctionEntityMetadata,u=Array.isArray(this.expressionMap.of)?this.expressionMap.of:[this.expressionMap.of],c=Array.isArray(e)?e:[e],l=t.isManyToManyOwner?c:u,h={},f=[],(t.isManyToManyOwner?u:c).forEach((function(e,t){f.push.apply(f,r.i(l.map((function(n,i){return r.i(s.ownerColumns.map((function(n,r){var a="firstValue_"+t+"_"+i+"_"+r;return h[a]=e instanceof Object?n.referencedColumn.getEntityValue(e):e,n.databaseName+" = :"+a})),s.inverseColumns.map((function(e,r){var a="secondValue_"+t+"_"+i+"_"+r;return h[a]=n instanceof Object?e.referencedColumn.getEntityValue(n):n,e.databaseName+" = :"+a}))).join(" AND ")}))))})),d=f.map((function(e){return"("+e+")"})).join(" OR "),[4,this.queryBuilder.createQueryBuilder().delete().from(s.tableName).where(d).setParameters(h).execute()];case 3:p.sent(),p.label=4;case 4:return[2]}}))}))},e}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.getQuery=function(){return""},t.prototype.of=function(e){return this.expressionMap.of=e,this},t.prototype.set=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){if(t=this.expressionMap.relationMetadata,!this.expressionMap.of)throw new Error("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(t.isManyToMany||t.isOneToMany)throw new Error('Set operation is only supported for many-to-one and one-to-one relations. However given "'+t.propertyPath+'" has '+t.relationType+" relation. Use .add() method instead.");if(t.joinColumns&&t.joinColumns.length>1&&(!(e instanceof Object)||Object.keys(e).length<t.joinColumns.length))throw new Error('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return[2,new o(this,this.expressionMap).update(e)]}))}))},t.prototype.add=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){if(Array.isArray(e)&&0===e.length)return[2];if(t=this.expressionMap.relationMetadata,!this.expressionMap.of)throw new Error("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(t.isManyToOne||t.isOneToOne)throw new Error('Add operation is only supported for many-to-many and one-to-many relations. However given "'+t.propertyPath+'" has '+t.relationType+" relation. Use .set() method instead.");if(t.joinColumns&&t.joinColumns.length>1&&(!(e instanceof Object)||Object.keys(e).length<t.joinColumns.length))throw new Error('Value to be set into the relation must be a map of relation ids, for example: .set({ firstName: "...", lastName: "..." })');return[2,new o(this,this.expressionMap).update(e)]}))}))},t.prototype.remove=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){if(Array.isArray(e)&&0===e.length)return[2];if(t=this.expressionMap.relationMetadata,!this.expressionMap.of)throw new Error("Entity whose relation needs to be set is not set. Use .of method to define whose relation you want to set.");if(t.isManyToOne||t.isOneToOne)throw new Error('Add operation is only supported for many-to-many and one-to-many relations. However given "'+t.propertyPath+'" has '+t.relationType+" relation. Use .set(null) method instead.");return[2,new s(this,this.expressionMap).remove(e)]}))}))},t.prototype.addAndRemove=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.remove(t)];case 1:return n.sent(),[4,this.add(e)];case 2:return n.sent(),[2]}}))}))},t.prototype.loadOne=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,this.loadMany().then((function(e){return e[0]}))]}))}))},t.prototype.loadMany=function(){return r.b(this,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){if(!((e=this.expressionMap.of)instanceof Object)){if((t=this.expressionMap.mainAlias.metadata).hasMultiplePrimaryKeys)throw new Error("Cannot load entity because only one primary key was specified, however entity contains multiple primary keys");e=t.primaryColumns[0].createValueMap(e)}return[2,this.connection.relationLoader.load(this.expressionMap.relationMetadata,e)]}))}))},t}(i.a)},"6F97":function(e,t,n){"use strict";n.r(t),n.d(t,"SoftDeleteQueryBuilder",(function(){return v}));var r=n("D57K"),i=n("rE0Y"),a=n("DC8z"),o=n("ecGF"),s=n("3C3V"),u=n("g3OH"),c=n("qNyv"),l=n("gFhw"),h=n("2ELk"),f=n("HVZQ"),d=n("ogex"),p=function(e){function t(n){var r=e.call(this)||this;return r.name="MissingDeleteDateColumnError",Object.setPrototypeOf(r,t.prototype),r.message='Entity "'+n.name+'" does not have delete date columns.',r}return r.d(t,e),t}(Error),m=n("RXo8"),y=n("2p4/"),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.expressionMap.aliasNamePrefixingEnabled=!1,r}return r.d(t,e),t.prototype.getQuery=function(){var e=this.createUpdateExpression();return e+=this.createOrderByExpression(),(e+=this.createLimitExpression()).trim()},t.prototype.execute=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,u,f,d,p,m;return r.e(this,(function(y){switch(y.label){case 0:e=this.obtainQueryRunner(),t=!1,y.label=1;case 1:return y.trys.push([1,13,18,23]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:y.sent(),t=!0,y.label=3;case 3:return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(p=new h.a,e.broadcaster.broadcastBeforeUpdateEvent(p,this.expressionMap.mainAlias.metadata),p.promises.length>0?[4,Promise.all(p.promises)]:[3,5]):[3,5];case 4:y.sent(),y.label=5;case 5:return n=new c.a(e,this.expressionMap),!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=n.getUpdationReturningColumns()),i=r.g(this.getQueryAndParameters(),2),a=i[0],u=i[1],f=new s.a,[4,e.query(a,u)];case 6:return d=y.sent(),e.connection.driver instanceof o.g?(f.raw=d[0],f.affected=d[1]):f.raw=d,!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0?[4,n.update(f,this.expressionMap.whereEntities)]:[3,8];case 7:y.sent(),y.label=8;case 8:return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(p=new h.a,e.broadcaster.broadcastAfterUpdateEvent(p,this.expressionMap.mainAlias.metadata),p.promises.length>0?[4,Promise.all(p.promises)]:[3,10]):[3,10];case 9:y.sent(),y.label=10;case 10:return t?[4,e.commitTransaction()]:[3,12];case 11:y.sent(),y.label=12;case 12:return[2,f];case 13:if(m=y.sent(),!t)return[3,17];y.label=14;case 14:return y.trys.push([14,16,,17]),[4,e.rollbackTransaction()];case 15:case 16:return y.sent(),[3,17];case 17:throw m;case 18:return e===this.queryRunner?[3,20]:[4,e.release()];case 19:y.sent(),y.label=20;case 20:return this.connection.driver instanceof l.a&&!e.isTransactionActive?[4,this.connection.driver.autoSave()]:[3,22];case 21:y.sent(),y.label=22;case 22:return[7];case 23:return[2]}}))}))},t.prototype.from=function(e,t){var n=this.createFromAlias(e=e instanceof y.a?e.options.name:e,t);return this.expressionMap.setMainAlias(n),this},t.prototype.where=function(e,t){this.expressionMap.wheres=[];var n=this.computeWhereParameter(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this},t.prototype.andWhere=function(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.orWhere=function(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.whereInIds=function(e){return this.where(this.createWhereIdsExpression(e))},t.prototype.andWhereInIds=function(e){return this.andWhere(this.createWhereIdsExpression(e))},t.prototype.orWhereInIds=function(e){return this.orWhere(this.createWhereIdsExpression(e))},t.prototype.output=function(e){return this.returning(e)},t.prototype.returning=function(e){if(!this.connection.driver.isReturningSqlSupported())throw new u.a;return this.expressionMap.returning=e,this},t.prototype.orderBy=function(e,t,n){var r,i;return void 0===t&&(t="ASC"),this.expressionMap.orderBys=e?e instanceof Object?e:n?((r={})[e]={order:t,nulls:n},r):((i={})[e]=t,i):{},this},t.prototype.addOrderBy=function(e,t,n){return void 0===t&&(t="ASC"),this.expressionMap.orderBys[e]=n?{order:t,nulls:n}:t,this},t.prototype.limit=function(e){return this.expressionMap.limit=e,this},t.prototype.whereEntity=function(e){var t=this;if(!this.expressionMap.mainAlias.hasMetadata)throw new Error(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];var n=e instanceof Array?e:[e];return n.forEach((function(e){var n=t.expressionMap.mainAlias.metadata.getEntityIdMap(e);if(!n)throw new Error("Provided entity does not have ids set, cannot perform operation.");t.orWhereInIds(n)})),this.expressionMap.whereEntities=n,this},t.prototype.updateEntity=function(e){return this.expressionMap.updateEntity=e,this},t.prototype.createUpdateExpression=function(){var e=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0;if(!e)throw new Error('Cannot get entity metadata for the given alias "'+this.expressionMap.mainAlias+'"');if(!e.deleteDateColumn)throw new p(e);var t=[];switch(this.expressionMap.queryType){case"soft-delete":t.push(this.escape(e.deleteDateColumn.databaseName)+" = CURRENT_TIMESTAMP");break;case"restore":t.push(this.escape(e.deleteDateColumn.databaseName)+" = NULL");break;default:throw new Error('The queryType must be "soft-delete" or "restore"')}if(e.versionColumn&&t.push(this.escape(e.versionColumn.databaseName)+" = "+this.escape(e.versionColumn.databaseName)+" + 1"),e.updateDateColumn&&t.push(this.escape(e.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP"),t.length<=0)throw new m.a;(this.connection.driver instanceof o.e||this.connection.driver instanceof o.f||this.connection.driver instanceof f.a)&&(this.expressionMap.nativeParameters=Object.assign({},this.expressionMap.nativeParameters));var n=this.createWhereExpression(),r=this.createReturningExpression();return r&&(this.connection.driver instanceof o.g||this.connection.driver instanceof o.f||this.connection.driver instanceof i.a)?"UPDATE "+this.getTableName(this.getMainTableName())+" SET "+t.join(", ")+n+" RETURNING "+r:r&&this.connection.driver instanceof o.i?"UPDATE "+this.getTableName(this.getMainTableName())+" SET "+t.join(", ")+" OUTPUT "+r+n:"UPDATE "+this.getTableName(this.getMainTableName())+" SET "+t.join(", ")+n},t.prototype.createOrderByExpression=function(){var e=this,t=this.expressionMap.orderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map((function(n){return"string"==typeof t[n]?e.replacePropertyNames(n)+" "+t[n]:e.replacePropertyNames(n)+" "+t[n].order+" "+t[n].nulls})).join(", "):""},t.prototype.createLimitExpression=function(){var e=this.expressionMap.limit;if(e){if(this.connection.driver instanceof o.e)return" LIMIT "+e;throw new d.a}return""},t}(a.a)},"6Oco":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("IdLP"),i=new r.a((function(e){return e.complete()}));function a(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},"70di":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=!!this.zerofill||e.unsigned||!1,this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}return e.prototype.clone=function(){return new e({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})},e}()},"8j5Y":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("uWoz"),i=n("Qvxn"),a=n("sTvq"),o=n("bI4O"),s=n("jg4I"),u=n("5uGe");function c(){}var l=n("IJgj");function h(e,t,n){return function(r){return r.lift(new f(e,t,n))}}var f=function(){function e(t,n,r){Object(o.a)(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),d=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,i,a,s){var u;return Object(o.a)(this,n),(u=t.call(this,e))._tapNext=c,u._tapError=c,u._tapComplete=c,u._tapError=a||c,u._tapComplete=s||c,Object(l.a)(i)?(u._context=Object(r.a)(u),u._tapNext=i):i&&(u._context=i,u._tapNext=i.next||c,u._tapError=i.error||c,u._tapComplete=i.complete||c),u}return Object(s.a)(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(u.a)},"9TIw":function(e,t,n){var r=n("qW1w"),i=n("4rhd"),a=n("KLyV").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),m=c(r)+h(p,i,a,s)+u+n[d]+o[p]|0;u=s,s=a,a=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},"9bRT":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("IdLP");function i(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}},ACIq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(e){this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}return e.prototype.clone=function(){return new e({name:this.name,columnNames:this.columnNames?r.i(this.columnNames):[],expression:this.expression})},e.create=function(t){return new e({name:t.name,expression:t.expression})},e}()},BIia:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("D57K"),i=n("ecGF"),a=function(e){function t(n,r){var i=e.call(this)||this;i.name="CannotCreateEntityIdMapError",Object.setPrototypeOf(i,t.prototype);var a=n.primaryColumns.reduce((function(e,t,n){return t.setEntityValue(e,n+1),e}),{});return i.message='Cannot use given entity id "'+r+'" because "'+n.targetName+'" contains multiple primary columns, you must provide object in following form: '+JSON.stringify(a)+" as an id.",i}return r.d(t,e),t}(Error),o=n("h5d3"),s=n("l5L1"),u=function(){function e(e){this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.afterRemoveListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid}return e.prototype.create=function(e){var t,n=this;if(this.target instanceof Function)return t=new this.target,this.lazyRelations.forEach((function(r){return n.connection.relationLoader.enableLazyLoad(r,t,e)})),t;var r={};return this.lazyRelations.forEach((function(t){return n.connection.relationLoader.enableLazyLoad(t,r,e)})),r},e.prototype.hasId=function(e){return!!e&&this.primaryColumns.every((function(t){var n=t.getEntityValue(e);return null!=n&&""!==n}))},e.prototype.hasAllPrimaryKeys=function(e){return this.primaryColumns.every((function(t){return null!=t.getEntityValue(e)}))},e.prototype.ensureEntityIdMap=function(e){if(e instanceof Object)return e;if(this.hasMultiplePrimaryKeys)throw new a(this,e);return this.primaryColumns[0].createValueMap(e)},e.prototype.getEntityIdMap=function(t){if(t)return e.getValueMap(t,this.primaryColumns,{skipNulls:!0})},e.prototype.getEntityIdMixedMap=function(e){if(!e)return e;var t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t?this.primaryColumns[0].getEntityValue(t):t},e.prototype.compareEntities=function(t,n){var r=this.getEntityIdMap(t);if(!r)return!1;var i=this.getEntityIdMap(n);return!!i&&e.compareIds(r,i)},e.prototype.findColumnWithPropertyName=function(e){return this.columns.find((function(t){return t.propertyName===e}))},e.prototype.findColumnWithDatabaseName=function(e){return this.columns.find((function(t){return t.databaseName===e}))},e.prototype.findColumnWithPropertyPath=function(e){var t=this.columns.find((function(t){return t.propertyPath===e}));if(t)return t;var n=this.relations.find((function(t){return t.propertyPath===e}));return n&&1===n.joinColumns.length?n.joinColumns[0]:void 0},e.prototype.findColumnsWithPropertyPath=function(e){var t=this.columns.find((function(t){return t.propertyPath===e}));if(t)return[t];var n=this.relations.find((function(t){return t.propertyPath===e}));return n&&n.joinColumns?n.joinColumns:[]},e.prototype.findRelationWithPropertyPath=function(e){return this.relations.find((function(t){return t.propertyPath===e}))},e.prototype.hasEmbeddedWithPropertyPath=function(e){return this.allEmbeddeds.some((function(t){return t.propertyPath===e}))},e.prototype.findEmbeddedWithPropertyPath=function(e){return this.allEmbeddeds.find((function(t){return t.propertyPath===e}))},e.prototype.extractRelationValuesFromEntity=function(e,t){var n=[];return t.forEach((function(t){var r=t.getEntityValue(e);Array.isArray(r)?r.forEach((function(e){return n.push([t,e,t.inverseEntityMetadata])})):r&&n.push([t,r,t.inverseEntityMetadata])})),n},e.createPropertyPath=function(e,t,n){var i=this;void 0===n&&(n="");var a=[];return Object.keys(t).forEach((function(o){var s=n?n+"."+o:o;if(e.hasEmbeddedWithPropertyPath(s)){var u=i.createPropertyPath(e,t[o],s);a.push.apply(a,r.i(u))}else a.push(n?n+"."+o:o)})),a},e.difference=function(e,t){return e.filter((function(e){return!t.find((function(t){return o.a.deepCompare(e,t)}))}))},e.compareIds=function(e,t){return null!=e&&null!=t&&o.a.deepCompare(e,t)},e.getValueMap=function(e,t,n){return t.reduce((function(t,r){var i=r.getEntityValueMap(e,n);if(void 0!==t&&null!=i)return r.isObjectId?Object.assign(t,i):o.a.mergeDeep(t,i)}),{})},e.prototype.build=function(){var e=this.connection.namingStrategy,t=this.connection.options.entityPrefix;this.engine=this.tableMetadataArgs.engine,this.database="entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.schema=this.tableMetadataArgs.schema?this.tableMetadataArgs.schema:"entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.parentEntityMetadata.schema:this.connection.options.schema,this.givenTableName="entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=!1!==this.tableMetadataArgs.synchronize,this.targetName=this.tableMetadataArgs.target instanceof Function?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,"closure-junction"===this.tableMetadataArgs.type?this.tableNameWithoutPrefix=e.closureJunctionTableName(this.givenTableName):"entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.tableNameWithoutPrefix=e.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=e.tableName(this.targetName,this.givenTableName),this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=Object(s.c)(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=t?e.prefixTableName(t,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=!0===this.tableMetadataArgs.withoutRowid,this.tablePath=this.buildTablePath(),this.schemaPath=this.buildSchemaPath(),this.orderBy=this.tableMetadataArgs.orderBy instanceof Function?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,this.isJunction="closure-junction"===this.tableMetadataArgs.type||"junction"===this.tableMetadataArgs.type,this.isClosureJunction="closure-junction"===this.tableMetadataArgs.type},e.prototype.registerColumn=function(e){-1===this.ownColumns.indexOf(e)&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce((function(e,t){return e.concat(t.columnsFromTree)}),this.ownColumns),this.primaryColumns=this.columns.filter((function(e){return e.isPrimary})),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter((function(e){return e.isGenerated||"uuid"===e.generationStrategy})).length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach((function(t){return t.registerColumn(e)})))},e.prototype.createPropertiesMap=function(){var e={};return this.columns.forEach((function(t){return o.a.mergeDeep(e,t.createValueMap(t.propertyPath))})),this.relations.forEach((function(t){return o.a.mergeDeep(e,t.createValueMap(t.propertyPath))})),e},e.prototype.buildTablePath=function(){var e=this.tableName;return this.schema&&(this.connection.driver instanceof i.g||this.connection.driver instanceof i.i||this.connection.driver instanceof i.h)&&(e=this.schema+"."+e),!this.database||this.connection.driver instanceof i.g||(e=!this.schema&&this.connection.driver instanceof i.i?this.database+".."+e:this.database+"."+e),e},e.prototype.buildSchemaPath=function(){if(this.schema)return!this.database||this.connection.driver instanceof i.g?this.schema:this.database+"."+this.schema},e}()},C05f:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("bI4O"),i=n("jg4I"),a=n("JRSL"),o=n("3OGo"),s=n("Qvxn"),u=n("sTvq"),c=n("ZTXN"),l=n("MiDb"),h=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this))._value=e,i}return Object(i.a)(n,[{key:"_subscribe",value:function(e){var t=Object(a.a)(Object(o.a)(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.a;return this._value}},{key:"next",value:function(e){Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(c.a)},Chh4:function(e,t,n){"use strict";n.d(t,"a",(function(){return jt})),n.d(t,"b",(function(){return xt})),n.d(t,"j",(function(){return Mt})),n.d(t,"r",(function(){return Rt})),n.d(t,"s",(function(){return Dt})),n.d(t,"e",(function(){return Pt})),n.d(t,"f",(function(){return It})),n.d(t,"g",(function(){return Lt})),n.d(t,"i",(function(){return Ft})),n.d(t,"c",(function(){return qt})),n.d(t,"o",(function(){return Bt})),n.d(t,"n",(function(){return Ut})),n.d(t,"m",(function(){return Vt})),n.d(t,"q",(function(){return Ht})),n.d(t,"l",(function(){return N})),n.d(t,"p",(function(){return j})),n.d(t,"h",(function(){return d.d})),n.d(t,"d",(function(){return ut.a})),n.d(t,"k",(function(){return f.a})),n.d(t,"v",(function(){return zt})),n.d(t,"t",(function(){return Kt})),n.d(t,"u",(function(){return Gt}));var r=n("D57K"),i=(n("qzOT"),n("gB9Z")),a=n("l5L1"),o=n("xynt"),s=function(){function e(){}return e.prototype.tableName=function(e,t){return t||Object(a.d)(e)},e.prototype.closureJunctionTableName=function(e){return e+"_closure"},e.prototype.columnName=function(e,t,n){var r=t||e;return n.length?Object(a.a)(n.join("_"))+Object(a.e)(r):r},e.prototype.relationName=function(e){return e},e.prototype.primaryKeyName=function(e,t){var n=r.i(t);n.sort();var a=(e instanceof o.a?e.name:e).replace(".","_")+"_"+n.join("_");return"PK_"+i.a.sha1(a).substr(0,27)},e.prototype.uniqueConstraintName=function(e,t){var n=r.i(t);n.sort();var a=(e instanceof o.a?e.name:e).replace(".","_")+"_"+n.join("_");return"UQ_"+i.a.sha1(a).substr(0,27)},e.prototype.relationConstraintName=function(e,t,n){var a=r.i(t);a.sort();var s=(e instanceof o.a?e.name:e).replace(".","_")+"_"+a.join("_");return n&&(s+="_"+n),"REL_"+i.a.sha1(s).substr(0,26)},e.prototype.defaultConstraintName=function(e,t){var n=(e instanceof o.a?e.name:e).replace(".","_");return"DF_"+i.a.sha1(n+"_"+t).substr(0,27)},e.prototype.foreignKeyName=function(e,t,n,a){var s=r.i(t);s.sort();var u=(e instanceof o.a?e.name:e).replace(".","_")+"_"+s.join("_");return"FK_"+i.a.sha1(u).substr(0,27)},e.prototype.indexName=function(e,t,n){var a=r.i(t);a.sort();var s=(e instanceof o.a?e.name:e).replace(".","_")+"_"+a.join("_");return n&&(s+="_"+n),"IDX_"+i.a.sha1(s).substr(0,26)},e.prototype.checkConstraintName=function(e,t){var n=(e instanceof o.a?e.name:e).replace(".","_");return"CHK_"+i.a.sha1(n+"_"+t).substr(0,26)},e.prototype.exclusionConstraintName=function(e,t){var n=(e instanceof o.a?e.name:e).replace(".","_");return"XCL_"+i.a.sha1(n+"_"+t).substr(0,26)},e.prototype.joinColumnName=function(e,t){return Object(a.a)(e+"_"+t)},e.prototype.joinTableName=function(e,t,n,r){return Object(a.d)(e+"_"+n.replace(/\./gi,"_")+"_"+t)},e.prototype.joinTableColumnDuplicationPrefix=function(e,t){return e+"_"+t},e.prototype.joinTableColumnName=function(e,t,n){return Object(a.a)(e+"_"+(n||t))},e.prototype.joinTableInverseColumnName=function(e,t,n){return this.joinTableColumnName(e,t,n)},e.prototype.prefixTableName=function(e,t){return e+t},e.prototype.eagerJoinRelationAlias=function(e,t){return e+"_"+t.replace(".","_")},e}(),u=function(e){function t(n){var r=e.call(this)||this;return r.name="CannotExecuteNotConnectedError",Object.setPrototypeOf(r,t.prototype),r.message='Cannot execute operation on "'+n+'" connection because connection is not yet established.',r}return r.d(t,e),t}(Error),c=function(e){function t(n){var r=e.call(this)||this;return r.name="CannotConnectAlreadyConnectedError",Object.setPrototypeOf(r,t.prototype),r.message='Cannot create a "'+n+'" connection because connection to the database already established.',r}return r.d(t,e),t}(Error),l=function(e){function t(n){var r=e.call(this)||this;return r.name="EntityMetadataNotFound",Object.setPrototypeOf(r,t.prototype),r.message='No metadata for "'+(n instanceof ut.a?n.options.name:"function"==typeof n?n.name:n)+'" was found.',r}return r.d(t,e),t}(Error),h=function(e,t,n,r){this.id=e,this.timestamp=t,this.name=n,this.instance=r},f=n("OfrW"),d=n("ecGF"),p=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.value=e,this.type=t,this.params=[],this.params=n||[]},m=function(){function e(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";var n=this.connection.driver.options;this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,n.schema,n.database)}return e.prototype.executeMigration=function(e){return r.b(this,void 0,void 0,(function(){var t=this;return r.e(this,(function(n){return[2,this.withQueryRunner((function(n){return r.b(t,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.createMigrationsTableIfNotExist(n)];case 1:return t.sent(),[4,e.instance.up(n)];case 2:return t.sent(),[4,this.insertExecutedMigration(n,e)];case 3:return t.sent(),[2,e]}}))}))}))]}))}))},e.prototype.getAllMigrations=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve(this.getMigrations())]}))}))},e.prototype.getExecutedMigrations=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,this.withQueryRunner((function(t){return r.b(e,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return[4,this.createMigrationsTableIfNotExist(t)];case 1:return e.sent(),[4,this.loadExecutedMigrations(t)];case 2:return[2,e.sent()]}}))}))}))]}))}))},e.prototype.getPendingMigrations=function(){return r.b(this,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){switch(n.label){case 0:return[4,this.getAllMigrations()];case 1:return e=n.sent(),[4,this.getExecutedMigrations()];case 2:return t=n.sent(),[2,e.filter((function(e){return t.find((function(t){return t.name===e.name}))}))]}}))}))},e.prototype.insertMigration=function(e){var t=this;return new Promise((function(n,r){t.withQueryRunner((function(i){t.insertExecutedMigration(i,e).then(n).catch(r)}))}))},e.prototype.deleteMigration=function(e){var t=this;return new Promise((function(n,r){t.withQueryRunner((function(i){t.deleteExecutedMigration(i,e).then(n).catch(r)}))}))},e.prototype.showMigrations=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o,s,u,c,l;return r.e(this,(function(h){switch(h.label){case 0:return n=!1,i=this.queryRunner||this.connection.createQueryRunner("master"),[4,this.createMigrationsTableIfNotExist(i)];case 1:return h.sent(),[4,this.loadExecutedMigrations(i)];case 2:a=h.sent(),o=this.getMigrations(),s=function(e){a.find((function(t){return t.name===e.name}))?u.connection.logger.logSchemaBuild(" [X] "+e.name):(n=!0,u.connection.logger.logSchemaBuild(" [ ] "+e.name))},u=this;try{for(c=r.k(o),l=c.next();!l.done;l=c.next())s(l.value)}catch(f){e={error:f}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return this.queryRunner?[3,4]:[4,i.release()];case 3:h.sent(),h.label=4;case 4:return[2,n]}}))}))},e.prototype.executePendingMigrations=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o,s,u,c=this;return r.e(this,(function(l){switch(l.label){case 0:return e=this.queryRunner||this.connection.createQueryRunner("master"),[4,this.createMigrationsTableIfNotExist(e)];case 1:return l.sent(),[4,this.loadExecutedMigrations(e)];case 2:return t=l.sent(),n=this.getLatestTimestampMigration(t),i=this.getMigrations(),a=[],(o=i.filter((function(e){return!t.find((function(t){return t.name===e.name}))}))).length?[3,5]:(this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner?[3,4]:[4,e.release()]);case 3:l.sent(),l.label=4;case 4:return[2,[]];case 5:return this.connection.logger.logSchemaBuild(t.length+" migrations are already loaded in the database."),this.connection.logger.logSchemaBuild(i.length+" migrations were found in the source code."),n&&this.connection.logger.logSchemaBuild(n.name+" is the last executed migration. It was executed on "+new Date(n.timestamp).toString()+"."),this.connection.logger.logSchemaBuild(o.length+" migrations are new migrations that needs to be executed."),s=!1,"all"!==this.transaction||e.isTransactionActive?[3,7]:[4,e.startTransaction()];case 6:l.sent(),s=!0,l.label=7;case 7:return l.trys.push([7,11,16,19]),[4,f.a.runInSequence(o,(function(t){return r.b(c,void 0,void 0,(function(){var n=this;return r.e(this,(function(i){switch(i.label){case 0:return"each"!==this.transaction||e.isTransactionActive?[3,2]:[4,e.startTransaction()];case 1:i.sent(),s=!0,i.label=2;case 2:return[2,t.instance.up(e).then((function(){return r.b(n,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.insertExecutedMigration(e,t)];case 1:return n.sent(),"each"===this.transaction&&s?[4,e.commitTransaction()]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))})).then((function(){a.push(t),n.connection.logger.logSchemaBuild("Migration "+t.name+" has been executed successfully.")}))]}}))}))}))];case 8:return l.sent(),"all"===this.transaction&&s?[4,e.commitTransaction()]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,19];case 11:if(u=l.sent(),!s)return[3,15];l.label=12;case 12:return l.trys.push([12,14,,15]),[4,e.rollbackTransaction()];case 13:case 14:return l.sent(),[3,15];case 15:throw u;case 16:return this.queryRunner?[3,18]:[4,e.release()];case 17:l.sent(),l.label=18;case 18:return[7];case 19:return[2,a]}}))}))},e.prototype.undoLastMigration=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e=this.queryRunner||this.connection.createQueryRunner("master"),[4,this.createMigrationsTableIfNotExist(e)];case 1:return r.sent(),[4,this.loadExecutedMigrations(e)];case 2:if(t=r.sent(),!(n=this.getLatestExecutedMigration(t)))return this.connection.logger.logSchemaBuild("No migrations was found in the database. Nothing to revert!"),[2];if(i=this.getMigrations(),!(a=i.find((function(e){return e.name===n.name}))))throw new Error("No migration "+n.name+" was found in the source code. Make sure you have this migration in your codebase and its included in the connection options.");return this.connection.logger.logSchemaBuild(t.length+" migrations are already loaded in the database."),this.connection.logger.logSchemaBuild(n.name+" is the last executed migration. It was executed on "+new Date(n.timestamp).toString()+"."),this.connection.logger.logSchemaBuild("Now reverting it..."),o=!1,"none"===this.transaction||e.isTransactionActive?[3,4]:[4,e.startTransaction()];case 3:r.sent(),o=!0,r.label=4;case 4:return r.trys.push([4,9,14,17]),[4,a.instance.down(e)];case 5:return r.sent(),[4,this.deleteExecutedMigration(e,a)];case 6:return r.sent(),this.connection.logger.logSchemaBuild("Migration "+a.name+" has been reverted successfully."),o?[4,e.commitTransaction()]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,17];case 9:if(s=r.sent(),!o)return[3,13];r.label=10;case 10:return r.trys.push([10,12,,13]),[4,e.rollbackTransaction()];case 11:case 12:return r.sent(),[3,13];case 13:throw s;case 14:return this.queryRunner?[3,16]:[4,e.release()];case 15:r.sent(),r.label=16;case 16:return[7];case 17:return[2]}}))}))},e.prototype.createMigrationsTableIfNotExist=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return this.connection.driver instanceof d.a?[2]:[4,e.hasTable(this.migrationsTable)];case 1:return t.sent()?[3,3]:[4,e.createTable(new o.a({name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.loadExecutedMigrations=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return this.connection.driver instanceof d.a?[4,e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).find().sort({_id:-1}).toArray()]:[3,2];case 1:return[2,t.sent()];case 2:return[4,this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()];case 3:return[2,t.sent().map((function(e){return new h(parseInt(e.id),parseInt(e.timestamp),e.name)}))]}}))}))},e.prototype.getMigrations=function(){var e=this.connection.migrations.map((function(e){var t=e.name||e.constructor.name,n=parseInt(t.substr(-13),10);if(!n||isNaN(n))throw new Error(t+" migration name is wrong. Migration class name should have a JavaScript timestamp appended.");return new h(void 0,n,t,e)}));return this.checkForDuplicateMigrations(e),e.sort((function(e,t){return e.timestamp-t.timestamp}))},e.prototype.checkForDuplicateMigrations=function(e){var t=e.map((function(e){return e.name})),n=Array.from(new Set(t.filter((function(e,n){return t.indexOf(e)<n}))));if(n.length>0)throw Error("Duplicate migrations: "+n.join(", "))},e.prototype.getLatestTimestampMigration=function(e){var t=e.map((function(e){return e})).sort((function(e,t){return-1*(e.timestamp-t.timestamp)}));return t.length>0?t[0]:void 0},e.prototype.getLatestExecutedMigration=function(e){return e.length>0?e[0]:void 0},e.prototype.insertExecutedMigration=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n={},this.connection.driver instanceof d.i?(n.timestamp=new p(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),n.name=new p(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(n.timestamp=t.timestamp,n.name=t.name),this.connection.driver instanceof d.a?[4,e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).insert(n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.manager.createQueryBuilder().insert().into(this.migrationsTable).values(n).execute()];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype.deleteExecutedMigration=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){switch(r.label){case 0:return n={},this.connection.driver instanceof d.i?(n.timestamp=new p(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),n.name=new p(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(n.timestamp=t.timestamp,n.name=t.name),this.connection.driver instanceof d.a?[4,e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).deleteOne(n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,(i=e.manager.createQueryBuilder()).delete().from(this.migrationsTable).where(i.escape("timestamp")+" = :timestamp").andWhere(i.escape("name")+" = :name").setParameters(n).execute()];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype.withQueryRunner=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:t=this.queryRunner||this.connection.createQueryRunner("master"),n.label=1;case 1:return n.trys.push([1,,2,5]),[2,e(t)];case 2:return this.queryRunner?[3,4]:[4,t.release()];case 3:n.sent(),n.label=4;case 4:return[7];case 5:return[2]}}))}))},e}(),y=function(e){function t(n){var r=e.call(this)||this;return r.name="MissingPrimaryColumnError",Object.setPrototypeOf(r,t.prototype),r.message='Entity "'+n.name+'" does not have a primary column. Primary column is required to have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.',r}return r.d(t,e),t}(Error),v=function(e){function t(n){var r=e.call(this)||this;return r.name="CircularRelationsError",Object.setPrototypeOf(r,t.prototype),r.message="Circular relations detected: "+n+". To resolve this issue you need to set nullable: true somewhere in this dependency structure.",r}return r.d(t,e),t}(Error);function g(e,t,n){var r=[],i={};return function a(o){i[o]=!0,r.push(o),e[o].forEach((function(e){if(i[e]){if(r.indexOf(e)>=0)throw r.push(e),new Error("Dependency Cycle Found: "+r.join(" -> "))}else a(e)})),r.pop(),t&&0!==e[o].length||-1!==n.indexOf(o)||n.push(o)}}var b=function(){function e(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}return e.prototype.addNode=function(e,t){this.hasNode(e)||(this.nodes[e]=2===arguments.length?t:e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])},e.prototype.removeNode=function(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n].indexOf(e);r>=0&&t[n].splice(r,1)}),this)})))},e.prototype.hasNode=function(e){return this.nodes.hasOwnProperty(e)},e.prototype.getNodeData=function(e){if(this.hasNode(e))return this.nodes[e];throw new Error("Node does not exist: "+e)},e.prototype.setNodeData=function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);this.nodes[e]=t},e.prototype.addDependency=function(e,t){if(!this.hasNode(e))throw new Error("Node does not exist: "+e);if(!this.hasNode(t))throw new Error("Node does not exist: "+t);return-1===this.outgoingEdges[e].indexOf(t)&&this.outgoingEdges[e].push(t),-1===this.incomingEdges[t].indexOf(e)&&this.incomingEdges[t].push(e),!0},e.prototype.removeDependency=function(e,t){var n;this.hasNode(e)&&(n=this.outgoingEdges[e].indexOf(t))>=0&&this.outgoingEdges[e].splice(n,1),this.hasNode(t)&&(n=this.incomingEdges[t].indexOf(e))>=0&&this.incomingEdges[t].splice(n,1)},e.prototype.dependenciesOf=function(e,t){if(this.hasNode(e)){var n=[];g(this.outgoingEdges,t,n)(e);var r=n.indexOf(e);return r>=0&&n.splice(r,1),n}throw new Error("Node does not exist: "+e)},e.prototype.dependantsOf=function(e,t){if(this.hasNode(e)){var n=[];g(this.incomingEdges,t,n)(e);var r=n.indexOf(e);return r>=0&&n.splice(r,1),n}throw new Error("Node does not exist: "+e)},e.prototype.overallOrder=function(e){var t=this,n=[],r=Object.keys(this.nodes);if(0===r.length)return n;var i=g(this.outgoingEdges,!1,[]);r.forEach((function(e){i(e)}));var a=g(this.outgoingEdges,e,n);return r.filter((function(e){return 0===t.incomingEdges[e].length})).forEach((function(e){a(e)})),n},e}(),E=function(e){function t(n,r,i){var a=e.call(this)||this;return a.name="DataTypeNotSupportedError",Object.setPrototypeOf(a,t.prototype),a.message='Data type "'+("string"==typeof r?r:r.name)+'" in "'+n.entityMetadata.targetName+"."+n.propertyName+'" is not supported by "'+i+'" database.',a}return r.d(t,e),t}(Error),w=function(e){function t(n){var r=e.call(this)||this;return Object.setPrototypeOf(r,t.prototype),r.message='Option "'+n+'" is not set in your connection options, please define "'+n+'" option in your connection options or ormconfig.json',r}return r.d(t,e),t}(Error),O=function(e){function t(n){var r=e.call(this)||this;return Object.setPrototypeOf(r,t.prototype),r.message='Array initializations are not allowed in entity relations. Please remove array initialization (= []) from "'+n.entityMetadata.targetName+"#"+n.propertyPath+'". This is ORM requirement to make relations to work properly. Refer docs for more information.',r}return r.d(t,e),t}(Error),C=n("u6gj"),T=function(){function e(){}return e.prototype.validateMany=function(e,t){var n=this;e.forEach((function(r){return n.validate(r,e,t)})),this.validateDependencies(e),this.validateEagerRelations(e)},e.prototype.validate=function(e,t,n){if(!e.primaryColumns.length&&!e.isJunction)throw new y(e);if("STI"===e.inheritancePattern){if(!e.discriminatorColumn)throw new Error("Entity "+e.name+" using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?");if(-1!==["",void 0,null].indexOf(e.discriminatorValue))throw new Error("Entity "+e.name+" has empty discriminator value. Discriminator value should not be empty.");var r=t.find((function(t){return t!==e&&t.discriminatorValue===e.discriminatorValue}));if(r)throw new Error("Entities "+e.name+" and "+r.name+" as equal discriminator values. Make sure their discriminator values are not equal using @DiscriminatorValue decorator.")}if(e.relationCounts.forEach((function(e){if(e.relation.isManyToOne||e.relation.isOneToOne)throw new Error("Relation count can not be implemented on ManyToOne or OneToOne relations.")})),n instanceof d.a||e.columns.forEach((function(t){var r=n.normalizeType(t);if(-1===n.supportedDataTypes.indexOf(r))throw new E(t,r,n.options.type);if(t.length&&-1===n.withLengthColumnTypes.indexOf(r))throw new Error("Column "+t.propertyName+" of Entity "+e.name+" does not support length property.")})),(n instanceof d.e||n instanceof C.a)&&e.columns.filter((function(e){return e.isGenerated&&"uuid"!==e.generationStrategy})).length>1)throw new Error("Error in "+e.name+" entity. There can be only one auto-increment column in MySql table.");if(n instanceof d.e&&0===t.filter((function(e){return e.database})).length&&!n.database)throw new w("database");if(n instanceof d.i&&e.columns.filter((function(e){return e.charset})).length>1)throw new Error("Character set specifying is not supported in Sql Server");var i=e.create();e.relations.forEach((function(e){if(e.isManyToMany||e.isOneToMany){if(!1===e.persistenceEnabled)return;var t=e.getEntityValue(i);if(Array.isArray(t))throw new O(e)}})),e.relations.forEach((function(e){})),e.relations.forEach((function(t){if(t.isCascadeRemove&&t.inverseRelation&&t.inverseRelation.isCascadeRemove)throw new Error("Relation "+e.name+"#"+t.propertyName+" and "+t.inverseRelation.entityMetadata.name+"#"+t.inverseRelation.propertyName+" both has cascade remove set. This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.")})),e.eagerRelations.forEach((function(e){}))},e.prototype.validateDependencies=function(e){var t=new b;e.forEach((function(e){t.addNode(e.name)})),e.forEach((function(e){e.relationsWithJoinColumns.filter((function(e){return!e.isNullable})).forEach((function(n){t.addDependency(e.name,n.inverseEntityMetadata.name)}))}));try{t.overallOrder()}catch(n){throw new v(n.toString().replace("Error: Dependency Cycle Found: ",""))}},e.prototype.validateEagerRelations=function(e){e.forEach((function(e){e.eagerRelations.forEach((function(t){if(t.inverseRelation&&t.inverseRelation.isEager)throw new Error("Circular eager relations are disallowed. "+e.targetName+"#"+t.propertyPath+' contains "eager: true", and its inverse side '+t.inverseEntityMetadata.targetName+"#"+t.inverseRelation.propertyPath+' contains "eager: true" as well. Remove "eager: true" from one side of the relation.')}))}))},e}(),_=function(e){function t(){var n=e.call(this)||this;return n.name="QueryRunnerProviderAlreadyReleasedError",Object.setPrototypeOf(n,t.prototype),n.message="Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.",n}return r.d(t,e),t}(Error),A=function(e){function t(n,r){var i,a=e.call(this)||this;a.name="EntityNotFound",Object.setPrototypeOf(a,t.prototype),i=n instanceof ut.a?n.options.name:"function"==typeof n?n.name:n;var o=a.stringifyCriteria(r);return a.message='Could not find any entity of type "'+i+'" matching: '+o,a}return r.d(t,e),t.prototype.stringifyCriteria=function(e){try{return JSON.stringify(e,null,4)}catch(t){}return""+e},t}(Error),S=function(e){function t(){var n=e.call(this)||this;return n.name="NoNeedToReleaseEntityManagerError",Object.setPrototypeOf(n,t.prototype),n.message="Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.",n}return r.d(t,e),t}(Error),N=function(){function e(){}return e.prototype.createQueryBuilder=function(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)},Object.defineProperty(e.prototype,"target",{get:function(){return this.metadata.target},enumerable:!0,configurable:!0}),e.prototype.hasId=function(e){return this.manager.hasId(this.metadata.target,e)},e.prototype.getId=function(e){return this.manager.getId(this.metadata.target,e)},e.prototype.create=function(e){return this.manager.create(this.metadata.target,e)},e.prototype.merge=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(t=this.manager).merge.apply(t,r.i([this.metadata.target,e],n))},e.prototype.preload=function(e){return this.manager.preload(this.metadata.target,e)},e.prototype.save=function(e,t){return this.manager.save(this.metadata.target,e,t)},e.prototype.remove=function(e,t){return this.manager.remove(this.metadata.target,e,t)},e.prototype.softRemove=function(e,t){return this.manager.softRemove(this.metadata.target,e,t)},e.prototype.recover=function(e,t){return this.manager.recover(this.metadata.target,e,t)},e.prototype.insert=function(e){return this.manager.insert(this.metadata.target,e)},e.prototype.update=function(e,t){return this.manager.update(this.metadata.target,e,t)},e.prototype.delete=function(e){return this.manager.delete(this.metadata.target,e)},e.prototype.softDelete=function(e){return this.manager.softDelete(this.metadata.target,e)},e.prototype.restore=function(e){return this.manager.restore(this.metadata.target,e)},e.prototype.count=function(e){return this.manager.count(this.metadata.target,e)},e.prototype.find=function(e){return this.manager.find(this.metadata.target,e)},e.prototype.findAndCount=function(e){return this.manager.findAndCount(this.metadata.target,e)},e.prototype.findByIds=function(e,t){return this.manager.findByIds(this.metadata.target,e,t)},e.prototype.findOne=function(e,t){return this.manager.findOne(this.metadata.target,e,t)},e.prototype.findOneOrFail=function(e,t){return this.manager.findOneOrFail(this.metadata.target,e,t)},e.prototype.query=function(e,t){return this.manager.query(e,t)},e.prototype.clear=function(){return this.manager.clear(this.metadata.target)},e.prototype.increment=function(e,t,n){return this.manager.increment(this.metadata.target,e,t,n)},e.prototype.decrement=function(e,t,n){return this.manager.decrement(this.metadata.target,e,t,n)},e}(),k=n("HVZQ"),j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.findTrees=function(){return r.b(this,void 0,void 0,(function(){var e,t=this;return r.e(this,(function(n){switch(n.label){case 0:return[4,this.findRoots()];case 1:return e=n.sent(),[4,Promise.all(e.map((function(e){return t.findDescendantsTree(e)})))];case 2:return n.sent(),[2,e]}}))}))},t.prototype.findRoots=function(){var e,t=this.manager.connection.namingStrategy.joinColumnName(this.metadata.treeParentRelation.propertyName,"id");return this.createQueryBuilder("treeEntity").where(this.manager.connection.driver.escape("treeEntity")+"."+(e=t,this.manager.connection.driver.escape(e)+" IS NULL")).getMany()},t.prototype.findDescendants=function(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getMany()},t.prototype.findDescendantsTree=function(e){var t=this;return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getRawAndEntities().then((function(n){var r=t.createRelationMaps("treeEntity",n.raw);return t.buildChildrenEntityTree(e,n.entities,r),e}))},t.prototype.countDescendants=function(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()},t.prototype.createDescendantsQueryBuilder=function(e,t,n){var r=this,i=function(e){return r.manager.connection.driver.escape(e)};if("closure-table"===this.metadata.treeType){var a=this.metadata.closureJunctionTable.descendantColumns.map((function(n){return i(t)+"."+i(n.propertyPath)+" = "+i(e)+"."+i(n.referencedColumn.propertyPath)})).join(" AND "),o={},s=this.metadata.closureJunctionTable.ancestorColumns.map((function(e){return o[e.referencedColumn.propertyName]=e.referencedColumn.getEntityValue(n),i(t)+"."+i(e.propertyPath)+" = :"+e.referencedColumn.propertyName})).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,a).where(s).setParameters(o)}if("nested-set"===this.metadata.treeType){s=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath;var u={};return a=this.metadata.treeParentRelation.joinColumns.map((function(e){var t=e.referencedColumn.propertyPath.replace(".","_");return u[t]=e.referencedColumn.getEntityValue(n),"joined."+e.referencedColumn.propertyPath+" = :"+t})).join(" AND "),this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",s).where(a,u)}if("materialized-path"===this.metadata.treeType)return this.createQueryBuilder(e).where((function(t){var i=t.subQuery().select(r.metadata.targetName+"."+r.metadata.materializedPathColumn.propertyPath,"path").from(r.metadata.target,r.metadata.targetName).whereInIds(r.metadata.getEntityIdMap(n));return t.setNativeParameters(i.expressionMap.nativeParameters),r.manager.connection.driver instanceof k.a?e+"."+r.metadata.materializedPathColumn.propertyPath+" LIKE "+i.getQuery()+" || '%'":e+"."+r.metadata.materializedPathColumn.propertyPath+" LIKE CONCAT("+i.getQuery()+", '%')"}));throw new Error("Supported only in tree entities")},t.prototype.findAncestors=function(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getMany()},t.prototype.findAncestorsTree=function(e){var t=this;return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getRawAndEntities().then((function(n){var r=t.createRelationMaps("treeEntity",n.raw);return t.buildParentEntityTree(e,n.entities,r),e}))},t.prototype.countAncestors=function(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()},t.prototype.createAncestorsQueryBuilder=function(e,t,n){var r=this;if("closure-table"===this.metadata.treeType){var i=this.metadata.closureJunctionTable.ancestorColumns.map((function(n){return t+"."+n.propertyPath+" = "+e+"."+n.referencedColumn.propertyPath})).join(" AND "),a={},o=this.metadata.closureJunctionTable.descendantColumns.map((function(e){return a[e.referencedColumn.propertyName]=e.referencedColumn.getEntityValue(n),t+"."+e.propertyPath+" = :"+e.referencedColumn.propertyName})).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,i).where(o).setParameters(a)}if("nested-set"===this.metadata.treeType){i="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath;var s={};return o=this.metadata.treeParentRelation.joinColumns.map((function(e){var t=e.referencedColumn.propertyPath.replace(".","_");return s[t]=e.referencedColumn.getEntityValue(n),"joined."+e.referencedColumn.propertyPath+" = :"+t})).join(" AND "),this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",i).where(o,s)}if("materialized-path"===this.metadata.treeType)return this.createQueryBuilder(e).where((function(t){var i=t.subQuery().select(r.metadata.targetName+"."+r.metadata.materializedPathColumn.propertyPath,"path").from(r.metadata.target,r.metadata.targetName).whereInIds(r.metadata.getEntityIdMap(n));return t.setNativeParameters(i.expressionMap.nativeParameters),r.manager.connection.driver instanceof k.a?i.getQuery()+" LIKE "+e+"."+r.metadata.materializedPathColumn.propertyPath+" || '%'":i.getQuery()+" LIKE CONCAT("+e+"."+r.metadata.materializedPathColumn.propertyPath+", '%')"}));throw new Error("Supported only in tree entities")},t.prototype.createRelationMaps=function(e,t){var n=this;return t.map((function(t){var r=n.metadata.treeParentRelation.joinColumns[0],i=t[e+"_"+(r.givenDatabaseName||r.databaseName)];return{id:n.manager.connection.driver.prepareHydratedValue(t[e+"_"+n.metadata.primaryColumns[0].databaseName],n.metadata.primaryColumns[0]),parentId:n.manager.connection.driver.prepareHydratedValue(i,r)}}))},t.prototype.buildChildrenEntityTree=function(e,t,n){var r=this,i=this.metadata.treeChildrenRelation.propertyName,a=this.metadata.primaryColumns[0].getEntityValue(e),o=n.filter((function(e){return e.parentId===a})),s=new Set(o.map((function(e){return e.id})));e[i]=t.filter((function(e){return s.has(e.id)})),e[i].forEach((function(e){r.buildChildrenEntityTree(e,t,n)}))},t.prototype.buildParentEntityTree=function(e,t,n){var r=this,i=this.metadata.treeParentRelation.propertyName,a=this.metadata.primaryColumns[0].getEntityValue(e),o=n.find((function(e){return e.id===a})),s=t.find((function(e){return!!o&&e[r.metadata.primaryColumns[0].propertyName]===o.parentId}));s&&(e[i]=s,this.buildParentEntityTree(e[i],t,n))},t}(N),x=function(e){function t(n){var r=e.call(this)||this;return Object.setPrototypeOf(r,t.prototype),r.message=1===n.length?'Relation "'+n[0]+'" was not found, please check if it is correct and really exist in your entity.':"Relations "+n.map((function(e){return'"'+e+'"'})).join(", ")+" were not found, please check if relations are correct and they exist in your entities.",r}return r.d(t,e),t}(Error),M=function(){function e(){}return e.isFindOneOptions=function(e){var t=e;return t&&(Array.isArray(t.select)||t.where instanceof Object||"string"==typeof t.where||Array.isArray(t.relations)||t.join instanceof Object||t.order instanceof Object||t.cache instanceof Object||"boolean"==typeof t.cache||"number"==typeof t.cache||t.lock instanceof Object||t.loadRelationIds instanceof Object||"boolean"==typeof t.loadRelationIds||"boolean"==typeof t.loadEagerRelations||"boolean"==typeof t.withDeleted)},e.isFindManyOptions=function(e){var t=e;return t&&(this.isFindOneOptions(t)||"number"==typeof t.skip||"number"==typeof t.take||"string"==typeof t.skip||"string"==typeof t.take)},e.extractFindManyOptionsAlias=function(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias},e.applyFindManyOptionsOrConditionsToQueryBuilder=function(e,t){return this.isFindManyOptions(t)?this.applyOptionsToQueryBuilder(e,t):t?e.where(t):e},e.applyOptionsToQueryBuilder=function(e,t){if(!t||!this.isFindOneOptions(t)&&!this.isFindManyOptions(t))return e;if(!e.expressionMap.mainAlias||!e.expressionMap.mainAlias.hasMetadata)return e;var n=e.expressionMap.mainAlias.metadata;if(t.select&&(e.select([]),t.select.forEach((function(t){if(!n.findColumnWithPropertyPath(String(t)))throw new Error(t+" column was not found in the "+n.name+" entity.");e.addSelect(e.alias+"."+t)}))),t.where&&e.where(t.where),t.skip&&e.skip(t.skip),t.take&&e.take(t.take),t.order&&Object.keys(t.order).forEach((function(r){var i=t.order[r];if(!n.findColumnWithPropertyPath(r))throw new Error(r+" column was not found in the "+n.name+" entity.");switch(i){case 1:e.addOrderBy(e.alias+"."+r,"ASC");break;case-1:e.addOrderBy(e.alias+"."+r,"DESC");break;case"ASC":e.addOrderBy(e.alias+"."+r,"ASC");break;case"DESC":e.addOrderBy(e.alias+"."+r,"DESC")}})),t.relations){var r=t.relations.map((function(e){return e}));if(this.applyRelationsRecursively(e,r,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),r.length>0)throw new x(r)}if(t.join&&(t.join.leftJoin&&Object.keys(t.join.leftJoin).forEach((function(n){e.leftJoin(t.join.leftJoin[n],n)})),t.join.innerJoin&&Object.keys(t.join.innerJoin).forEach((function(n){e.innerJoin(t.join.innerJoin[n],n)})),t.join.leftJoinAndSelect&&Object.keys(t.join.leftJoinAndSelect).forEach((function(n){e.leftJoinAndSelect(t.join.leftJoinAndSelect[n],n)})),t.join.innerJoinAndSelect&&Object.keys(t.join.innerJoinAndSelect).forEach((function(n){e.innerJoinAndSelect(t.join.innerJoinAndSelect[n],n)}))),t.cache)if(t.cache instanceof Object){var i=t.cache;e.cache(i.id,i.milliseconds)}else e.cache(t.cache);return t.lock&&("optimistic"===t.lock.mode?e.setLock(t.lock.mode,t.lock.version):"pessimistic_read"!==t.lock.mode&&"pessimistic_write"!==t.lock.mode&&"dirty_read"!==t.lock.mode||e.setLock(t.lock.mode)),t.withDeleted&&e.withDeleted(),!0===t.loadRelationIds?e.loadAllRelationIds():t.loadRelationIds instanceof Object&&e.loadAllRelationIds(t.loadRelationIds),e},e.applyRelationsRecursively=function(e,t,n,r,i){var o=this,s=[];if(i){var u=new RegExp("^"+i.replace(".","\\.")+"\\.");s=t.filter((function(e){return e.match(u)})).map((function(e){return e.replace(u,"")})).filter((function(e){return r.findRelationWithPropertyPath(e)}))}else s=t.filter((function(e){return r.findRelationWithPropertyPath(e)}));s.forEach((function(s){var u=n+"__"+s;e.connection.driver.maxAliasLength&&u.length>e.connection.driver.maxAliasLength&&(u=Object(a.c)(u));var c=n+"."+s;e.leftJoinAndSelect(c,u);var l=r.relations.find((function(e){return e.propertyName===s}));l&&o.joinEagerRelations(e,u,l.inverseEntityMetadata),t.splice(t.indexOf(i?i+"."+s:s),1);var h=e.expressionMap.joinAttributes.find((function(e){return e.entityOrProperty===c}));o.applyRelationsRecursively(e,t,h.alias.name,h.metadata,i?i+"."+s:s)}))},e.joinEagerRelations=function(e,t,n){var r=this;n.eagerRelations.forEach((function(n){var i=e.connection.namingStrategy.eagerJoinRelationAlias(t,n.propertyPath);e.leftJoinAndSelect(t+"."+n.propertyPath,i),r.joinEagerRelations(e,i,n.inverseEntityMetadata)}))},e}(),R=function(){function e(){}return e.prototype.transform=function(e,t,n,r){return void 0===r&&(r=!1),this.groupAndTransform(e,t,n,r),e},e.prototype.groupAndTransform=function(e,t,n,r){var i=this;void 0===r&&(r=!1),n.nonVirtualColumns.forEach((function(n){var r=n.getEntityValue(t);void 0!==r&&n.setEntityValue(e,r)})),n.relations.length&&n.relations.forEach((function(n){var a=n.getEntityValue(e),o=n.getEntityValue(t,r);if(void 0!==o)if(n.isOneToMany||n.isManyToMany){if(!Array.isArray(o))return;a||n.setEntityValue(e,a=[]),o.forEach((function(e){var t=a.find((function(t){return n.inverseEntityMetadata.compareEntities(e,t)}));t||(t=n.inverseEntityMetadata.create(),a.push(t)),i.groupAndTransform(t,e,n.inverseEntityMetadata,r)}))}else{if(!(o instanceof Object))return void(a instanceof Object||n.setEntityValue(e,o));a||(a=n.inverseEntityMetadata.create(),n.setEntityValue(e,a)),i.groupAndTransform(a,o,n.inverseEntityMetadata,r)}}))},e}(),D=function(){function e(e,t,n,r){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=n,this.relation=r}return Object.defineProperty(e.prototype,"target",{get:function(){return this.metadata.target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.metadata.getEntityIdMixedMap(this.plainEntity)},enumerable:!0,configurable:!0}),e}(),P=function(){function e(){this.loadMapItems=[]}return Object.defineProperty(e.prototype,"mainLoadMapItem",{get:function(){return this.loadMapItems.find((function(e){return!e.relation&&!e.parentLoadMapItem}))},enumerable:!0,configurable:!0}),e.prototype.addLoadMap=function(e){this.loadMapItems.find((function(t){return t.target===e.target&&t.id===e.id}))||this.loadMapItems.push(e)},e.prototype.fillEntities=function(e,t){var n=this;t.forEach((function(t){var r=n.loadMapItems.find((function(n){return n.target===e&&n.metadata.compareEntities(t,n.plainEntity)}));r&&(r.entity=t)}))},e.prototype.groupByTargetIds=function(){var e=[];return this.loadMapItems.forEach((function(t){var n=e.find((function(e){return e.target===t.target}));n||e.push(n={target:t.target,ids:[]}),n.ids.push(t.id)})),e},e}(),I=function(){function e(e){this.manager=e}return e.prototype.transform=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a=this;return r.e(this,(function(o){switch(o.label){case 0:return t.hasAllPrimaryKeys(e)?(n=new P,(i=function(e,a,o,s){var u=new D(e,a,o,s);n.addLoadMap(u),a.extractRelationValuesFromEntity(e,t.relations).filter((function(e){return null!=e})).forEach((function(e){var t=r.g(e,3);return i(t[1],t[2],u,t[0])}))})(e,t),[4,Promise.all(n.groupByTargetIds().map((function(e){return a.manager.findByIds(e.target,e.ids).then((function(t){return n.fillEntities(e.target,t)}))})))]):[2,Promise.reject("Given object does not have a primary column, cannot transform it to database entity.")];case 1:return o.sent(),n.loadMapItems.forEach((function(e){e.relation&&e.entity&&e.parentLoadMapItem&&e.parentLoadMapItem.entity&&(e.relation.isManyToMany||e.relation.isOneToMany?(e.parentLoadMapItem.entity[e.relation.propertyName]||(e.parentLoadMapItem.entity[e.relation.propertyName]=[]),e.parentLoadMapItem.entity[e.relation.propertyName].push(e.entity)):e.parentLoadMapItem.entity[e.relation.propertyName]=e.entity)})),[2,n.mainLoadMapItem?n.mainLoadMapItem.entity:void 0]}}))}))},e}(),L=function(e){function t(n){var r=e.call(this)||this;return r.name="CustomRepositoryNotFoundError",Object.setPrototypeOf(r,t.prototype),r.message="Custom repository "+(n instanceof Function?n.name:n.constructor.name)+" was not found. Did you forgot to put @EntityRepository decorator on it?",r}return r.d(t,e),t}(Error),F=function(e){function t(n){var r=e.call(this)||this;return r.name="CustomRepositoryDoesNotHaveEntityError",Object.setPrototypeOf(r,t.prototype),r.message="Custom repository "+(n instanceof Function?n.name:n.constructor.name)+" does not have managed entity. Did you forget to specify entity for it @EntityRepository(MyEntity)? ",r}return r.d(t,e),t}(Error),q=function(){function e(){}return Object.defineProperty(e.prototype,"repository",{get:function(){var e=this.getCustomRepositoryTarget(this);if(!e)throw new F(this.constructor);return this.manager.getRepository(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treeRepository",{get:function(){var e=this.getCustomRepositoryTarget(this);if(!e)throw new F(this.constructor);return this.manager.getTreeRepository(e)},enumerable:!0,configurable:!0}),e.prototype.createQueryBuilder=function(e){var t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new F(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)},e.prototype.createQueryBuilderFor=function(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)},e.prototype.getRepositoryFor=function(e){return this.manager.getRepository(e)},e.prototype.getTreeRepositoryFor=function(e){return this.manager.getTreeRepository(e)},e.prototype.getCustomRepositoryTarget=function(e){var t=zt().entityRepositories.find((function(t){return t.target===(e instanceof Function?e:e.constructor)}));if(!t)throw new L(e);return t.entity},e}(),B=function(e){function t(n){var r=e.call(this)||this;return r.name="CustomRepositoryCannotInheritRepositoryError",Object.setPrototypeOf(r,t.prototype),r.message="Custom entity repository "+(n instanceof Function?n.name:n.constructor.name)+"  cannot inherit Repository class without entity being set in the @EntityRepository decorator.",r}return r.d(t,e),t}(Error),U=function(e){function t(n,r){var i=e.call(this)||this;return i.name="RepositoryNotFoundError",Object.setPrototypeOf(i,t.prototype),i.message='No repository for "'+(r instanceof ut.a?r.options.name:"function"==typeof r?r.name:r)+'" was found. Looks like this entity is not registered in current "'+n+'" connection?',i}return r.d(t,e),t}(Error),V=function(e){function t(n){var r=e.call(this)||this;return r.name="RepositoryNotTreeError",Object.setPrototypeOf(r,t.prototype),r.message='Repository of the "'+(n instanceof ut.a?n.options.name:"function"==typeof n?n.name:n)+'" class is not a TreeRepository. Try to apply @Tree decorator on your entity.',r}return r.d(t,e),t}(Error),H=function(){function e(){}return e.prototype.create=function(e,t,n){if(t.treeType){var r=new j;return Object.assign(r,{manager:e,metadata:t,queryRunner:n}),r}return r=void 0,r=e.connection.driver instanceof d.a?new d.d:new N,Object.assign(r,{manager:e,metadata:t,queryRunner:n}),r},e}(),z=function(e){function t(n){var r=e.call(this)||this;return r.name="TreeRepositoryNotSupportedError",Object.setPrototypeOf(r,t.prototype),r.message="Tree repositories are not supported in "+n.options.type+" driver.",r}return r.d(t,e),t}(Error),Q=function(e){function t(n,r){var i=e.call(this)||this;return i.name="MustBeEntityError",Object.setPrototypeOf(i,t.prototype),i.message="Cannot "+n+', given value must be an entity, instead "'+r+'" is given.',i}return r.d(t,e),t}(Error),W=function(){function e(e){this.subjects=r.i(e),this.metadatas=this.getUniqueMetadatas(this.subjects)}return e.prototype.sort=function(e){var t=this;if(!this.metadatas.length)return this.subjects;var n=[];if("delete"===e){var i=this.subjects.filter((function(e){return!e.entity&&!e.databaseEntity}));n.push.apply(n,r.i(i)),this.removeAlreadySorted(i)}var a=this.getNonNullableDependencies(),o=this.toposort(a);"insert"===e&&(o=o.reverse()),o.forEach((function(e){var i=t.subjects.filter((function(t){return t.metadata.targetName===e}));n.push.apply(n,r.i(i)),t.removeAlreadySorted(i)}));var s=this.getDependencies(),u=this.toposort(s);return"insert"===e&&(u=u.reverse()),u.forEach((function(e){var i=t.subjects.filter((function(t){return t.metadata.targetName===e}));n.push.apply(n,r.i(i)),t.removeAlreadySorted(i)})),n.push.apply(n,r.i(this.subjects)),n},e.prototype.removeAlreadySorted=function(e){var t=this;e.forEach((function(e){t.subjects.splice(t.subjects.indexOf(e),1)}))},e.prototype.getUniqueMetadatas=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e.metadata)&&t.push(e.metadata)})),t},e.prototype.getNonNullableDependencies=function(){return this.metadatas.reduce((function(e,t){return t.relationsWithJoinColumns.forEach((function(n){n.isNullable||e.push([t.targetName,n.inverseEntityMetadata.targetName])})),e}),[])},e.prototype.getDependencies=function(){return this.metadatas.reduce((function(e,t){return t.relationsWithJoinColumns.forEach((function(n){n.inverseEntityMetadata!==t&&e.push([t.targetName,n.inverseEntityMetadata.targetName])})),e}),[])},e.prototype.toposort=function(e){for(var t=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.indexOf(i[0])<0&&t.push(i[0]),t.indexOf(i[1])<0&&t.push(i[1])}return t}(e),n=t.length,r=new Array(n),i={},a=n;a--;)i[a]||o(t[a],a,[]);function o(a,s,u){if(u.indexOf(a)>=0)throw new Error("Cyclic dependency: "+JSON.stringify(a));if(!~t.indexOf(a))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(a));if(!i[s]){i[s]=!0;var c=e.filter((function(e){return e[0]===a}));if(s=c.length){var l=u.concat(a);do{var h=c[--s][1];o(h,t.indexOf(h),l)}while(s)}r[--n]=a}}return r},e}(),K=n("JyJK"),G=n("BIia"),J=n("h5d3"),Y=function(){function e(){}return e.prototype.compute=function(e){var t=this;e.forEach((function(n){t.computeDiffColumns(n),t.computeDiffRelationalColumns(e,n)}))},e.prototype.computeDiffColumns=function(e){e.entity&&e.metadata.columns.forEach((function(t){if(!(t.isVirtual||t.isDiscriminator||t.isUpdateDate||t.isVersion||t.isCreateDate)){var n=e.changeMaps.find((function(e){return e.column===t}));n&&e.changeMaps.splice(e.changeMaps.indexOf(n),1);var r=t.getEntityValue(e.entity);if(void 0!==r){if(e.databaseEntity){var i=t.getEntityValue(e.databaseEntity);if(t.relationMetadata&&null!=t.relationMetadata.getEntityValue(e.entity))return;var a=r;if(null!==r)switch(t.type){case"date":a=K.a.mixedDateToDateString(r);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=K.a.mixedDateToTimeString(r);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=K.a.mixedDateToUtcDatetimeString(r),i=K.a.mixedDateToUtcDatetimeString(i);break;case"json":case"jsonb":if(J.a.deepCompare(r,i))return;break;case"simple-array":a=K.a.simpleArrayToString(r),i=K.a.simpleArrayToString(i);break;case"simple-enum":a=K.a.simpleEnumToString(r),i=K.a.simpleEnumToString(i);break;case"simple-json":a=K.a.simpleJsonToString(r),i=K.a.simpleJsonToString(i)}if(a===i)return}e.diffColumns.push(t),e.changeMaps.push({column:t,value:r})}}}))},e.prototype.computeDiffRelationalColumns=function(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach((function(n){var r=n.getEntityValue(t.entity);if(void 0!==r){if(t.databaseEntity){var i=r;null!==i&&i instanceof Object&&(i=n.getRelationIdMap(i));var a=n.getEntityValue(t.databaseEntity);if(G.a.compareIds(i,a))return;t.diffRelations.push(n)}var o=e.find((function(e){return e.mustBeInserted&&e.entity===r}));o&&(r=o);var s=t.changeMaps.find((function(e){return e.relation===n}));s?s.value=r:t.changeMaps.push({relation:n,value:r})}}))},e}(),Z=function(e){function t(n){var r=e.call(this)||this;return r.name="SubjectWithoutIdentifierError",Object.setPrototypeOf(r,t.prototype),r.message="Internal error. Subject "+n.metadata.targetName+" must have an identifier to perform operation. Please report a github issue if you face this error.",r}return r.d(t,e),t}(Error),X=function(e){function t(n){var r=e.call(this)||this;return r.name="SubjectRemovedAndUpdatedError",Object.setPrototypeOf(r,t.prototype),r.message='Removed entity "'+n.metadata.name+'" is also scheduled for update operation. Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).',r}return r.d(t,e),t}(Error),$=n("2ELk"),ee=function(){function e(e){this.queryRunner=e}return e.prototype.insert=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,c=this;return r.e(this,(function(r){switch(r.label){case 0:return t=function(e){return c.queryRunner.connection.driver.escape(e)},n=this.getTableName(e.metadata.tablePath),i=t(e.metadata.nestedSetLeftColumn.databaseName),a=t(e.metadata.nestedSetRightColumn.databaseName),!(o=e.metadata.treeParentRelation.getEntityValue(e.entity))&&e.parentSubject&&e.parentSubject.entity&&(o=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),s=e.metadata.getEntityIdMap(o),u=void 0,s?[4,this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(s).getRawOne().then((function(e){var t=e?e.right:void 0;return"string"==typeof t?parseInt(t):t}))]:[3,2];case 1:u=r.sent(),r.label=2;case 2:return void 0===u?[3,4]:[4,this.queryRunner.query("UPDATE "+n+" SET "+i+" = CASE WHEN "+i+" > "+u+" THEN "+i+" + 2 ELSE "+i+" END,"+a+" = "+a+" + 2 WHERE "+a+" >= "+u)];case 3:return r.sent(),J.a.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(u),e.metadata.nestedSetRightColumn.createValueMap(u+1)),[3,5];case 4:J.a.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2)),r.label=5;case 5:return[2]}}))}))},e.prototype.getTableName=function(e){var t=this;return e.split(".").map((function(e){return""===e?e:t.queryRunner.connection.driver.escape(e)})).join(".")},e}(),te=function(e){function t(n){var r=e.call(this)||this;return r.name="CannotAttachTreeChildrenEntityError",Object.setPrototypeOf(r,t.prototype),r.message='Cannot attach entity "'+n+'" to its parent. Please make sure parent is saved in the database before saving children nodes.',r}return r.d(t,e),t}(Error),ne=function(){function e(e){this.queryRunner=e}return e.prototype.insert=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,c,l,h,f=this;return r.e(this,(function(d){switch(d.label){case 0:return t={},e.metadata.closureJunctionTable.ancestorColumns.forEach((function(n){t[n.databaseName]=e.identifier})),e.metadata.closureJunctionTable.descendantColumns.forEach((function(n){t[n.databaseName]=e.identifier})),[4,this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute()];case 1:return d.sent(),!(n=e.metadata.treeParentRelation.getEntityValue(e.entity))&&e.parentSubject&&e.parentSubject.entity&&(n=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),n?(i=function(e){return f.queryRunner.connection.driver.escape(e)},a=this.getTableName(e.metadata.closureJunctionTable.tablePath),o=e.metadata.closureJunctionTable.ancestorColumns.map((function(e){return i(e.databaseName)})),s=e.metadata.closureJunctionTable.descendantColumns.map((function(e){return i(e.databaseName)})),u=[],c=e.metadata.primaryColumns.map((function(t){return t.getEntityValue(e.insertedValueSet)})),l=e.metadata.primaryColumns.map((function(e,t){return u.push(c[t]),f.queryRunner.connection.driver.createParameter("child_entity_"+e.databaseName,u.length-1)})),h=e.metadata.primaryColumns.map((function(t){var r=i(t.databaseName+"_descendant"),a=t.getEntityValue(n);if(!a)throw new te(e.metadata.name);return u.push(a),r+" = "+f.queryRunner.connection.driver.createParameter("parent_entity_"+t.databaseName,u.length-1)})).join(", "),[4,this.queryRunner.query("INSERT INTO "+a+" ("+r.i(o,s).join(", ")+") SELECT "+o.join(", ")+", "+l.join(", ")+" FROM "+a+" WHERE "+h,u)]):[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}}))}))},e.prototype.getTableName=function(e){var t=this;return e.split(".").map((function(e){return""===e?e:t.queryRunner.connection.driver.escape(e)})).join(".")},e}(),re=function(){function e(e){this.queryRunner=e}return e.prototype.insert=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return!(n=e.metadata.treeParentRelation.getEntityValue(e.entity))&&e.parentSubject&&e.parentSubject.entity&&(n=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),i=e.metadata.getEntityIdMap(n),a="",i?[4,this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).whereInIds(i).getRawOne().then((function(e){return e?e.path:void 0}))]:[3,2];case 1:a=r.sent(),r.label=2;case 2:return o=e.metadata.treeParentRelation.joinColumns.map((function(t){return t.referencedColumn.getEntityValue(e.insertedValueSet)})).join("_"),[4,this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set((t={},t[e.metadata.materializedPathColumn.propertyPath]=a+o+".",t)).where(e.identifier).execute()];case 3:return r.sent(),[2]}}))}))},e}(),ie=function(){function e(e,t,n){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=n,this.validate(),this.recompute()}return e.prototype.execute=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){switch(t.label){case 0:return e=void 0,this.options&&!1===this.options.listeners?[3,2]:(e=this.broadcastBeforeEventsForAll()).promises.length>0?[4,Promise.all(e.promises)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e&&e.count>0&&(this.insertSubjects.forEach((function(e){return e.recompute()})),this.updateSubjects.forEach((function(e){return e.recompute()})),this.removeSubjects.forEach((function(e){return e.recompute()})),this.softRemoveSubjects.forEach((function(e){return e.recompute()})),this.recoverSubjects.forEach((function(e){return e.recompute()})),this.recompute()),this.insertSubjects=new W(this.insertSubjects).sort("insert"),[4,this.executeInsertOperations()];case 3:return t.sent(),this.updateSubjects=this.allSubjects.filter((function(e){return e.mustBeUpdated})),[4,this.executeUpdateOperations()];case 4:return t.sent(),this.removeSubjects=new W(this.removeSubjects).sort("delete"),[4,this.executeRemoveOperations()];case 5:return t.sent(),this.softRemoveSubjects=this.allSubjects.filter((function(e){return e.mustBeSoftRemoved})),[4,this.executeSoftRemoveOperations()];case 6:return t.sent(),this.recoverSubjects=this.allSubjects.filter((function(e){return e.mustBeRecovered})),[4,this.executeRecoverOperations()];case 7:return t.sent(),[4,this.updateSpecialColumnsInPersistedEntities()];case 8:return t.sent(),this.options&&!1===this.options.listeners?[3,10]:(e=this.broadcastAfterEventsForAll()).promises.length>0?[4,Promise.all(e.promises)]:[3,10];case 9:t.sent(),t.label=10;case 10:return[2]}}))}))},e.prototype.validate=function(){this.allSubjects.forEach((function(e){if(e.mustBeUpdated&&e.mustBeRemoved)throw new X(e)}))},e.prototype.recompute=function(){(new Y).compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter((function(e){return e.mustBeInserted})),this.updateSubjects=this.allSubjects.filter((function(e){return e.mustBeUpdated})),this.removeSubjects=this.allSubjects.filter((function(e){return e.mustBeRemoved})),this.softRemoveSubjects=this.allSubjects.filter((function(e){return e.mustBeSoftRemoved})),this.recoverSubjects=this.allSubjects.filter((function(e){return e.mustBeRecovered})),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0},e.prototype.broadcastBeforeEventsForAll=function(){var e=this,t=new $.a;return this.insertSubjects.length&&this.insertSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastBeforeInsertEvent(t,n.metadata,n.entity)})),this.updateSubjects.length&&this.updateSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastBeforeUpdateEvent(t,n.metadata,n.entity,n.databaseEntity,n.diffColumns,n.diffRelations)})),this.removeSubjects.length&&this.removeSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastBeforeRemoveEvent(t,n.metadata,n.entity,n.databaseEntity)})),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastBeforeUpdateEvent(t,n.metadata,n.entity,n.databaseEntity,n.diffColumns,n.diffRelations)})),this.recoverSubjects.length&&this.recoverSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastBeforeUpdateEvent(t,n.metadata,n.entity,n.databaseEntity,n.diffColumns,n.diffRelations)})),t},e.prototype.broadcastAfterEventsForAll=function(){var e=this,t=new $.a;return this.insertSubjects.length&&this.insertSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastAfterInsertEvent(t,n.metadata,n.entity)})),this.updateSubjects.length&&this.updateSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastAfterUpdateEvent(t,n.metadata,n.entity,n.databaseEntity,n.diffColumns,n.diffRelations)})),this.removeSubjects.length&&this.removeSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastAfterRemoveEvent(t,n.metadata,n.entity,n.databaseEntity)})),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastAfterUpdateEvent(t,n.metadata,n.entity,n.databaseEntity,n.diffColumns,n.diffRelations)})),this.recoverSubjects.length&&this.recoverSubjects.forEach((function(n){return e.queryRunner.broadcaster.broadcastAfterUpdateEvent(t,n.metadata,n.entity,n.databaseEntity,n.diffColumns,n.diffRelations)})),t},e.prototype.executeInsertOperations=function(){return r.b(this,void 0,void 0,(function(){var e,t,n=this;return r.e(this,(function(i){switch(i.label){case 0:return e=r.g(this.groupBulkSubjects(this.insertSubjects,"insert"),2),t=e[0],[4,f.a.runInSequence(e[1],(function(e){return r.b(n,void 0,void 0,(function(){var n,i,a,o,s,u,c=this;return r.e(this,(function(l){switch(l.label){case 0:return i=[],a=[],o=[],(n=t[e]).forEach(this.queryRunner.connection.driver instanceof d.a?function(e){e.metadata.createDateColumn&&e.entity&&(e.entity[e.metadata.createDateColumn.databaseName]=new Date),e.metadata.updateDateColumn&&e.entity&&(e.entity[e.metadata.updateDateColumn.databaseName]=new Date),e.createValueSetAndPopChangeMap(),a.push(e),i.push(e.entity)}:this.queryRunner.connection.driver instanceof d.f?function(e){o.push(e)}:function(e){0===e.changeMaps.length||e.metadata.treeType||c.queryRunner.connection.driver instanceof d.f||c.queryRunner.connection.driver instanceof d.h?o.push(e):(a.push(e),i.push(e.createValueSetAndPopChangeMap()))}),this.queryRunner instanceof d.c?[4,this.queryRunner.manager.insert(n[0].metadata.target,i)]:[3,2];case 1:return s=l.sent(),n.forEach((function(e,t){e.identifier=s.identifiers[t],e.generatedMap=s.generatedMaps[t],e.insertedValueSet=i[t]})),[3,6];case 2:return i.length>0?[4,this.queryRunner.manager.createQueryBuilder().insert().into(n[0].metadata.target).values(i).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1).execute()]:[3,4];case 3:u=l.sent(),a.forEach((function(e,t){e.identifier=u.identifiers[t],e.generatedMap=u.generatedMaps[t],e.insertedValueSet=i[t]})),l.label=4;case 4:return o.length>0?[4,f.a.runInSequence(o,(function(e){return r.b(c,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return e.insertedValueSet=e.createValueSetAndPopChangeMap(),"nested-set"!==e.metadata.treeType?[3,2]:[4,new ee(this.queryRunner).insert(e)];case 1:t.sent(),t.label=2;case 2:return[4,this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.target).values(e.insertedValueSet).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1).execute().then((function(t){e.identifier=t.identifiers[0],e.generatedMap=t.generatedMaps[0]}))];case 3:return t.sent(),"closure-table"!==e.metadata.treeType?[3,5]:[4,new ne(this.queryRunner).insert(e)];case 4:return t.sent(),[3,7];case 5:return"materialized-path"!==e.metadata.treeType?[3,7]:[4,new re(this.queryRunner).insert(e)];case 6:t.sent(),t.label=7;case 7:return[2]}}))}))}))]:[3,6];case 5:l.sent(),l.label=6;case 6:return n.forEach((function(e){e.generatedMap&&e.metadata.columns.forEach((function(t){var n=t.getEntityValue(e.generatedMap);if(null!=n){var r=c.queryRunner.connection.driver.prepareHydratedValue(n,t);t.setEntityValue(e.generatedMap,r)}}))})),[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))},e.prototype.executeUpdateOperations=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.updateSubjects.map((function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a,o=this;return r.e(this,(function(r){switch(r.label){case 0:if(!t.identifier)throw new Z(t);return this.queryRunner instanceof d.c?(e=J.a.mergeDeep({},t.entity),t.metadata.objectIdColumn&&t.metadata.objectIdColumn.propertyName&&delete e[t.metadata.objectIdColumn.propertyName],t.metadata.createDateColumn&&t.metadata.createDateColumn.propertyName&&delete e[t.metadata.createDateColumn.propertyName],t.metadata.updateDateColumn&&t.metadata.updateDateColumn.propertyName&&(e[t.metadata.updateDateColumn.propertyName]=new Date),[4,this.queryRunner.manager.update(t.metadata.target,t.identifier,e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return n=t.createValueSetAndPopChangeMap(),i=this.queryRunner.manager.createQueryBuilder().update(t.metadata.target).set(n).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1),t.entity?i.whereEntity(t.identifier):i.where(t.identifier),[4,i.execute()];case 3:a=r.sent(),t.generatedMap=a.generatedMaps[0],t.generatedMap&&t.metadata.columns.forEach((function(e){var n=e.getEntityValue(t.generatedMap);if(null!=n){var r=o.queryRunner.connection.driver.prepareHydratedValue(n,e);e.setEntityValue(t.generatedMap,r)}})),r.label=4;case 4:return[2]}}))}))})))];case 1:return t.sent(),[2]}}))}))},e.prototype.executeRemoveOperations=function(){return r.b(this,void 0,void 0,(function(){var e,t,n=this;return r.e(this,(function(i){switch(i.label){case 0:return e=r.g(this.groupBulkSubjects(this.removeSubjects,"delete"),2),t=e[0],[4,f.a.runInSequence(e[1],(function(e){return r.b(n,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){switch(r.label){case 0:return i=(n=t[e]).map((function(e){if(!e.identifier)throw new Z(e);return e.identifier})),this.queryRunner instanceof d.c?[4,this.queryRunner.manager.delete(n[0].metadata.target,i)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,this.queryRunner.manager.createQueryBuilder().delete().from(n[0].metadata.target).where(i).callListeners(!1).execute()];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}))];case 1:return i.sent(),[2]}}))}))},e.prototype.executeSoftRemoveOperations=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.softRemoveSubjects.map((function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a=this;return r.e(this,(function(r){switch(r.label){case 0:if(!t.identifier)throw new Z(t);return this.queryRunner instanceof d.c?(e=J.a.mergeDeep({},t.entity),t.metadata.objectIdColumn&&t.metadata.objectIdColumn.propertyName&&delete e[t.metadata.objectIdColumn.propertyName],t.metadata.createDateColumn&&t.metadata.createDateColumn.propertyName&&delete e[t.metadata.createDateColumn.propertyName],t.metadata.updateDateColumn&&t.metadata.updateDateColumn.propertyName&&(e[t.metadata.updateDateColumn.propertyName]=new Date),t.metadata.deleteDateColumn&&t.metadata.deleteDateColumn.propertyName&&(e[t.metadata.deleteDateColumn.propertyName]=new Date),[4,this.queryRunner.manager.update(t.metadata.target,t.identifier,e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return n=this.queryRunner.manager.createQueryBuilder().softDelete().from(t.metadata.target).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1),t.entity?n.whereEntity(t.identifier):n.where(t.identifier),[4,n.execute()];case 3:i=r.sent(),t.generatedMap=i.generatedMaps[0],t.generatedMap&&t.metadata.columns.forEach((function(e){var n=e.getEntityValue(t.generatedMap);if(null!=n){var r=a.queryRunner.connection.driver.prepareHydratedValue(n,e);e.setEntityValue(t.generatedMap,r)}})),r.label=4;case 4:return[2]}}))}))})))];case 1:return t.sent(),[2]}}))}))},e.prototype.executeRecoverOperations=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.recoverSubjects.map((function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a=this;return r.e(this,(function(r){switch(r.label){case 0:if(!t.identifier)throw new Z(t);return this.queryRunner instanceof d.c?(e=J.a.mergeDeep({},t.entity),t.metadata.objectIdColumn&&t.metadata.objectIdColumn.propertyName&&delete e[t.metadata.objectIdColumn.propertyName],t.metadata.createDateColumn&&t.metadata.createDateColumn.propertyName&&delete e[t.metadata.createDateColumn.propertyName],t.metadata.updateDateColumn&&t.metadata.updateDateColumn.propertyName&&(e[t.metadata.updateDateColumn.propertyName]=new Date),t.metadata.deleteDateColumn&&t.metadata.deleteDateColumn.propertyName&&(e[t.metadata.deleteDateColumn.propertyName]=null),[4,this.queryRunner.manager.update(t.metadata.target,t.identifier,e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return n=this.queryRunner.manager.createQueryBuilder().restore().from(t.metadata.target).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1),t.entity?n.whereEntity(t.identifier):n.where(t.identifier),[4,n.execute()];case 3:i=r.sent(),t.generatedMap=i.generatedMaps[0],t.generatedMap&&t.metadata.columns.forEach((function(e){var n=e.getEntityValue(t.generatedMap);if(null!=n){var r=a.queryRunner.connection.driver.prepareHydratedValue(n,e);e.setEntityValue(t.generatedMap,r)}})),r.label=4;case 4:return[2]}}))}))})))];case 1:return t.sent(),[2]}}))}))},e.prototype.updateSpecialColumnsInPersistedEntities=function(){var e=this;this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach((function(e){e.entity&&e.metadata.primaryColumns.forEach((function(t){t.setEntityValue(e.entity,void 0)}))})),this.allSubjects.forEach((function(t){t.entity&&(t.metadata.relationIds.forEach((function(e){e.setValue(t.entity)})),e.queryRunner instanceof d.c&&t.metadata.objectIdColumn&&t.metadata.objectIdColumn.databaseName&&t.metadata.objectIdColumn.databaseName!==t.metadata.objectIdColumn.propertyName&&delete t.entity[t.metadata.objectIdColumn.databaseName])}))},e.prototype.updateSpecialColumnsInInsertedAndUpdatedEntities=function(e){var t=this;e.forEach((function(e){e.entity&&(e.metadata.columns.forEach((function(t){e.metadata.childEntityMetadatas.length>0&&-1!==e.metadata.childEntityMetadatas.map((function(e){return e.target})).indexOf(t.target)||t.isVirtual||(t.isNullable&&void 0===t.getEntityValue(e.entity)&&t.setEntityValue(e.entity,null),e.updatedRelationMaps.length>0&&e.updatedRelationMaps.forEach((function(t){t.relation.joinColumns.forEach((function(n){!0!==n.isVirtual&&n.setEntityValue(e.entity,t.value instanceof Object?n.referencedColumn.getEntityValue(t.value):t.value)}))})))})),e.generatedMap&&t.queryRunner.manager.merge(e.metadata.target,e.entity,e.generatedMap))}))},e.prototype.groupBulkSubjects=function(e,t){var n={},r=[],i="delete"===t||this.queryRunner.connection.driver.isReturningSqlSupported();return e.forEach((function(e,t){var a=i||e.metadata.isJunction?e.metadata.name:e.metadata.name+"_"+t;n[a]?n[a].push(e):(n[a]=[e],r.push(a))})),[n,r]},e}(),ae=function(e){function t(n){var r=e.call(this)||this;return r.name="CannotDetermineEntityError",Object.setPrototypeOf(r,t.prototype),r.message="Cannot "+n+", given value must be instance of entity class, instead object literal is given. Or you must specify an entity target to method call.",r}return r.d(t,e),t}(Error),oe=function(){function e(e){var t;this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,void 0!==e.canBeInserted&&(this.canBeInserted=e.canBeInserted),void 0!==e.canBeUpdated&&(this.canBeUpdated=e.canBeUpdated),void 0!==e.mustBeRemoved&&(this.mustBeRemoved=e.mustBeRemoved),void 0!==e.canBeSoftRemoved&&(this.canBeSoftRemoved=e.canBeSoftRemoved),void 0!==e.canBeRecovered&&(this.canBeRecovered=e.canBeRecovered),void 0!==e.identifier&&(this.identifier=e.identifier),void 0!==e.changeMaps&&(t=this.changeMaps).push.apply(t,r.i(e.changeMaps)),this.recompute()}return Object.defineProperty(e.prototype,"mustBeInserted",{get:function(){return this.canBeInserted&&!this.databaseEntity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mustBeUpdated",{get:function(){return this.canBeUpdated&&this.identifier&&(!1===this.databaseEntityLoaded||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mustBeSoftRemoved",{get:function(){return this.canBeSoftRemoved&&this.identifier&&(!1===this.databaseEntityLoaded||this.databaseEntityLoaded&&this.databaseEntity)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mustBeRecovered",{get:function(){return this.canBeRecovered&&this.identifier&&(!1===this.databaseEntityLoaded||this.databaseEntityLoaded&&this.databaseEntity)},enumerable:!0,configurable:!0}),e.prototype.createValueSetAndPopChangeMap=function(){var t=this,n=[],r=this.changeMaps.reduce((function(r,i){var a,o=i.value;if(o instanceof e&&(o=o.insertedValueSet?o.insertedValueSet:o.entity),t.metadata.isJunction&&i.column)a=i.column.createValueMap(i.column.referencedColumn.getEntityValue(o));else if(i.column)a=i.column.createValueMap(o);else if(i.relation)if(o instanceof Object){var s=i.relation.getRelationIdMap(o);if(void 0===s)return n.push(i),t.canBeUpdated=!0,r;a=i.relation.createValueMap(s),t.updatedRelationMaps.push({relation:i.relation,value:s})}else a=i.relation.createValueMap(o),t.updatedRelationMaps.push({relation:i.relation,value:o});return J.a.mergeDeep(r,a),r}),{});return this.changeMaps=n,r},e.prototype.recompute=function(){var e=this;this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach((function(t){t.relationMetadata&&t.relationMetadata.inverseEntityMetadata===e.parentSubject.metadata&&t.setEntityValue(e.entityWithFulfilledIds,e.parentSubject.entity)})),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))},e}(),se=function(){function e(e){this.subjects=e}return e.prototype.build=function(){var e=this;this.subjects.forEach((function(t){t.metadata.oneToManyRelations.forEach((function(n){!1!==n.persistenceEnabled&&e.buildForSubjectRelation(t,n)}))}))},e.prototype.buildForSubjectRelation=function(e,t){var n=this,r=[];e.databaseEntity&&(r=t.getEntityValue(e.databaseEntity));var i=t.getEntityValue(e.entity);if(null===i&&(i=[]),void 0!==i){var a=[];i.forEach((function(i){var o=t.inverseEntityMetadata.getEntityIdMap(i),s=n.subjects.find((function(e){return e.entity===i}));if(s&&(o=s.identifier),o)r.find((function(e){return J.a.deepCompare(o,e)}))||(s||(s=new oe({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:o}),n.subjects.push(s)),s.changeMaps.push({relation:t.inverseRelation,value:e})),a.push(o);else{if(!s)return;s.changeMaps.push({relation:t.inverseRelation,value:e})}})),G.a.difference(r,a).forEach((function(r){var i=new oe({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:r,changeMaps:[{relation:t.inverseRelation,value:null}]});n.subjects.push(i)}))}},e}(),ue=function(){function e(e){this.subjects=e}return e.prototype.build=function(){var e=this;this.subjects.forEach((function(t){t.metadata.oneToOneRelations.forEach((function(n){n.isOwning||!1===n.persistenceEnabled||e.buildForSubjectRelation(t,n)}))}))},e.prototype.buildForSubjectRelation=function(e,t){var n=void 0;e.databaseEntity&&(n=t.getEntityValue(e.databaseEntity));var r=t.getEntityValue(e.entity);if(void 0!==r)if(null!==r){var i=t.inverseEntityMetadata.getEntityIdMap(r),a=this.subjects.find((function(e){return!!e.entity&&e.entity===r}));if(a&&(i=a.identifier),!i){if(!a)return;a.changeMaps.push({relation:t.inverseRelation,value:e})}n&&J.a.deepCompare(i,n)||(a||(a=new oe({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:i}),this.subjects.push(a)),a.changeMaps.push({relation:t.inverseRelation,value:e}))}else if(n){var o=new oe({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:n,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(o)}},e}(),ce=function(){function e(e){this.subjects=e}return e.prototype.build=function(){var e=this;this.subjects.forEach((function(t){t.entity&&t.metadata.manyToManyRelations.forEach((function(n){!1!==n.persistenceEnabled&&e.buildForSubjectRelation(t,n)}))}))},e.prototype.buildForAllRemoval=function(e){var t=this;e.databaseEntity&&e.metadata.manyToManyRelations.forEach((function(n){!1!==n.persistenceEnabled&&n.getEntityValue(e.databaseEntity).forEach((function(r){var i=new oe({metadata:n.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:t.buildJunctionIdentifier(e,n,r)});t.subjects.push(i)}))}))},e.prototype.buildForSubjectRelation=function(e,t){var n=this,r=[];e.databaseEntity&&(r=t.getEntityValue(e.databaseEntity));var i=t.getEntityValue(e.entity);if(null===i&&(i=[]),Array.isArray(i)){i.forEach((function(i){var a=t.inverseEntityMetadata.getEntityIdMap(i),o=n.subjects.find((function(e){return e.entity===i}));if(o&&(a=o.identifier),(a||o)&&!r.find((function(e){return G.a.compareIds(e,a)}))){var s=t.isOwning?e:o||i,u=t.isOwning?o||i:e,c=new oe({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});n.subjects.push(c),t.junctionEntityMetadata.ownerColumns.forEach((function(e){c.changeMaps.push({column:e,value:s})})),t.junctionEntityMetadata.inverseColumns.forEach((function(e){c.changeMaps.push({column:e,value:u})}))}}));var a=[];i.forEach((function(e){var r=t.inverseEntityMetadata.getEntityIdMap(e),i=n.subjects.find((function(t){return t.entity===e}));i&&(r=i.identifier),null!=r&&a.push(r)})),r.filter((function(e){return!a.find((function(t){return G.a.compareIds(t,e)}))})).forEach((function(r){var i=new oe({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:n.buildJunctionIdentifier(e,t,r)});n.subjects.push(i)}))}},e.prototype.buildJunctionIdentifier=function(e,t,n){var r=t.isOwning?e.entity:n,i=t.isOwning?n:e.entity,a={};return t.junctionEntityMetadata.ownerColumns.forEach((function(e){J.a.mergeDeep(a,e.createValueMap(e.referencedColumn.getEntityValue(r)))})),t.junctionEntityMetadata.inverseColumns.forEach((function(e){J.a.mergeDeep(a,e.createValueMap(e.referencedColumn.getEntityValue(i)))})),a},e}(),le=function(){function e(e,t){this.queryRunner=e,this.subjects=t}return e.prototype.load=function(e){return r.b(this,void 0,void 0,(function(){var t,n=this;return r.e(this,(function(i){switch(i.label){case 0:return t=this.groupByEntityTargets().map((function(t){return r.b(n,void 0,void 0,(function(){var n,i,a,o,s,u,c,l,h=this;return r.e(this,(function(f){switch(f.label){case 0:return a=[],o=[],t.subjects.forEach((function(e){!e.databaseEntity&&e.identifier&&(a.push(e.identifier),o.push(e))})),a.length?(s=[],"save"===e||"soft-remove"===e||"recover"===e?t.subjects.forEach((function(e){e.metadata.relations.forEach((function(t){void 0!==t.getEntityValue(e.entityWithFulfilledIds)&&-1===s.indexOf(t.propertyPath)&&s.push(t.propertyPath)}))})):s.push.apply(s,r.i(t.subjects[0].metadata.manyToManyRelations.map((function(e){return e.propertyPath})))),u={loadEagerRelations:!1,loadRelationIds:{relations:s,disableMixedMap:!0},withDeleted:!0},[4,this.queryRunner.manager.getRepository(t.target).findByIds(a,u)]):[2];case 1:f.sent().forEach((function(e){h.findByPersistEntityLike(t.target,e).forEach((function(t){t.databaseEntity=e,t.identifier||(t.identifier=t.metadata.hasAllPrimaryKeys(e)?t.metadata.getEntityIdMap(e):void 0)}))}));try{for(c=r.k(o),l=c.next();!l.done;l=c.next())l.value.databaseEntityLoaded=!0}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return[2]}}))}))})),[4,Promise.all(t)];case 1:return i.sent(),[2]}}))}))},e.prototype.findByPersistEntityLike=function(e,t){return this.subjects.filter((function(n){return!!n.entity&&(n.entity===t||n.metadata.target===e&&n.metadata.compareEntities(n.entityWithFulfilledIds,t))}))},e.prototype.groupByEntityTargets=function(){return this.subjects.reduce((function(e,t){var n=e.find((function(e){return e.target===t.metadata.target}));return n||e.push(n={target:t.metadata.target,subjects:[]}),n.subjects.push(t),e}),[])},e}(),he=function(){function e(e){this.allSubjects=e}return e.prototype.build=function(e,t){var n=this;e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach((function(i){var a=r.g(i,3),o=a[0],s=a[1],u=a[2];if(null!=s&&(o.isCascadeInsert||o.isCascadeUpdate||o.isCascadeSoftRemove||o.isCascadeRecover)&&s instanceof Object){var c=n.findByPersistEntityLike(u.target,s);if(c)return!1===c.canBeInserted&&(c.canBeInserted=!0===o.isCascadeInsert&&"save"===t),!1===c.canBeUpdated&&(c.canBeUpdated=!0===o.isCascadeUpdate&&"save"===t),!1===c.canBeSoftRemoved&&(c.canBeSoftRemoved=!0===o.isCascadeSoftRemove&&"soft-remove"===t),void(!1===c.canBeRecovered&&(c.canBeRecovered=!0===o.isCascadeRecover&&"recover"===t));var l=new oe({metadata:u,parentSubject:e,entity:s,canBeInserted:!0===o.isCascadeInsert&&"save"===t,canBeUpdated:!0===o.isCascadeUpdate&&"save"===t,canBeSoftRemoved:!0===o.isCascadeSoftRemove&&"soft-remove"===t,canBeRecovered:!0===o.isCascadeRecover&&"recover"===t});n.allSubjects.push(l),n.build(l,t)}}))},e.prototype.findByPersistEntityLike=function(e,t){return this.allSubjects.find((function(n){return!!n.entity&&(n.entity===t||n.metadata.target===e&&n.metadata.compareEntities(n.entityWithFulfilledIds,t))}))},e}(),fe=function(){function e(e,t,n,r,i,a){this.connection=e,this.queryRunner=t,this.mode=n,this.target=r,this.entity=i,this.options=a}return e.prototype.execute=function(){var e=this;return this.entity&&this.entity instanceof Object?Promise.resolve().then((function(){return r.b(e,void 0,void 0,(function(){var e,t,n,i,a,o,s,u=this;return r.e(this,(function(c){switch(c.label){case 0:e=this.queryRunner||this.connection.createQueryRunner("master"),this.options&&this.options.data&&(e.data=this.options.data),c.label=1;case 1:return c.trys.push([1,,15,18]),t=Array.isArray(this.entity)?this.entity:[this.entity],n=this.options&&this.options.chunk&&this.options.chunk>0?J.a.chunk(t,this.options.chunk):[t],[4,Promise.all(n.map((function(t){return r.b(u,void 0,void 0,(function(){var n,i,a=this;return r.e(this,(function(r){switch(r.label){case 0:return n=[],t.forEach((function(e){var t=a.target?a.target:e.constructor;if(t===Object)throw new ae(a.mode);n.push(new oe({metadata:a.connection.getMetadata(t),entity:e,canBeInserted:"save"===a.mode,canBeUpdated:"save"===a.mode,mustBeRemoved:"remove"===a.mode,canBeSoftRemoved:"soft-remove"===a.mode,canBeRecovered:"recover"===a.mode}))})),i=new he(n),n.forEach((function(e){i.build(e,a.mode)})),[4,new le(e,n).load(this.mode)];case 1:return r.sent(),"save"===this.mode||"soft-remove"===this.mode||"recover"===this.mode?(new se(n).build(),new ue(n).build(),new ce(n).build()):n.forEach((function(e){e.mustBeRemoved&&new ce(n).buildForAllRemoval(e)})),[2,new ie(e,n,this.options)]}}))}))})))];case 2:if(i=c.sent(),0===(a=i.filter((function(e){return e.hasExecutableOperations}))).length)return[2];o=!1,c.label=3;case 3:return c.trys.push([3,9,,14]),e.isTransactionActive||this.options&&!1===this.options.transaction?[3,5]:(o=!0,[4,e.startTransaction()]);case 4:c.sent(),c.label=5;case 5:return[4,f.a.runInSequence(a,(function(e){return e.execute()}))];case 6:return c.sent(),!0!==o?[3,8]:[4,e.commitTransaction()];case 7:c.sent(),c.label=8;case 8:return[3,14];case 9:if(s=c.sent(),!o)return[3,13];c.label=10;case 10:return c.trys.push([10,12,,13]),[4,e.rollbackTransaction()];case 11:case 12:return c.sent(),[3,13];case 13:throw s;case 14:return[3,18];case 15:return this.queryRunner?[3,17]:[4,e.release()];case 16:c.sent(),c.label=17;case 17:return[7];case 18:return[2]}}))}))})):Promise.reject(new Q(this.mode,this.entity))},e}(),de=n("PFrq"),pe=function(){function e(e,t){this.repositories=[],this.plainObjectToEntityTransformer=new R,this.connection=e,t&&(this.queryRunner=t,de.a.assign(this.queryRunner,{manager:this}))}return e.prototype.transaction=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:if(n="string"==typeof e?e:void 0,!(i="function"==typeof e?e:t))throw new Error("Transaction method requires callback in second paramter if isolation level is supplied.");if(this.connection.driver instanceof d.a)throw new Error("Transactions aren't supported by MongoDB.");if(this.queryRunner&&this.queryRunner.isReleased)throw new _;if(this.queryRunner&&this.queryRunner.isTransactionActive)throw new Error("Cannot start transaction because its already started");a=this.queryRunner||this.connection.createQueryRunner("master"),r.label=1;case 1:return r.trys.push([1,8,13,16]),n?[4,a.startTransaction(n)]:[3,3];case 2:return r.sent(),[3,5];case 3:return[4,a.startTransaction()];case 4:r.sent(),r.label=5;case 5:return[4,i(a.manager)];case 6:return o=r.sent(),[4,a.commitTransaction()];case 7:return r.sent(),[2,o];case 8:s=r.sent(),r.label=9;case 9:return r.trys.push([9,11,,12]),[4,a.rollbackTransaction()];case 10:case 11:return r.sent(),[3,12];case 12:throw s;case 13:return this.queryRunner?[3,15]:[4,a.release()];case 14:r.sent(),r.label=15;case 15:return[7];case 16:return[2]}}))}))},e.prototype.query=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){return[2,this.connection.query(e,t,this.queryRunner)]}))}))},e.prototype.createQueryBuilder=function(e,t,n){return t?this.connection.createQueryBuilder(e,t,n||this.queryRunner):this.connection.createQueryBuilder(e||n||this.queryRunner)},e.prototype.hasId=function(e,t){var n=2===arguments.length?e:e.constructor,r=2===arguments.length?t:e,i=this.connection.getMetadata(n);return i.hasId(r)},e.prototype.getId=function(e,t){var n=2===arguments.length?e:e.constructor,r=2===arguments.length?t:e,i=this.connection.getMetadata(n);return i.getEntityIdMixedMap(r)},e.prototype.create=function(e,t){var n=this,r=this.connection.getMetadata(e);if(!t)return r.create(this.queryRunner);if(Array.isArray(t))return t.map((function(t){return n.create(e,t)}));var i=r.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(i,t,r,!0),i},e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=this.connection.getMetadata(e);return r.forEach((function(e){return n.plainObjectToEntityTransformer.transform(t,e,a)})),t},e.prototype.preload=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){switch(r.label){case 0:return n=this.connection.getMetadata(e),[4,new I(this.connection.manager).transform(t,n)];case 1:return(i=r.sent())?[2,this.merge(e,i,t)]:[2,void 0]}}))}))},e.prototype.save=function(e,t,n){var r=arguments.length>1&&(e instanceof Function||e instanceof ut.a||"string"==typeof e)?e:void 0,i=r?t:e,a=r?n:t;return r instanceof ut.a&&(r=r.options.name),Array.isArray(i)&&0===i.length?Promise.resolve(i):new fe(this.connection,this.queryRunner,"save",r,i,a).execute().then((function(){return i}))},e.prototype.remove=function(e,t,n){var r=arguments.length>1&&(e instanceof Function||"string"==typeof e)?e:void 0,i=r?t:e,a=r?n:t;return Array.isArray(i)&&0===i.length?Promise.resolve(i):new fe(this.connection,this.queryRunner,"remove",r,i,a).execute().then((function(){return i}))},e.prototype.softRemove=function(e,t,n){var r=arguments.length>1&&(e instanceof Function||e instanceof ut.a||"string"==typeof e)?e:void 0,i=r?t:e,a=r?n:t;return r instanceof ut.a&&(r=r.options.name),i instanceof Array&&0===i.length?Promise.resolve(i):new fe(this.connection,this.queryRunner,"soft-remove",r,i,a).execute().then((function(){return i}))},e.prototype.recover=function(e,t,n){var r=arguments.length>1&&(e instanceof Function||e instanceof ut.a||"string"==typeof e)?e:void 0,i=r?t:e,a=r?n:t;return r instanceof ut.a&&(r=r.options.name),i instanceof Array&&0===i.length?Promise.resolve(i):new fe(this.connection,this.queryRunner,"recover",r,i,a).execute().then((function(){return i}))},e.prototype.insert=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return this.connection.driver instanceof d.f&&Array.isArray(t)?[4,Promise.all(t.map((function(t){return n.insert(e,t)})))]:[3,2];case 1:return[2,r.sent().reduce((function(e,t){return Object.assign(e,t)}),{})];case 2:return[2,this.createQueryBuilder().insert().into(e).values(t).execute()]}}))}))},e.prototype.update=function(e,t,n){return null==t||""===t||Array.isArray(t)&&0===t.length?Promise.reject(new Error("Empty criteria(s) are not allowed for the update method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(n).whereInIds(t).execute():this.createQueryBuilder().update(e).set(n).where(t).execute()},e.prototype.delete=function(e,t){return null==t||""===t||Array.isArray(t)&&0===t.length?Promise.reject(new Error("Empty criteria(s) are not allowed for the delete method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()},e.prototype.softDelete=function(e,t){return null==t||""===t||t instanceof Array&&0===t.length?Promise.reject(new Error("Empty criteria(s) are not allowed for the delete method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||t instanceof Array?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()},e.prototype.restore=function(e,t){return null==t||""===t||t instanceof Array&&0===t.length?Promise.reject(new Error("Empty criteria(s) are not allowed for the delete method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||t instanceof Array?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()},e.prototype.count=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){return n=this.connection.getMetadata(e),i=this.createQueryBuilder(e,M.extractFindManyOptionsAlias(t)||n.name),[2,M.applyFindManyOptionsOrConditionsToQueryBuilder(i,t).getCount()]}))}))},e.prototype.find=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){return n=this.connection.getMetadata(e),i=this.createQueryBuilder(e,M.extractFindManyOptionsAlias(t)||n.name),M.isFindManyOptions(t)&&!1===t.loadEagerRelations||M.joinEagerRelations(i,i.alias,n),[2,M.applyFindManyOptionsOrConditionsToQueryBuilder(i,t).getMany()]}))}))},e.prototype.findAndCount=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){return n=this.connection.getMetadata(e),i=this.createQueryBuilder(e,M.extractFindManyOptionsAlias(t)||n.name),M.isFindManyOptions(t)&&!1===t.loadEagerRelations||M.joinEagerRelations(i,i.alias,n),[2,M.applyFindManyOptionsOrConditionsToQueryBuilder(i,t).getManyAndCount()]}))}))},e.prototype.findByIds=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a;return r.e(this,(function(r){return t.length?(i=this.connection.getMetadata(e),a=this.createQueryBuilder(e,M.extractFindManyOptionsAlias(n)||i.name),M.applyFindManyOptionsOrConditionsToQueryBuilder(a,n),M.isFindManyOptions(n)&&!1===n.loadEagerRelations||M.joinEagerRelations(a,a.alias,i),[2,a.andWhereInIds(t).getMany()]):[2,Promise.resolve([])]}))}))},e.prototype.findOne=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,o,s,u,c;return r.e(this,(function(l){return i=void 0,M.isFindOneOptions(t)?i=t:n&&M.isFindOneOptions(n)&&(i=n),a=void 0,t instanceof Object&&!M.isFindOneOptions(t)&&(a=t),o=this.connection.getMetadata(e),s=o.name,i&&i.join?s=i.join.alias:n&&M.isFindOneOptions(n)&&n.join&&(s=n.join.alias),u=this.createQueryBuilder(e,s),i&&!1===i.loadEagerRelations||M.joinEagerRelations(u,u.alias,u.expressionMap.mainAlias.metadata),(c="string"==typeof t||"number"==typeof t||t instanceof Date)||(i=r.a({},i||{},{take:1})),M.applyOptionsToQueryBuilder(u,i),a?u.where(a):c&&u.andWhereInIds(o.ensureEntityIdMap(t)),[2,u.getOne()]}))}))},e.prototype.findOneOrFail=function(e,t,n){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(r){return[2,this.findOne(e,t,n).then((function(n){return void 0===n?Promise.reject(new A(e,t)):Promise.resolve(n)}))]}))}))},e.prototype.clear=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:t=this.connection.getMetadata(e),n=this.queryRunner||this.connection.createQueryRunner("master"),r.label=1;case 1:return r.trys.push([1,,3,6]),[4,n.clearTable(t.tablePath)];case 2:return[2,r.sent()];case 3:return this.queryRunner?[3,5]:[4,n.release()];case 4:r.sent(),r.label=5;case 5:return[7];case 6:return[2]}}))}))},e.prototype.increment=function(e,t,n,i){return r.b(this,void 0,void 0,(function(){var a,o,s,u=this;return r.e(this,(function(r){if(a=this.connection.getMetadata(e),!(o=a.findColumnWithPropertyPath(n)))throw new Error("Column "+n+" was not found in "+a.targetName+" entity.");if(isNaN(Number(i)))throw new Error('Value "'+i+'" is not a number.');return s=n.split(".").reduceRight((function(e,t){var n;return(n={})[t]=e,n}),(function(){return u.connection.driver.escape(o.databaseName)+" + "+i})),[2,this.createQueryBuilder(e,"entity").update(e).set(s).where(t).execute()]}))}))},e.prototype.decrement=function(e,t,n,i){return r.b(this,void 0,void 0,(function(){var a,o,s,u=this;return r.e(this,(function(r){if(a=this.connection.getMetadata(e),!(o=a.findColumnWithPropertyPath(n)))throw new Error("Column "+n+" was not found in "+a.targetName+" entity.");if(isNaN(Number(i)))throw new Error('Value "'+i+'" is not a number.');return s=n.split(".").reduceRight((function(e,t){var n;return(n={})[t]=e,n}),(function(){return u.connection.driver.escape(o.databaseName)+" - "+i})),[2,this.createQueryBuilder(e,"entity").update(e).set(s).where(t).execute()]}))}))},e.prototype.getRepository=function(e){if(!this.connection.hasMetadata(e))throw new U(this.connection.name,e);var t=this.connection.getMetadata(e),n=this.repositories.find((function(e){return e.metadata===t}));if(n)return n;var r=(new H).create(this,t,this.queryRunner);return this.repositories.push(r),r},e.prototype.getTreeRepository=function(e){if(!1===this.connection.driver.treeSupport)throw new z(this.connection.driver);var t=this.getRepository(e);if(!(t instanceof j))throw new V(e);return t},e.prototype.getMongoRepository=function(e){return this.connection.getMongoRepository(e)},e.prototype.getCustomRepository=function(e){var t=zt().entityRepositories.find((function(t){return t.target===(e instanceof Function?e:e.constructor)}));if(!t)throw new L(e);var n=t.entity?this.connection.getMetadata(t.entity):void 0,r=new t.target(this,n);if(r instanceof q&&(r.manager||(r.manager=this)),r instanceof N){if(!n)throw new B(e);r.manager=this,r.metadata=n}return r},e.prototype.release=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){if(!this.queryRunner)throw new S;return[2,this.queryRunner.release()]}))}))},e}(),me=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.driver=t.driver,r}return r.d(t,e),t.prototype.loadDatabase=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.driver.load(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.saveDatabase=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.driver.save(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.exportDatabase=function(){return this.driver.export()},t}(pe),ye=n("gFhw"),ve=function(){function e(){}return e.prototype.create=function(e,t){return e.driver instanceof d.a?new d.b(e):e.driver instanceof ye.a?new me(e,t):new pe(e,t)},e}(),ge=function(e){function t(n){var r=e.call(this)||this;return r.name="MissingDriverError",Object.setPrototypeOf(r,t.prototype),r.message='Wrong driver: "'+n+'" given. Supported drivers are: "cordova", "expo", "mariadb", "mongodb", "mssql", "mysql", "oracle", "postgres", "sqlite", "sqljs", "react-native".',r}return r.d(t,e),t}(Error),be=n("rE0Y"),Ee=n("tnr/"),we=n("W6vy"),Oe=n("qOrW"),Ce=n("mj34"),Te=n("n+lo"),_e=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new Te.a(n),n}return r.d(t,e),t.prototype.query=function(e,t){var n=this;if(this.isReleased)throw new we.a;var i=this.driver.connection;return new Promise((function(a,o){return r.b(n,void 0,void 0,(function(){var n,s,u,c;return r.e(this,(function(r){switch(r.label){case 0:return n=function(n,r){var s=i.options.maxQueryExecutionTime,l=+new Date-u;s&&l>s&&i.logger.logQuerySlow(l,e,t,this),n?(i.logger.logQueryError(n,e,t,this),o(new Oe.a(e,t,n))):a(c?this.lastID:r)},[4,this.connect()];case 1:return s=r.sent(),this.driver.connection.logger.logQuery(e,t,this),u=+new Date,(c="INSERT INTO"===e.substr(0,11))?s.run(e,t,n):s.all(e,t,n),[2]}}))}))}))},t}(Ce.a),Ae=n("GhIi"),Se=n("qDrx"),Ne=function(e){function t(t){var n=e.call(this,t)||this;if(n.connection=t,n.options=t.options,n.database=n.options.database,!n.options.database)throw new Ae.a("database");return n.loadDependencies(),n}return r.d(t,e),t.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.queryRunner=void 0,e.databaseConnection.close((function(e){return e?n(e):t()}))}))]}))}))},t.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),this.queryRunner||(this.queryRunner=new _e(this)),this.queryRunner},t.prototype.normalizeType=function(t){return t.type===Buffer?"blob":e.prototype.normalizeType.call(this,t)},t.prototype.createDatabaseConnection=function(){return r.b(this,void 0,void 0,(function(){function e(e){return new Promise((function(n,r){t.run(e,(function(e){if(e)return r(e);n()}))}))}var t,n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.createDatabaseDirectory(this.options.database)];case 1:return r.sent(),[4,new Promise((function(e,t){var r=new n.sqlite.Database(n.options.database,(function(n){if(n)return t(n);e(r)}))}))];case 2:return t=r.sent(),[4,e("PRAGMA foreign_keys = ON;")];case 3:return r.sent(),this.options.key?[4,e("PRAGMA key = "+JSON.stringify(this.options.key)+";")]:[3,5];case 4:r.sent(),r.label=5;case 5:return[2,t]}}))}))},t.prototype.loadDependencies=function(){try{this.sqlite=Se.a.load("sqlite3").verbose()}catch(e){throw new Ee.a("SQLite","sqlite3")}},t.prototype.createDatabaseDirectory=function(e){return new Promise((function(t,n){Se.a.load("mkdirp")(Se.a.load("path").dirname(e),(function(e){return e?n(e):t()}))}))},t}(k.a),ke=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new Te.a(n),n}return r.d(t,e),t.prototype.query=function(e,t){var n=this;if(this.isReleased)throw new we.a;return new Promise((function(i,a){return r.b(n,void 0,void 0,(function(){var n,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.connect()];case 1:return n=r.sent(),this.driver.connection.logger.logQuery(e,t,this),o=+new Date,n.executeSql(e,t,(function(n){var r=s.driver.connection.options.maxQueryExecutionTime,a=+new Date-o;if(r&&a>r&&s.driver.connection.logger.logQuerySlow(a,e,t,s),"INSERT INTO"===e.substr(0,11))i(n.insertId);else{for(var u=[],c=0;c<n.rows.length;c++)u.push(n.rows.item(c));i(u)}}),(function(n){s.driver.connection.logger.logQueryError(n,e,t,s),a(new Oe.a(e,t,n))})),[2]}}))}))}))},t.prototype.parametrize=function(e,t){return void 0===t&&(t=0),Object.keys(e).map((function(e,t){return'"'+e+'"=?'}))},t}(Ce.a),je=function(e){function t(t){var n=e.call(this,t)||this;if(n.database=n.options.database,!n.options.database)throw new Ae.a("database");if(!n.options.location)throw new Ae.a("location");return n.loadDependencies(),n}return r.d(t,e),t.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.queryRunner=void 0,e.databaseConnection.close(t,n)}))]}))}))},t.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),this.queryRunner||(this.queryRunner=new ke(this)),this.queryRunner},t.prototype.createDatabaseConnection=function(){var e=this;return new Promise((function(t,n){var r=Object.assign({},{name:e.options.database,location:e.options.location},e.options.extra||{});e.sqlite.openDatabase(r,(function(e){var r=e;r.executeSql("PRAGMA foreign_keys = ON;",[],(function(e){t(r)}),(function(e){n(e)}))}),(function(e){n(e)}))}))},t.prototype.loadDependencies=function(){try{this.sqlite=window.sqlitePlugin}catch(e){throw new Ee.a("Cordova-SQLite","cordova-sqlite-storage")}},t}(k.a),xe=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new Te.a(n),n}return r.d(t,e),t.prototype.query=function(e,t){var n=this;if(this.isReleased)throw new we.a;return new Promise((function(i,a){return r.b(n,void 0,void 0,(function(){var n,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.connect()];case 1:return n=r.sent(),this.driver.connection.logger.logQuery(e,t,this),o=+new Date,n.executeSql(e,t,(function(n){var r=s.driver.connection.options.maxQueryExecutionTime,a=+new Date-o;if(r&&a>r&&s.driver.connection.logger.logQuerySlow(a,e,t,s),"INSERT INTO"===e.substr(0,11))i(n.insertId);else{for(var u=[],c=0;c<n.rows.length;c++)u.push(n.rows.item(c));i(u)}}),(function(n){s.driver.connection.logger.logQueryError(n,e,t,s),a(new Oe.a(e,t,n))})),[2]}}))}))}))},t.prototype.parametrize=function(e,t){return void 0===t&&(t=0),Object.keys(e).map((function(e,t){return'"'+e+'"=?'}))},t}(Ce.a),Me=function(e){function t(t){var n=e.call(this,t)||this;if(n.database=n.options.database,!n.options.database)throw new Ae.a("database");if(!n.options.location)throw new Ae.a("location");return n.loadDependencies(),n}return r.d(t,e),t.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.queryRunner=void 0,e.databaseConnection.close(t,n)}))]}))}))},t.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),this.queryRunner||(this.queryRunner=new xe(this)),this.queryRunner},t.prototype.createDatabaseConnection=function(){var e=this;return new Promise((function(t,n){var r=Object.assign({},{name:e.options.database,location:e.options.location},e.options.extra||{});e.sqlite.openDatabase(r,(function(e){var r=e;r.executeSql("PRAGMA foreign_keys = ON;",[],(function(e){t(r)}),(function(e){n(e)}))}),(function(e){n(e)}))}))},t.prototype.loadDependencies=function(){try{this.sqlite=n("MEl8")}catch(e){throw new Ee.a("React-Native","react-native-sqlite-storage")}},t}(k.a),Re=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new Te.a(n),n}return r.d(t,e),t.prototype.query=function(e,t){var n=this;if(this.isReleased)throw new we.a;var r=this.driver.connection;return new Promise((function(i,a){var o="INSERT INTO"===e.substr(0,11),s=function(n,o){var s=r.options.maxQueryExecutionTime,c=+new Date-u;s&&c>s&&r.logger.logQuerySlow(c,e,t,this),n?(r.logger.logQueryError(n,e,t,this),a(new Oe.a(e,t,n))):i(o)};n.driver.connection.logger.logQuery(e,t,n);var u=+new Date;n.connect().then((function(n){o?n.execSQL(e,t,s):n.all(e,t,s)}))}))},t.prototype.parametrize=function(e,t){return void 0===t&&(t=0),Object.keys(e).map((function(e,t){return'"'+e+'"=?'}))},t}(Ce.a),De=function(e){function t(t){var n=e.call(this,t)||this;if(n.connection=t,n.options=t.options,n.database=n.options.database,n.driver=n.options.driver,!n.options.database)throw new Ae.a("database");return n.loadDependencies(),n}return r.d(t,e),t.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.queryRunner=void 0,e.databaseConnection.close().then(t).catch(n)}))]}))}))},t.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),this.queryRunner||(this.queryRunner=new Re(this)),this.queryRunner},t.prototype.normalizeType=function(t){return t.type===Buffer?"blob":e.prototype.normalizeType.call(this,t)},t.prototype.createDatabaseConnection=function(){var e=this;return new Promise((function(t,n){var r=Object.assign({},{readOnly:e.options.readOnly,key:e.options.key,multithreading:e.options.multithreading,migrate:e.options.migrate,iosFlags:e.options.iosFlags,androidFlags:e.options.androidFlags},e.options.extra||{});new e.sqlite(e.options.database,r,(function(r,i){if(r)return n(r);i.resultType(e.sqlite.RESULTSASOBJECT),i.execSQL("PRAGMA foreign_keys = ON;",[],(function(e,r){if(e)return n(e);t(i)}))}))}))},t.prototype.loadDependencies=function(){if(this.sqlite=this.driver,!this.driver)throw new Ee.a("Nativescript","nativescript-sqlite")},t}(k.a),Pe=n("5W/B"),Ie=n("rH6E"),Le=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new Te.a(n),n}return r.d(t,e),t.prototype.startTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){if(this.isTransactionActive&&void 0!==this.transaction)throw new Pe.a;return this.isTransactionActive=!0,[2]}))}))},t.prototype.commitTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){if(!this.isTransactionActive&&void 0===this.transaction)throw new Ie.a;return this.isTransactionActive=!1,this.transaction=void 0,[2]}))}))},t.prototype.rollbackTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){if(!this.isTransactionActive&&void 0===this.transaction)throw new Ie.a;return this.isTransactionActive=!1,this.transaction=void 0,[2]}))}))},t.prototype.query=function(e,t){var n=this;if(this.isReleased)throw new we.a;return new Promise((function(i,a){return r.b(n,void 0,void 0,(function(){var n,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.connect()];case 1:return n=r.sent(),this.driver.connection.logger.logQuery(e,t,this),o=+new Date,n.transaction((function(n){void 0===s.transaction&&(s.startTransaction(),s.transaction=n),s.transaction.executeSql(e,t,(function(n,r){var a=s.driver.connection.options.maxQueryExecutionTime,u=+new Date-o;if(a&&u>a&&s.driver.connection.logger.logQuerySlow(u,e,t,s),"INSERT INTO"===e.substr(0,11))i(r.insertId);else{for(var c=[],l=0;l<r.rows.length;l++)c.push(r.rows.item(l));i(c)}}),(function(n,r){s.driver.connection.logger.logQueryError(r,e,t,s),a(new Oe.a(e,t,r))}))}),(function(e){s.rollbackTransaction()}),(function(){s.isTransactionActive=!1,s.transaction=void 0})),[2]}}))}))}))},t}(Ce.a),Fe=function(e){function t(t){var n=e.call(this,t)||this;if(n.database=n.options.database,!n.options.database)throw new Ae.a("database");if(!n.options.driver)throw new Ae.a("driver");return n.sqlite=n.options.driver,n}return r.d(t,e),t.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){try{e.queryRunner=void 0,e.databaseConnection=void 0,t()}catch(r){n(r)}}))]}))}))},t.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),this.queryRunner||(this.queryRunner=new Le(this)),this.queryRunner},t.prototype.createDatabaseConnection=function(){var e=this;return new Promise((function(t,n){try{var r=e.sqlite.openDatabase(e.options.database);r.transaction((function(e){e.executeSql("PRAGMA foreign_keys = ON;",[],(function(e,n){t(r)}),(function(e,t){n({transaction:e,error:t})}))}),(function(e){n(e)}))}catch(i){n(i)}}))},t}(k.a),qe=function(){function e(){}return e.prototype.create=function(e){var t=e.options.type;switch(t){case"mysql":return new d.e(e);case"postgres":return new d.g(e);case"cockroachdb":return new be.a(e);case"sap":return new d.h(e);case"mariadb":return new d.e(e);case"sqlite":return new Ne(e);case"cordova":return new je(e);case"nativescript":return new De(e);case"react-native":return new Me(e);case"sqljs":return new ye.a(e);case"oracle":return new d.f(e);case"mssql":return new d.i(e);case"mongodb":return new d.a(e);case"expo":return new Fe(e);case"aurora-data-api":return new C.a(e);default:throw new ge(t)}},e}();function Be(e,t,n){void 0===n&&(n=[".js",".ts"]);var r=t.reduce((function(e,t){return e.concat(Se.a.load("glob").sync(Se.a.pathNormalize(t)))}),[]);return t.length>0&&0===r.length?e.log("info",'No classes were found using the provided glob pattern:  "'+t+'"'):r.length>0&&e.log("info",'All classes found using provided glob pattern "'+t+'" : "'+r+'"'),function e(t,n){return"function"==typeof t||t instanceof ut.a?n.push(t):Array.isArray(t)?t.forEach((function(t){return e(t,n)})):"object"==typeof t&&null!==t&&Object.keys(t).forEach((function(r){return e(t[r],n)})),n}(r.filter((function(e){var t=e.substring(e.length-5,e.length);return-1!==n.indexOf(Se.a.pathExtname(e))&&".d.ts"!==t})).map((function(e){return Se.a.load(Se.a.pathResolve(e))})),[])}var Ue=new(function(){function e(){this.instances=[]}return e.prototype.get=function(e){var t=this.instances.find((function(t){return t.type===e}));return t||(t={type:e,object:new e},this.instances.push(t)),t.object},e}());function Ve(e){return Ue.get(e)}var He,ze=n("nobI"),Qe=function(){function e(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,null!=e.args.synchronize&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}return e.prototype.build=function(e){var t=this;if(!1===this.synchronize)return this.name=this.givenName,this;var n={};if(this.givenColumnNames){var r=[];if(Array.isArray(this.givenColumnNames))(r=this.givenColumnNames.map((function(e){return t.embeddedMetadata?t.embeddedMetadata.propertyPath+"."+e:e}))).forEach((function(e){return n[e]=1}));else{var i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(r=i.map((function(e){return String(e)}))).forEach((function(e){return n[e]=1})):(r=Object.keys(i).map((function(e){return String(e)})),Object.keys(i).forEach((function(e){return n[e]=i[e]})))}this.columns=r.map((function(e){var n=t.entityMetadata.columns.find((function(t){return t.propertyPath===e}));if(n)return[n];var r=t.entityMetadata.relations.find((function(t){return t.isWithJoinColumn&&t.propertyName===e}));if(r)return r.joinColumns;throw new Error("Index "+(t.givenName?'"'+t.givenName+'" ':"")+"contains column that is missing in the entity ("+t.entityMetadata.targetName+"): "+e)})).reduce((function(e,t){return e.concat(t)}))}return this.columnNamesWithOrderingMap=Object.keys(n).reduce((function(e,r){var i=t.entityMetadata.columns.find((function(e){return e.propertyPath===r}));return i&&(e[i.databasePath]=n[r]),e}),{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tablePath,this.columns.map((function(e){return e.databaseName})),this.where),this},e}(),We=function(){function e(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;var t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=!0===t.options.cascade||t.options.cascade instanceof Array&&-1!==t.options.cascade.indexOf("insert"),this.isCascadeUpdate=!0===t.options.cascade||t.options.cascade instanceof Array&&-1!==t.options.cascade.indexOf("update"),this.isCascadeRemove=!0===t.options.cascade||t.options.cascade instanceof Array&&-1!==t.options.cascade.indexOf("remove"),this.isCascadeSoftRemove=!0===t.options.cascade||t.options.cascade instanceof Array&&-1!==t.options.cascade.indexOf("soft-remove"),this.isCascadeRecover=!0===t.options.cascade||t.options.cascade instanceof Array&&-1!==t.options.cascade.indexOf("recover"),this.isCascadeInsert=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("insert"),this.isCascadeUpdate=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("update"),this.isCascadeRemove=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("remove"),this.isCascadeSoftRemove=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("soft-remove"),this.isCascadeRecover=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("recover"),this.isPrimary=t.options.primary||!1,this.isNullable=!1!==t.options.nullable&&!this.isPrimary,this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.isEager=t.options.eager||!1,this.persistenceEnabled=!1!==t.options.persistence,this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,this.type=t.type instanceof Function?t.type():t.type,this.isOneToOne="one-to-one"===this.relationType,this.isOneToMany="one-to-many"===this.relationType,this.isManyToOne="many-to-one"===this.relationType,this.isManyToMany="many-to-many"===this.relationType,this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}return e.prototype.getRelationIdMap=function(e){var t=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map((function(e){return e.referencedColumn}));return G.a.getValueMap(e,t)},e.prototype.ensureRelationIdMap=function(e){if(e instanceof Object)return e;var t=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map((function(e){return e.referencedColumn}));if(t.length>1)throw new Error("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return t[0].createValueMap(e)},e.prototype.getEntityValue=function(e,t){if(void 0===t&&(t=!1),null!=e){if(this.embeddedMetadata){var n=function e(t,n){var r=t.shift();return r?n[r]?e(t,n[r]):void 0:n}(r.i(this.embeddedMetadata.parentPropertyNames),e);return this.isLazy?void 0!==n["__"+this.propertyName+"__"]?n["__"+this.propertyName+"__"]:!0===t?n[this.propertyName]:void 0:n?n[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}return this.isLazy?void 0!==e["__"+this.propertyName+"__"]?e["__"+this.propertyName+"__"]:!0===t?e[this.propertyName]:void 0:e[this.propertyName]}},e.prototype.setEntityValue=function(e,t){var n=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata)return function e(r,i){var a=r.shift();return a?(i[a.propertyName]||(i[a.propertyName]=a.create()),e(r,i[a.propertyName]),i):(i[n]=t,i)}(r.i(this.embeddedMetadata.embeddedMetadataTree),e);e[n]=t},e.prototype.createValueMap=function(e){var t,n=this;return this.embeddedMetadata?function t(r,i){var a=r.shift();return a?(i[a]={},t(r,i[a]),i):(i[n.propertyName]=e,i)}(r.i(this.embeddedMetadata.parentPropertyNames),{}):((t={})[this.propertyName]=e,t)},e.prototype.build=function(){this.propertyPath=this.buildPropertyPath()},e.prototype.registerForeignKeys=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.foreignKeys).push.apply(e,r.i(t)),this.joinColumns=this.foreignKeys[0]?this.foreignKeys[0].columns:[],this.inverseJoinColumns=this.foreignKeys[1]?this.foreignKeys[1].columns:[],this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner},e.prototype.registerJunctionEntityMetadata=function(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)},e.prototype.buildInverseSidePropertyPath=function(){if(this.givenInverseSidePropertyFactory){if("function"==typeof this.givenInverseSidePropertyFactory)return this.givenInverseSidePropertyFactory(this.inverseEntityMetadata.propertiesMap);if("string"==typeof this.givenInverseSidePropertyFactory)return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""},e.prototype.buildPropertyPath=function(){return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length?this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName:this.propertyName},e}(),Ke=function(){function e(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}return e.prototype.create=function(){return new this.type},e.prototype.build=function(e){return this.embeddeds.forEach((function(t){return t.build(e)})),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),this},e.prototype.buildPartialPrefix=function(){if(void 0===this.customPrefix||!0===this.customPrefix)return[this.propertyName];if(""===this.customPrefix||!1===this.customPrefix)return[];if("string"==typeof this.customPrefix)return[this.customPrefix];throw new Error("Invalid prefix option given for "+this.entityMetadata.targetName+"#"+this.propertyName)},e.prototype.buildPrefix=function(e){if(e.driver instanceof d.a)return this.propertyName;var t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push.apply(t,r.i(this.buildPartialPrefix())),t.join("_")},e.prototype.buildParentPropertyNames=function(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]},e.prototype.buildParentPrefixes=function(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()},e.prototype.buildEmbeddedMetadataTree=function(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]},e.prototype.buildColumnsFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildColumnsFromTree())}),this.columns)},e.prototype.buildRelationsFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildRelationsFromTree())}),this.relations)},e.prototype.buildListenersFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildListenersFromTree())}),this.listeners)},e.prototype.buildIndicesFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildIndicesFromTree())}),this.indices)},e.prototype.buildUniquesFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildUniquesFromTree())}),this.uniques)},e.prototype.buildRelationIdsFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildRelationIdsFromTree())}),this.relationIds)},e.prototype.buildRelationCountsFromTree=function(){return this.embeddeds.reduce((function(e,t){return e.concat(t.buildRelationCountsFromTree())}),this.relationCounts)},e}(),Ge=function(){function e(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}return e.prototype.setValue=function(e){var t=this,n=this.relation.getEntityValue(e);if(Array.isArray(n))e[this.propertyName]=n.map((function(e){return t.relation.inverseEntityMetadata.getEntityIdMixedMap(e)})).filter((function(e){return null!=e}));else{var r=this.relation.inverseEntityMetadata.getEntityIdMixedMap(n);void 0!==r&&(e[this.propertyName]=r)}},e.prototype.build=function(){var e=this.relationNameOrFactory instanceof Function?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new Error("Cannot find relation "+e+". Wrong relation specified for @RelationId decorator.");this.relation=t},e}(),Je=function(){function e(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}return e.prototype.build=function(){var e=this.relationNameOrFactory instanceof Function?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new Error("Cannot find relation "+e+". Wrong relation specified for @RelationCount decorator.");this.relation=t},e}(),Ye=function(){function e(){}return e.getInheritanceTree=function(e){var t=[e];return function e(n){var r=Object.getPrototypeOf(n);r&&r.name&&(t.push(r),e(r))}(e),t},e.isInherited=function(e,t){return e.prototype instanceof t},e.filterByTarget=function(e,t){return t?e.filter((function(e){return e.target&&-1!==t.indexOf(e.target)})):e},e}(),Ze=function(){function e(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,e.namingStrategy&&this.build(e.namingStrategy)}return e.prototype.build=function(e){this.columnNames=this.columns.map((function(e){return e.databaseName})),this.referencedColumnNames=this.referencedColumns.map((function(e){return e.databaseName})),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=e.foreignKeyName(this.entityMetadata.tablePath,this.columnNames,this.referencedTablePath,this.referencedColumnNames)},e}(),Xe=function(){function e(e){this.connection=e}return e.prototype.build=function(e,t){var n=this,i=this.collectReferencedColumns(e,t),a=this.collectInverseReferencedColumns(e,t),o=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),s=new G.a({connection:this.connection,args:{target:"",name:o,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema}});s.build();var u=i.map((function(r){var i=t.joinColumns?t.joinColumns.find((function(e){return!(e.referencedColumnName&&e.referencedColumnName!==r.propertyName||!e.name)})):void 0,a=i&&i.name?i.name:n.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,r.propertyName,r.databaseName);return new ze.a({connection:n.connection,entityMetadata:s,referencedColumn:r,args:{target:"",mode:"virtual",propertyName:a,options:{name:a,length:r.length||!(n.connection.driver instanceof d.e||n.connection.driver instanceof C.a)||"uuid"!==r.generationStrategy&&"uuid"!==r.type?r.length:"36",width:r.width,type:r.type,precision:r.precision,scale:r.scale,charset:r.charset,collation:r.collation,zerofill:r.zerofill,unsigned:!!r.zerofill||r.unsigned,nullable:!1,primary:!0}}})})),c=a.map((function(r){var i=t.inverseJoinColumns?t.inverseJoinColumns.find((function(e){return!(e.referencedColumnName&&e.referencedColumnName!==r.propertyName||!e.name)})):void 0,a=i&&i.name?i.name:n.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,r.propertyName,r.databaseName);return new ze.a({connection:n.connection,entityMetadata:s,referencedColumn:r,args:{target:"",mode:"virtual",propertyName:a,options:{length:r.length||!(n.connection.driver instanceof d.e||n.connection.driver instanceof C.a)||"uuid"!==r.generationStrategy&&"uuid"!==r.type?r.length:"36",type:r.type,precision:r.precision,scale:r.scale,charset:r.charset,collation:r.collation,zerofill:r.zerofill,unsigned:!!r.zerofill||r.unsigned,name:a,nullable:!1,primary:!0}}})}));return this.changeDuplicatedColumnNames(u,c),s.ownerColumns=u,s.inverseColumns=c,s.ownColumns=r.i(u,c),s.ownColumns.forEach((function(t){return t.relationMetadata=e})),s.foreignKeys=[new Ze({entityMetadata:s,referencedEntityMetadata:e.entityMetadata,columns:u,referencedColumns:i,onDelete:e.onDelete||"CASCADE"}),new Ze({entityMetadata:s,referencedEntityMetadata:e.inverseEntityMetadata,columns:c,referencedColumns:a,onDelete:e.onDelete||"CASCADE"})],s.ownIndices=[new Qe({entityMetadata:s,columns:u,args:{target:s.target,synchronize:!0}}),new Qe({entityMetadata:s,columns:c,args:{target:s.target,synchronize:!0}})],s},e.prototype.collectReferencedColumns=function(e,t){var n=!!t.joinColumns&&t.joinColumns.find((function(e){return!!e.referencedColumnName}));return!t.joinColumns||t.joinColumns&&!n?e.entityMetadata.columns.filter((function(e){return e.isPrimary})):t.joinColumns.map((function(t){var n=e.entityMetadata.columns.find((function(e){return e.propertyName===t.referencedColumnName}));if(!n)throw new Error("Referenced column "+t.referencedColumnName+" was not found in entity "+e.entityMetadata.name);return n}))},e.prototype.collectInverseReferencedColumns=function(e,t){var n=!!t.inverseJoinColumns,r=!!n&&t.inverseJoinColumns.find((function(e){return!!e.referencedColumnName}));return!n||n&&!r?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map((function(t){var n=e.inverseEntityMetadata.ownColumns.find((function(e){return e.propertyName===t.referencedColumnName}));if(!n)throw new Error("Referenced column "+t.referencedColumnName+" was not found in entity "+e.inverseEntityMetadata.name);return n}))},e.prototype.changeDuplicatedColumnNames=function(e,t){var n=this;e.forEach((function(e){t.forEach((function(t){if(e.givenDatabaseName===t.givenDatabaseName){var r=n.connection.namingStrategy.joinTableColumnDuplicationPrefix(e.propertyName,1);e.propertyName=r,e.givenDatabaseName=r;var i=n.connection.namingStrategy.joinTableColumnDuplicationPrefix(t.propertyName,2);t.propertyName=i,t.givenDatabaseName=i}}))}))},e}(),$e=function(){function e(e){this.connection=e}return e.prototype.build=function(e){var t=this,n=new G.a({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.tableNameWithoutPrefix,type:"closure-junction"}});return n.build(),e.primaryColumns.forEach((function(e){n.ownColumns.push(new ze.a({connection:t.connection,entityMetadata:n,closureType:"ancestor",referencedColumn:e,args:{target:"",mode:"virtual",propertyName:e.propertyName+"_ancestor",options:{primary:!0,length:e.length,type:e.type}}})),n.ownColumns.push(new ze.a({connection:t.connection,entityMetadata:n,closureType:"descendant",referencedColumn:e,args:{target:"",mode:"virtual",propertyName:e.propertyName+"_descendant",options:{primary:!0,length:e.length,type:e.type}}}))})),n.ownIndices=[new Qe({entityMetadata:n,columns:[n.ownColumns[0]],args:{target:n.target,synchronize:!0}}),new Qe({entityMetadata:n,columns:[n.ownColumns[1]],args:{target:n.target,synchronize:!0}})],e.treeLevelColumn&&n.ownColumns.push(new ze.a({connection:this.connection,entityMetadata:n,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),n.foreignKeys=[new Ze({entityMetadata:n,referencedEntityMetadata:e,columns:[n.ownColumns[0]],referencedColumns:e.primaryColumns}),new Ze({entityMetadata:n,referencedEntityMetadata:e,columns:[n.ownColumns[1]],referencedColumns:e.primaryColumns})],n},e}(),et=function(){function e(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}return e.prototype.build=function(e){var t=this,n={};if(this.givenColumnNames){var r=[];if(Array.isArray(this.givenColumnNames))(r=this.givenColumnNames.map((function(e){return t.embeddedMetadata?t.embeddedMetadata.propertyPath+"."+e:e}))).forEach((function(e){return n[e]=1}));else{var i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(r=i.map((function(e){return String(e)}))).forEach((function(e){return n[e]=1})):(r=Object.keys(i).map((function(e){return String(e)})),Object.keys(i).forEach((function(e){return n[e]=i[e]})))}this.columns=r.map((function(e){var n=t.entityMetadata.columns.find((function(t){return t.propertyPath===e}));if(n)return[n];var r=t.entityMetadata.relations.find((function(t){return t.isWithJoinColumn&&t.propertyName===e}));if(r)return r.joinColumns;throw new Error("Unique constraint "+(t.givenName?'"'+t.givenName+'" ':"")+"contains column that is missing in the entity ("+t.entityMetadata.targetName+"): "+e)})).reduce((function(e,t){return e.concat(t)}))}return this.columnNamesWithOrderingMap=Object.keys(n).reduce((function(e,r){var i=t.entityMetadata.columns.find((function(e){return e.propertyPath===r}));return i&&(e[i.databasePath]=n[r]),e}),{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tablePath,this.columns.map((function(e){return e.databaseName}))),this},e}(),tt=function(){function e(e){this.connection=e}return e.prototype.build=function(e,t){var n=this.collectReferencedColumns(e,t);if(!n.length)return{foreignKey:void 0,uniqueConstraint:void 0};var r=this.collectColumns(e,t,n),i=new Ze({entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:r,referencedColumns:n,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(this.connection.driver instanceof d.f&&r.every((function(e){return e.isPrimary})))return{foreignKey:i,uniqueConstraint:void 0};if(n.length>0&&t.isOneToOne){var a=new et({entityMetadata:t.entityMetadata,columns:i.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tablePath,i.columns.map((function(e){return e.databaseName}))),target:t.entityMetadata.target}});return a.build(this.connection.namingStrategy),{foreignKey:i,uniqueConstraint:a}}return{foreignKey:i,uniqueConstraint:void 0}},e.prototype.collectReferencedColumns=function(e,t){var n=e.find((function(e){return!!e.referencedColumnName}));return 0===e.length&&t.isManyToOne||e.length>0&&!n?t.inverseEntityMetadata.primaryColumns:e.map((function(e){var n=t.inverseEntityMetadata.ownColumns.find((function(t){return t.propertyName===e.referencedColumnName}));if(!n)throw new Error("Referenced column "+e.referencedColumnName+" was not found in entity "+t.inverseEntityMetadata.name);return n}))},e.prototype.collectColumns=function(e,t,n){var r=this;return n.map((function(n){var i=e.find((function(e){return!(e.referencedColumnName&&e.referencedColumnName!==n.propertyName||!e.name)})),a=i?i.name:r.connection.namingStrategy.joinColumnName(t.propertyName,n.propertyName),o=t.entityMetadata.ownColumns.find((function(e){return e.databaseName===a}));return o||(o=new ze.a({connection:r.connection,entityMetadata:t.entityMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:a,type:n.type,length:n.length||!(r.connection.driver instanceof d.e||r.connection.driver instanceof C.a)||"uuid"!==n.generationStrategy&&"uuid"!==n.type?n.length:"36",width:n.width,charset:n.charset,collation:n.collation,precision:n.precision,scale:n.scale,zerofill:n.zerofill,unsigned:n.unsigned,comment:n.comment,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(o)),o.referencedColumn=n,o.type=n.type,o.relationMetadata=t,o.build(r.connection),o}))},e}(),nt=function(){function e(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}return e.prototype.isAllowed=function(e){return this.entityMetadata.target===e.constructor||this.entityMetadata.target instanceof Function&&e.constructor.prototype instanceof this.entityMetadata.target},e.prototype.execute=function(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))},e.prototype.callEntityEmbeddedMethod=function(e,t){var n=t.shift();n&&e[n]&&(0===t.length?e[n][this.propertyName]():e[n]&&this.callEntityEmbeddedMethod(e[n],t))},e}(),rt=function(){function e(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}return e.prototype.build=function(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tablePath,this.expression),this},e}(),it=function(){function e(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}return e.prototype.build=function(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tablePath,this.expression),this},e}(),at=function(){function e(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new Xe(e),this.closureJunctionEntityMetadataBuilder=new $e(e),this.relationJoinColumnBuilder=new tt(e)}return e.prototype.build=function(e){var t=this,n=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter((function(e){return"regular"===e.type||"closure"===e.type||"entity-child"===e.type||"view"===e.type})).map((function(e){return t.createEntityMetadata(e)}));return n.forEach((function(e){return t.computeParentEntityMetadata(n,e)})),n.forEach((function(e){e.childEntityMetadatas=n.filter((function(t){return e.target instanceof Function&&t.target instanceof Function&&Ye.isInherited(t.target,e.target)}))})),n.filter((function(e){return"entity-child"!==e.tableType})).forEach((function(e){return e.build()})),n.filter((function(e){return"entity-child"===e.tableType})).forEach((function(e){return e.build()})),n.filter((function(e){return"entity-child"!==e.tableType})).forEach((function(e){return t.computeEntityMetadataStep1(n,e)})),n.filter((function(e){return"entity-child"===e.tableType})).forEach((function(e){return t.computeEntityMetadataStep1(n,e)})),n.forEach((function(e){return t.computeEntityMetadataStep2(e)})),n.forEach((function(e){return t.computeInverseProperties(e,n)})),n.filter((function(e){return"entity-child"!==e.tableType})).forEach((function(e){e.relations.filter((function(e){return e.isOneToOne||e.isManyToOne})).forEach((function(n){var r=t.metadataArgsStorage.filterJoinColumns(n.target,n.propertyName),i=t.relationJoinColumnBuilder.build(r,n),a=i.foreignKey,o=i.uniqueConstraint;if(a&&(n.registerForeignKeys(a),e.foreignKeys.push(a)),o)if(t.connection.driver instanceof d.e||t.connection.driver instanceof C.a||t.connection.driver instanceof d.i||t.connection.driver instanceof d.h){var s=new Qe({entityMetadata:o.entityMetadata,columns:o.columns,args:{target:o.target,name:o.name,unique:!0,synchronize:!0}});t.connection.driver instanceof d.i&&(s.where=s.columns.map((function(e){return t.connection.driver.escape(e.databaseName)+" IS NOT NULL"})).join(" AND ")),n.embeddedMetadata?n.embeddedMetadata.indices.push(s):n.entityMetadata.ownIndices.push(s),t.computeEntityMetadataStep2(e)}else n.embeddedMetadata?n.embeddedMetadata.uniques.push(o):n.entityMetadata.ownUniques.push(o),t.computeEntityMetadataStep2(e);a&&t.connection.driver instanceof be.a&&(s=new Qe({entityMetadata:n.entityMetadata,columns:a.columns,args:{target:n.entityMetadata.target,synchronize:!0}}),n.embeddedMetadata?n.embeddedMetadata.indices.push(s):n.entityMetadata.ownIndices.push(s),t.computeEntityMetadataStep2(e))})),e.relations.filter((function(e){return e.isManyToMany})).forEach((function(e){var i=t.metadataArgsStorage.findJoinTable(e.target,e.propertyName);if(i){var a=t.junctionEntityMetadataBuilder.build(e,i);e.registerForeignKeys.apply(e,r.i(a.foreignKeys)),e.registerJunctionEntityMetadata(a),t.computeEntityMetadataStep2(a),t.computeInverseProperties(a,n),n.push(a)}}))})),n.forEach((function(e){e.relationsWithJoinColumns=e.relations.filter((function(e){return e.isWithJoinColumn})),e.hasNonNullableRelations=e.relationsWithJoinColumns.some((function(e){return!e.isNullable||e.isPrimary}))})),n.filter((function(e){return"closure-table"===e.treeType})).forEach((function(e){var r=t.closureJunctionEntityMetadataBuilder.build(e);e.closureJunctionTable=r,t.computeEntityMetadataStep2(r),t.computeInverseProperties(r,n),n.push(r)})),n.filter((function(e){return"STI"===e.inheritancePattern&&e.discriminatorColumn})).forEach((function(e){return t.createKeysForTableInheritance(e)})),n.forEach((function(e){e.indices.forEach((function(e){return e.build(t.connection.namingStrategy)}))})),n.forEach((function(e){e.uniques.forEach((function(e){return e.build(t.connection.namingStrategy)}))})),n.forEach((function(e){e.checks.forEach((function(e){return e.build(t.connection.namingStrategy)}))})),n.forEach((function(e){e.exclusions.forEach((function(e){return e.build(t.connection.namingStrategy)}))})),n.filter((function(e){return e.target instanceof Function})).forEach((function(e){e.relations.filter((function(e){return e.isLazy})).forEach((function(n){t.connection.relationLoader.enableLazyLoad(n,e.target.prototype)}))})),n.forEach((function(e){e.columns.forEach((function(n){var r=t.metadataArgsStorage.findGenerated(n.target,n.propertyName);r&&(n.isGenerated=!0,n.generationStrategy=r.strategy,n.type="uuid"===r.strategy?"uuid":"rowid"===r.strategy?"int":n.type||Number,n.build(t.connection),t.computeEntityMetadataStep2(e))}))})),n},e.prototype.createEntityMetadata=function(e){var t,n=e.target instanceof Function?Ye.getInheritanceTree(e.target):[e.target],i=this.metadataArgsStorage.findInheritanceType(e.target),a=this.metadataArgsStorage.findTree(e.target);return(i&&"STI"===i.pattern||"entity-child"===e.type)&&(t=this.metadataArgsStorage.filterSingleTableChildren(e.target).map((function(e){return e.target})).filter((function(e){return e instanceof Function})),n.push.apply(n,r.i(t))),new G.a({connection:this.connection,args:e,inheritanceTree:n,tableTree:a,inheritancePattern:i?i.pattern:void 0})},e.prototype.computeParentEntityMetadata=function(e,t){"entity-child"===t.tableType&&(t.parentEntityMetadata=e.find((function(e){return-1!==e.inheritanceTree.indexOf(t.target)&&"STI"===e.inheritancePattern})))},e.prototype.computeEntityMetadataStep1=function(e,t){var n,i,a,o=this,s=this.metadataArgsStorage.findInheritanceType(t.target),u=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(t.discriminatorValue=u?u.value:t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map((function(e){return"STI"===t.inheritancePattern&&(e.columns=e.columns.map((function(e){return e.isNullable=!0,e}))),e})),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map((function(n){if("entity-child"===t.tableType)return t.parentEntityMetadata.ownColumns.find((function(e){return e.propertyName===n.propertyName}));var r=new ze.a({connection:o.connection,entityMetadata:t,args:n});return e.find((function(e){return"entity-child"===e.tableType&&e.target===n.target}))&&(r.isNullable=!0),r})),s&&s.column){var c=s.column&&s.column.name?s.column.name:"type",l=t.ownColumns.find((function(e){return e.propertyName===c}));l?l.isDiscriminator=!0:((l=new ze.a({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:c,options:s.column||{name:c,type:"varchar",nullable:!1}}})).isVirtual=!0,l.isDiscriminator=!0,t.ownColumns.push(l))}if("entity-child"===t.tableType){var h=t.parentEntityMetadata.ownColumns.find((function(e){return e.isDiscriminator}));h&&!t.ownColumns.find((function(e){return e===h}))&&t.ownColumns.push(h)}if("materialized-path"===t.treeType?t.ownColumns.push(new ze.a({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:"mpath",type:"varchar",nullable:!0,default:""}}})):"nested-set"===t.treeType&&(t.ownColumns.push(new ze.a({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:"nsleft",options:{name:"nsleft",type:"integer",nullable:!1,default:1}}})),t.ownColumns.push(new ze.a({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:"nsright",options:{name:"nsright",type:"integer",nullable:!1,default:2}}}))),t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map((function(e){return"entity-child"===t.tableType?t.parentEntityMetadata.ownRelations.find((function(t){return t.propertyName===e.propertyName})):new We({entityMetadata:t,args:e})})),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map((function(e){return"entity-child"===t.tableType?t.parentEntityMetadata.relationIds.find((function(t){return t.propertyName===e.propertyName})):new Ge({entityMetadata:t,args:e})})),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map((function(e){return"entity-child"===t.tableType?t.parentEntityMetadata.relationCounts.find((function(t){return t.propertyName===e.propertyName})):new Je({entityMetadata:t,args:e})})),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map((function(e){return new nt({entityMetadata:t,args:e})})),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map((function(e){return new rt({entityMetadata:t,args:e})})),this.connection.driver instanceof d.g&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map((function(e){return new it({entityMetadata:t,args:e})}))),this.connection.driver instanceof be.a){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter((function(e){return!e.unique})).map((function(e){return new Qe({entityMetadata:t,args:e})}));var f=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter((function(e){return e.unique})).map((function(e){return new et({entityMetadata:t,args:{target:e.target,name:e.name,columns:e.columns}})}));(n=t.ownUniques).push.apply(n,r.i(f))}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map((function(e){return new Qe({entityMetadata:t,args:e})}));if(this.connection.driver instanceof d.e||this.connection.driver instanceof C.a||this.connection.driver instanceof d.h){var p=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map((function(e){return new Qe({entityMetadata:t,args:{target:e.target,name:e.name,columns:e.columns,unique:!0,synchronize:!0}})}));(i=t.ownIndices).push.apply(i,r.i(p))}else f=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map((function(e){return new et({entityMetadata:t,args:e})})),(a=t.ownUniques).push.apply(a,r.i(f))},e.prototype.createEmbeddedsRecursively=function(e,t){var n=this;return t.map((function(t){var r=new Ke({entityMetadata:e,args:t}),i=Ye.getInheritanceTree(r.type);return r.columns=n.metadataArgsStorage.filterColumns(i).map((function(t){return new ze.a({connection:n.connection,entityMetadata:e,embeddedMetadata:r,args:t})})),r.relations=n.metadataArgsStorage.filterRelations(i).map((function(t){return new We({entityMetadata:e,embeddedMetadata:r,args:t})})),r.listeners=n.metadataArgsStorage.filterListeners(i).map((function(t){return new nt({entityMetadata:e,embeddedMetadata:r,args:t})})),r.indices=n.metadataArgsStorage.filterIndices(i).map((function(t){return new Qe({entityMetadata:e,embeddedMetadata:r,args:t})})),r.uniques=n.metadataArgsStorage.filterUniques(i).map((function(t){return new et({entityMetadata:e,embeddedMetadata:r,args:t})})),r.relationIds=n.metadataArgsStorage.filterRelationIds(i).map((function(t){return new Ge({entityMetadata:e,args:t})})),r.relationCounts=n.metadataArgsStorage.filterRelationCounts(i).map((function(t){return new Je({entityMetadata:e,args:t})})),r.embeddeds=n.createEmbeddedsRecursively(e,n.metadataArgsStorage.filterEmbeddeds(i)),r.embeddeds.forEach((function(e){return e.parentEmbeddedMetadata=r})),e.allEmbeddeds.push(r),r}))},e.prototype.computeEntityMetadataStep2=function(e){var t=this;e.embeddeds.forEach((function(e){return e.build(t.connection)})),e.embeddeds.forEach((function(e){e.columnsFromTree.forEach((function(e){return e.build(t.connection)})),e.relationsFromTree.forEach((function(e){return e.build()}))})),e.ownColumns.forEach((function(e){return e.build(t.connection)})),e.ownRelations.forEach((function(e){return e.build()})),e.relations=e.embeddeds.reduce((function(e,t){return e.concat(t.relationsFromTree)}),e.ownRelations),e.eagerRelations=e.relations.filter((function(e){return e.isEager})),e.lazyRelations=e.relations.filter((function(e){return e.isLazy})),e.oneToOneRelations=e.relations.filter((function(e){return e.isOneToOne})),e.oneToManyRelations=e.relations.filter((function(e){return e.isOneToMany})),e.manyToOneRelations=e.relations.filter((function(e){return e.isManyToOne})),e.manyToManyRelations=e.relations.filter((function(e){return e.isManyToMany})),e.ownerOneToOneRelations=e.relations.filter((function(e){return e.isOneToOneOwner})),e.ownerManyToManyRelations=e.relations.filter((function(e){return e.isManyToManyOwner})),e.treeParentRelation=e.relations.find((function(e){return e.isTreeParent})),e.treeChildrenRelation=e.relations.find((function(e){return e.isTreeChildren})),e.columns=e.embeddeds.reduce((function(e,t){return e.concat(t.columnsFromTree)}),e.ownColumns),e.listeners=e.embeddeds.reduce((function(e,t){return e.concat(t.listenersFromTree)}),e.ownListeners),e.afterLoadListeners=e.listeners.filter((function(e){return"after-load"===e.type})),e.afterInsertListeners=e.listeners.filter((function(e){return"after-insert"===e.type})),e.afterUpdateListeners=e.listeners.filter((function(e){return"after-update"===e.type})),e.afterRemoveListeners=e.listeners.filter((function(e){return"after-remove"===e.type})),e.beforeInsertListeners=e.listeners.filter((function(e){return"before-insert"===e.type})),e.beforeUpdateListeners=e.listeners.filter((function(e){return"before-update"===e.type})),e.beforeRemoveListeners=e.listeners.filter((function(e){return"before-remove"===e.type})),e.indices=e.embeddeds.reduce((function(e,t){return e.concat(t.indicesFromTree)}),e.ownIndices),e.uniques=e.embeddeds.reduce((function(e,t){return e.concat(t.uniquesFromTree)}),e.ownUniques),e.primaryColumns=e.columns.filter((function(e){return e.isPrimary})),e.nonVirtualColumns=e.columns.filter((function(e){return!e.isVirtual})),e.ancestorColumns=e.columns.filter((function(e){return"ancestor"===e.closureType})),e.descendantColumns=e.columns.filter((function(e){return"descendant"===e.closureType})),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter((function(e){return e.isGenerated||e.isObjectId})),e.hasUUIDGeneratedColumns=e.columns.filter((function(e){return e.isGenerated||"uuid"===e.generationStrategy})).length>0,e.createDateColumn=e.columns.find((function(e){return e.isCreateDate})),e.updateDateColumn=e.columns.find((function(e){return e.isUpdateDate})),e.deleteDateColumn=e.columns.find((function(e){return e.isDeleteDate})),e.versionColumn=e.columns.find((function(e){return e.isVersion})),e.discriminatorColumn=e.columns.find((function(e){return e.isDiscriminator})),e.treeLevelColumn=e.columns.find((function(e){return e.isTreeLevel})),e.nestedSetLeftColumn=e.columns.find((function(e){return e.isNestedSetLeft})),e.nestedSetRightColumn=e.columns.find((function(e){return e.isNestedSetRight})),e.materializedPathColumn=e.columns.find((function(e){return e.isMaterializedPath})),e.objectIdColumn=e.columns.find((function(e){return e.isObjectId})),e.foreignKeys.forEach((function(e){return e.build(t.connection.namingStrategy)})),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach((function(e){return e.build()})),e.relationCounts.forEach((function(e){return e.build()})),e.embeddeds.forEach((function(e){e.relationIdsFromTree.forEach((function(e){return e.build()})),e.relationCountsFromTree.forEach((function(e){return e.build()}))}))},e.prototype.computeInverseProperties=function(e,t){e.relations.forEach((function(n){var r=t.find((function(e){return e.target===n.type||"string"==typeof n.type&&e.targetName===n.type}));if(!r)throw new Error("Entity metadata for "+e.name+"#"+n.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");n.inverseEntityMetadata=r,n.inverseSidePropertyPath=n.buildInverseSidePropertyPath(),n.inverseRelation=r.relations.find((function(e){return e.propertyPath===n.inverseSidePropertyPath}))}))},e.prototype.createKeysForTableInheritance=function(e){e.indices.push(new Qe({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))},e}(),ot=function(){function e(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}return e.prototype.filterTables=function(e){return this.filterByTarget(this.tables,e)},e.prototype.filterColumns=function(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)},e.prototype.findGenerated=function(e,t){return this.generations.find((function(n){return(Array.isArray(e)?-1!==e.indexOf(n.target):n.target===e)&&n.propertyName===t}))},e.prototype.findTree=function(e){return this.trees.find((function(t){return Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e}))},e.prototype.filterRelations=function(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relations,e)},e.prototype.filterRelationIds=function(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)},e.prototype.filterRelationCounts=function(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)},e.prototype.filterIndices=function(e){return this.indices.filter((function(t){return Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e}))},e.prototype.filterUniques=function(e){return this.uniques.filter((function(t){return Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e}))},e.prototype.filterChecks=function(e){return this.checks.filter((function(t){return Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e}))},e.prototype.filterExclusions=function(e){return this.exclusions.filter((function(t){return Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e}))},e.prototype.filterListeners=function(e){return this.filterByTarget(this.entityListeners,e)},e.prototype.filterEmbeddeds=function(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)},e.prototype.findJoinTable=function(e,t){return this.joinTables.find((function(n){return n.target===e&&n.propertyName===t}))},e.prototype.filterJoinColumns=function(e,t){return this.joinColumns.filter((function(n){return n.target===e&&n.propertyName===t}))},e.prototype.filterSubscribers=function(e){return this.filterByTarget(this.entitySubscribers,e)},e.prototype.filterNamingStrategies=function(e){return this.filterByTarget(this.namingStrategies,e)},e.prototype.filterTransactionEntityManagers=function(e,t){return this.transactionEntityManagers.filter((function(n){return(Array.isArray(e)?-1!==e.indexOf(n.target):n.target===e)&&n.methodName===t}))},e.prototype.filterTransactionRepository=function(e,t){return this.transactionRepositories.filter((function(n){return(Array.isArray(e)?-1!==e.indexOf(n.target):n.target===e)&&n.methodName===t}))},e.prototype.filterSingleTableChildren=function(e){return this.tables.filter((function(t){return t.target instanceof Function&&e instanceof Function&&Ye.isInherited(t.target,e)&&"entity-child"===t.type}))},e.prototype.findInheritanceType=function(e){return this.inheritances.find((function(t){return t.target===e}))},e.prototype.findDiscriminatorValue=function(e){return this.discriminatorValues.find((function(t){return t.target===e}))},e.prototype.filterByTarget=function(e,t){return e.filter((function(e){return Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t}))},e.prototype.filterByTargetAndWithoutDuplicateProperties=function(e,t){var n=[];return e.forEach((function(e){(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t)&&(n.find((function(t){return t.propertyName===e.propertyName}))||n.push(e))})),n},e.prototype.filterByTargetAndWithoutDuplicateEmbeddedProperties=function(e,t){var n=[];return e.forEach((function(e){(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t)&&(n.find((function(t){return t.prefix===e.prefix&&t.propertyName===e.propertyName}))||n.push(e))})),n},e}(),st=function(){function e(){}return e.prototype.transform=function(e){var t=new ot;return e.forEach((function(e){var n=e.options;t.tables.push({target:n.target||n.name,name:n.tableName,database:n.database,schema:n.schema,type:n.type||"regular",orderBy:n.orderBy,synchronize:n.synchronize,expression:n.expression}),Object.keys(n.columns).forEach((function(e){var r=n.columns[e],i="regular";r.createDate&&(i="createDate"),r.updateDate&&(i="updateDate"),r.deleteDate&&(i="deleteDate"),r.version&&(i="version"),r.treeChildrenCount&&(i="treeChildrenCount"),r.treeLevel&&(i="treeLevel"),r.objectId&&(i="objectId"),t.columns.push({target:n.target||n.name,mode:i,propertyName:e,options:{type:r.type,name:r.objectId?"_id":r.name,length:r.length,width:r.width,nullable:r.nullable,readonly:r.readonly,update:r.update,select:r.select,insert:r.insert,primary:r.primary,unique:r.unique,comment:r.comment,default:r.default,onUpdate:r.onUpdate,precision:r.precision,scale:r.scale,zerofill:r.zerofill,unsigned:r.unsigned,charset:r.charset,collation:r.collation,enum:r.enum,asExpression:r.asExpression,generatedType:r.generatedType,hstoreType:r.hstoreType,array:r.array,transformer:r.transformer,spatialFeatureType:r.spatialFeatureType,srid:r.srid}}),r.generated&&t.generations.push({target:n.target||n.name,propertyName:e,strategy:"string"==typeof r.generated?r.generated:"increment"}),r.unique&&t.uniques.push({target:n.target||n.name,columns:[e]})})),n.relations&&Object.keys(n.relations).forEach((function(e){var r=n.relations[e];t.relations.push({target:n.target||n.name,propertyName:e,relationType:r.type,isLazy:r.lazy||!1,type:r.target,inverseSideProperty:r.inverseSide,isTreeParent:r.treeParent,isTreeChildren:r.treeChildren,options:{eager:r.eager||!1,cascade:r.cascade,nullable:r.nullable,onDelete:r.onDelete,onUpdate:r.onUpdate,deferrable:r.deferrable,primary:r.primary,persistence:r.persistence}}),r.joinColumn&&t.joinColumns.push("boolean"==typeof r.joinColumn?{target:n.target||n.name,propertyName:e}:{target:n.target||n.name,propertyName:e,name:r.joinColumn.name,referencedColumnName:r.joinColumn.referencedColumnName}),r.joinTable&&t.joinTables.push("boolean"==typeof r.joinTable?{target:n.target||n.name,propertyName:e}:{target:n.target||n.name,propertyName:e,name:r.joinTable.name,database:r.joinTable.database,schema:r.joinTable.schema,joinColumns:r.joinTable.joinColumn?[r.joinTable.joinColumn]:r.joinTable.joinColumns,inverseJoinColumns:r.joinTable.inverseJoinColumn?[r.joinTable.inverseJoinColumn]:r.joinTable.inverseJoinColumns})})),n.indices&&n.indices.forEach((function(e){t.indices.push({target:n.target||n.name,name:e.name,unique:!0===e.unique,spatial:!0===e.spatial,fulltext:!0===e.fulltext,parser:e.parser,synchronize:!1!==e.synchronize,where:e.where,sparse:e.sparse,columns:e.columns})})),n.uniques&&n.uniques.forEach((function(e){t.uniques.push({target:n.target||n.name,name:e.name,columns:e.columns})})),n.checks&&n.checks.forEach((function(e){t.checks.push({target:n.target||n.name,name:e.name,expression:e.expression})})),n.exclusions&&n.exclusions.forEach((function(e){t.exclusions.push({target:n.target||n.name,name:e.name,expression:e.expression})}))})),t},e}(),ut=n("2p4/"),ct=function(){function e(e){this.connection=e}return e.prototype.buildMigrations=function(e){var t=r.g(J.a.splitClassesAndStrings(e),2);return r.i(t[0],Be(this.connection.logger,t[1])).map((function(e){return Ve(e)}))},e.prototype.buildSubscribers=function(e){var t=r.g(J.a.splitClassesAndStrings(e||[]),2),n=r.i(t[0],Be(this.connection.logger,t[1]));return zt().filterSubscribers(n).map((function(e){return Ve(e.target)}))},e.prototype.buildEntityMetadatas=function(e){var t=r.g(J.a.splitClassesAndStrings(e||[]),2),n=t[0],i=t[1],a=n.filter((function(e){return e instanceof ut.a==0})),o=n.filter((function(e){return e instanceof ut.a})),s=r.i(a,Be(this.connection.logger,i));s.forEach((function(e){e instanceof ut.a&&(o.push(e),s.slice(s.indexOf(e),1))}));var u=new at(this.connection,zt()).build(s),c=(new st).transform(o),l=new at(this.connection,c).build();return r.i(u,l)},e}(),lt=n("h33d"),ht=function(){function e(e){this.options=e}return e.prototype.logQuery=function(e,t,n){if("all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("query")){var r=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");console.log("query: "+r)}},e.prototype.logQueryError=function(e,t,n,r){if("all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("error")){var i=t+(n&&n.length?" -- PARAMETERS: "+this.stringifyParams(n):"");console.log("query failed: "+i),console.log("error:",e)}},e.prototype.logQuerySlow=function(e,t,n,r){var i=t+(n&&n.length?" -- PARAMETERS: "+this.stringifyParams(n):"");console.log("query is slow: "+i),console.log("execution time: "+e)},e.prototype.logSchemaBuild=function(e,t){("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("schema"))&&console.log(e)},e.prototype.logMigration=function(e,t){console.log(e)},e.prototype.log=function(e,t,n){switch(e){case"log":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("log"))&&console.log(t);break;case"info":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("info"))&&console.info(t);break;case"warn":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("warn"))&&console.warn(t)}},e.prototype.stringifyParams=function(e){try{return JSON.stringify(e)}catch(t){return e}},e}(),ft=function(){function e(e){this.options=e}return e.prototype.logQuery=function(e,t,n){if("all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("query")){var r=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");Se.a.logInfo("query:",Se.a.highlightSql(r))}},e.prototype.logQueryError=function(e,t,n,r){if("all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("error")){var i=t+(n&&n.length?" -- PARAMETERS: "+this.stringifyParams(n):"");Se.a.logError("query failed:",Se.a.highlightSql(i)),Se.a.logError("error:",e)}},e.prototype.logQuerySlow=function(e,t,n,r){var i=t+(n&&n.length?" -- PARAMETERS: "+this.stringifyParams(n):"");Se.a.logWarn("query is slow:",Se.a.highlightSql(i)),Se.a.logWarn("execution time:",e)},e.prototype.logSchemaBuild=function(e,t){("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("schema"))&&Se.a.log(e)},e.prototype.logMigration=function(e,t){Se.a.log(e)},e.prototype.log=function(e,t,n){switch(e){case"log":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("log"))&&Se.a.log(t);break;case"info":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("info"))&&Se.a.logInfo("INFO:",t);break;case"warn":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("warn"))&&console.warn(Se.a.warn(t))}},e.prototype.stringifyParams=function(e){try{return JSON.stringify(e)}catch(t){return e}},e}(),dt=function(){function e(e){this.options=e}return e.prototype.logQuery=function(e,t,n){if("all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("query")){var r=e+(t&&t.length?" -- PARAMETERS: "+this.stringifyParams(t):"");this.write("[QUERY]: "+r)}},e.prototype.logQueryError=function(e,t,n,r){if("all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("error")){var i=t+(n&&n.length?" -- PARAMETERS: "+this.stringifyParams(n):"");this.write(["[FAILED QUERY]: "+i,"[QUERY ERROR]: "+e])}},e.prototype.logQuerySlow=function(e,t,n,r){var i=t+(n&&n.length?" -- PARAMETERS: "+this.stringifyParams(n):"");this.write("[SLOW QUERY: "+e+" ms]: "+i)},e.prototype.logSchemaBuild=function(e,t){("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("schema"))&&this.write(e)},e.prototype.logMigration=function(e,t){this.write(e)},e.prototype.log=function(e,t,n){switch(e){case"log":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("log"))&&this.write("[LOG]: "+t);break;case"info":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("info"))&&this.write("[INFO]: "+t);break;case"warn":("all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("warn"))&&this.write("[WARN]: "+t)}},e.prototype.write=function(e){e=Array.isArray(e)?e:[e];var t=Se.a.load("app-root-path").path;e=e.map((function(e){return"["+(new Date).toISOString()+"]"+e})),Se.a.appendFileSync(t+"/ormlogs.log",e.join("\r\n")+"\r\n")},e.prototype.stringifyParams=function(e){try{return JSON.stringify(e)}catch(t){return e}},e}(),pt=function(){function e(){this.debug=Se.a.load("debug"),this.debugQueryLog=this.debug("typeorm:query:log"),this.debugQueryError=this.debug("typeorm:query:error"),this.debugQuerySlow=this.debug("typeorm:query:slow"),this.debugSchemaBuild=this.debug("typeorm:schema"),this.debugMigration=this.debug("typeorm:migration"),this.debugLog=this.debug("typeorm:log"),this.debugInfo=this.debug("typeorm:info"),this.debugWarn=this.debug("typeorm:warn")}return e.prototype.logQuery=function(e,t,n){this.debugQueryLog.enabled&&(this.debugQueryLog(Se.a.highlightSql(e)+";"),t&&t.length&&this.debugQueryLog("parameters:",t))},e.prototype.logQueryError=function(e,t,n,r){this.debugQueryError.enabled&&(this.debugQueryError(Se.a.highlightSql(t)+";"),n&&n.length&&this.debugQueryError("parameters:",n),this.debugQueryError("error: ",e))},e.prototype.logQuerySlow=function(e,t,n,r){this.debugQuerySlow.enabled&&(this.debugQuerySlow(Se.a.highlightSql(t)+";"),n&&n.length&&this.debugQuerySlow("parameters:",n),this.debugQuerySlow("execution time:",e))},e.prototype.logSchemaBuild=function(e,t){this.debugSchemaBuild.enabled&&this.debugSchemaBuild(e)},e.prototype.logMigration=function(e,t){this.debugMigration.enabled&&this.debugMigration(e)},e.prototype.log=function(e,t,n){switch(e){case"log":this.debugLog.enabled&&this.debugLog(t);break;case"info":this.debugInfo.enabled&&this.debugInfo(t);break;case"warn":this.debugWarn.enabled&&this.debugWarn(t)}},e}(),mt=function(){function e(){}return e.prototype.create=function(e,t){if(e instanceof Object)return e;if(e)switch(e){case"simple-console":return new ht(t);case"file":return new dt(t);case"advanced-console":return new ft(t);case"debug":return new pt}return new ft(t)},e}(),yt=function(){function e(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}return e.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){if(e=this.connection.options.cache,"redis"===this.clientType)this.client=e&&e.options?this.redis.createClient(e.options):this.redis.createClient();else if("ioredis"===this.clientType)this.client=e&&e.options?new this.redis(e.options):new this.redis;else if("ioredis/cluster"===this.clientType)if(e&&e.options&&e.options instanceof Array)this.client=new this.redis.Cluster(e.options);else{if(!(e&&e.options&&e.options.startupNodes))throw new Error("options.startupNodes required for "+this.clientType+".");this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options)}return[2]}))}))},e.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.client.quit((function(r,i){if(r)return n(r);t(),e.client=void 0}))}))]}))}))},e.prototype.synchronize=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2]}))}))},e.prototype.getFromCache=function(e,t){var n=this;return new Promise((function(t,r){e.identifier?n.client.get(e.identifier,(function(e,n){if(e)return r(e);t(JSON.parse(n))})):e.query?n.client.get(e.query,(function(e,n){if(e)return r(e);t(JSON.parse(n))})):t(void 0)}))},e.prototype.isExpired=function(e){return e.time+e.duration<(new Date).getTime()},e.prototype.storeInCache=function(e,t,n){return r.b(this,void 0,void 0,(function(){var t=this;return r.e(this,(function(n){return[2,new Promise((function(n,r){e.identifier?t.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,(function(e,t){if(e)return r(e);n()})):e.query&&t.client.set(e.query,JSON.stringify(e),"PX",e.duration,(function(e,t){if(e)return r(e);n()}))}))]}))}))},e.prototype.clear=function(e){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.client.flushdb((function(e,r){if(e)return n(e);t()}))}))]}))}))},e.prototype.remove=function(e,t){return r.b(this,void 0,void 0,(function(){var t=this;return r.e(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return t.deleteKey(e)})))];case 1:return n.sent(),[2]}}))}))},e.prototype.deleteKey=function(e){var t=this;return new Promise((function(n,r){t.client.del(e,(function(e,t){if(e)return r(e);n()}))}))},e.prototype.loadRedis=function(){try{return Se.a.load(this.clientType)}catch(e){throw new Error("Cannot use cache because "+this.clientType+' is not installed. Please run "npm i '+this.clientType+' --save".')}},e}(),vt=function(){function e(e){this.connection=e;var t=this.connection.driver.options;this.queryResultCacheTable=this.connection.driver.buildTableName(("object"==typeof this.connection.options.cache?this.connection.options.cache:{}).tableName||"query-result-cache",t.schema,t.database)}return e.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2]}))}))},e.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2]}))}))},e.prototype.synchronize=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return e=this.getQueryRunner(e),t=this.connection.driver,[4,e.hasTable(this.queryResultCacheTable)];case 1:return n.sent()?[2]:[4,e.createTable(new o.a({name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))];case 2:return n.sent(),[2]}}))}))},e.prototype.getFromCache=function(e,t){t=this.getQueryRunner(t);var n=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?n.where(n.escape("cache")+"."+n.escape("identifier")+" = :identifier").setParameters({identifier:this.connection.driver instanceof d.i?new p(e.identifier,"nvarchar"):e.identifier}).getRawOne():e.query?this.connection.driver instanceof d.f?n.where("dbms_lob.compare("+n.escape("cache")+"."+n.escape("query")+", :query) = 0",{query:e.query}).getRawOne():n.where(n.escape("cache")+"."+n.escape("query")+" = :query").setParameters({query:this.connection.driver instanceof d.i?new p(e.query,"nvarchar"):e.query}).getRawOne():Promise.resolve(void 0)},e.prototype.isExpired=function(e){var t="string"==typeof e.duration?parseInt(e.duration):e.duration;return("string"==typeof e.time?parseInt(e.time):e.time)+t<(new Date).getTime()},e.prototype.storeInCache=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a;return r.e(this,(function(r){switch(r.label){case 0:return n=this.getQueryRunner(n),i=e,this.connection.driver instanceof d.i&&(i={identifier:new p(e.identifier,"nvarchar"),time:new p(e.time,"bigint"),duration:new p(e.duration,"int"),query:new p(e.query,"nvarchar"),result:new p(e.result,"nvarchar")}),t&&t.identifier?((a=n.manager.createQueryBuilder().update(this.queryResultCacheTable).set(i)).where(a.escape("identifier")+" = :condition",{condition:i.identifier}),[4,a.execute()]):[3,2];case 1:return r.sent(),[3,6];case 2:return t&&t.query?((a=n.manager.createQueryBuilder().update(this.queryResultCacheTable).set(i)).where(this.connection.driver instanceof d.f?'dbms_lob.compare("query", :condition) = 0':a.escape("query")+" = :condition",{condition:i.query}),[4,a.execute()]):[3,4];case 3:return r.sent(),[3,6];case 4:return[4,n.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(i).execute()];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))},e.prototype.clear=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){return[2,this.getQueryRunner(e).clearTable(this.queryResultCacheTable)]}))}))},e.prototype.remove=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,Promise.all(e.map((function(e){var r=n.getQueryRunner(t).manager.createQueryBuilder();return r.delete().from(n.queryResultCacheTable).where(r.escape("identifier")+" = :identifier",{identifier:e}).execute()})))];case 1:return r.sent(),[2]}}))}))},e.prototype.getQueryRunner=function(e){return e||this.connection.createQueryRunner("master")},e}(),gt=function(){function e(e){this.connection=e}return e.prototype.create=function(){if(!this.connection.options.cache)throw new Error("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");var e=this.connection.options.cache;return e.provider&&"function"==typeof e.provider?e.provider(this.connection):"redis"===e.type||"ioredis"===e.type||"ioredis/cluster"===e.type?new yt(this.connection,e.type):new vt(this.connection)},e}(),bt=function(){function e(e){this.connection=e}return e.prototype.load=function(e,t,n){return n&&n.isReleased&&(n=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,n):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,n):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,n):this.loadManyToManyNotOwner(e,t,n)},e.prototype.loadManyToOneOrOneToOneOwner=function(e,t,n){var r=Array.isArray(t)?t:[t],i=e.entityMetadata.primaryColumns,a=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map((function(t){return e.entityMetadata.name+"."+t.propertyName+" = "+e.propertyName+"."+t.referencedColumn.propertyName})).join(" AND "),o=e.entityMetadata.name,s=this.connection.createQueryBuilder(n).select(e.propertyName).from(e.type,e.propertyName).innerJoin(e.entityMetadata.target,o,a);if(1===i.length)s.where(o+"."+i[0].propertyPath+" IN (:..."+o+"_"+i[0].propertyName+")"),s.setParameter(o+"_"+i[0].propertyName,r.map((function(e){return i[0].getEntityValue(e)})));else{var u=r.map((function(e,t){return i.map((function(n,r){var i=o+"_entity_"+t+"_"+r;return s.setParameter(i,n.getEntityValue(e)),o+"."+n.propertyPath+" = :"+i})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR ");s.where(u)}return s.getMany()},e.prototype.loadOneToManyOrOneToOneNotOwner=function(e,t,n){var r=Array.isArray(t)?t:[t],i=e.propertyName,a=e.inverseRelation.joinColumns,o=this.connection.createQueryBuilder(n).select(i).from(e.inverseRelation.entityMetadata.target,i);if(1===a.length)o.where(i+"."+a[0].propertyPath+" IN (:..."+i+"_"+a[0].propertyName+")"),o.setParameter(i+"_"+a[0].propertyName,r.map((function(e){return a[0].referencedColumn.getEntityValue(e)})));else{var s=r.map((function(e,t){return a.map((function(n,r){var a=i+"_entity_"+t+"_"+r;return o.setParameter(a,n.referencedColumn.getEntityValue(e)),i+"."+n.propertyPath+" = :"+a})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR ");o.where(s)}return o.getMany()},e.prototype.loadManyToManyOwner=function(e,t,n){var i=Array.isArray(t)?t:[t],a=e.propertyName,o=e.junctionEntityMetadata.tableName,s=e.joinColumns.map((function(e){return o+"."+e.propertyName+" IN (:..."+e.propertyName+")"})),u=e.inverseJoinColumns.map((function(e){return o+"."+e.propertyName+"="+a+"."+e.referencedColumn.propertyName})),c=e.joinColumns.reduce((function(e,t){return e[t.propertyName]=i.map((function(e){return t.referencedColumn.getEntityValue(e)})),e}),{});return this.connection.createQueryBuilder(n).select(a).from(e.type,a).innerJoin(o,o,r.i(s,u).join(" AND ")).setParameters(c).getMany()},e.prototype.loadManyToManyNotOwner=function(e,t,n){var i=Array.isArray(t)?t:[t],a=e.propertyName,o=e.junctionEntityMetadata.tableName,s=e.inverseRelation.joinColumns.map((function(e){return o+"."+e.propertyName+" = "+a+"."+e.referencedColumn.propertyName})),u=e.inverseRelation.inverseJoinColumns.map((function(e){return o+"."+e.propertyName+" IN (:..."+e.propertyName+")"})),c=e.inverseRelation.inverseJoinColumns.reduce((function(e,t){return e[t.propertyName]=i.map((function(e){return t.referencedColumn.getEntityValue(e)})),e}),{});return this.connection.createQueryBuilder(n).select(a).from(e.type,a).innerJoin(o,o,r.i(s,u).join(" AND ")).setParameters(c).getMany()},e.prototype.enableLazyLoad=function(e,t,n){var r=this,i="__"+e.propertyName+"__",a="__promise_"+e.propertyName+"__",o="__has_"+e.propertyName+"__",s=function(e,t){return e[i]=t,e[o]=!0,delete e[a],t},u=function(e,t){return delete e[o],delete e[i],e[a]=t,t.then((function(n){return e[a]===t?s(e,n):n})),t};Object.defineProperty(t,e.propertyName,{get:function(){if(!0===this[o]||void 0!==this[i])return Promise.resolve(this[i]);if(this[a])return this[a];var t=r.load(e,this,n).then((function(t){return e.isOneToOne||e.isManyToOne?t[0]:t}));return u(this,t)},set:function(e){e instanceof Promise?u(this,e):s(this,e)},configurable:!0})},e}(),Et=function(){function e(e){this.connection=e}return e.prototype.load=function(e,t,n,i){return r.b(this,void 0,void 0,(function(){var a,o,s,u;return r.e(this,(function(r){if(e instanceof We)a=e,o=Array.isArray(t)?t:[t],s=Array.isArray(n)?n:n?[n]:void 0;else{if(u=this.connection.getMetadata(e),!(a=u.findRelationWithPropertyPath(t)))throw new Error('Relation "'+a+'" was not found in "'+u.name+'".');o=Array.isArray(n)?n:[n],s=Array.isArray(i)?i:i?[i]:void 0}return a.isManyToMany?[2,this.loadForManyToMany(a,o,s)]:a.isManyToOne||a.isOneToOneOwner?[2,this.loadForManyToOneAndOneToOneOwner(a,o,s)]:[2,this.loadForOneToManyAndOneToOneNotOwner(a,o,s)]}))}))},e.prototype.loadManyToManyRelationIdsAndGroup=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,o,s,u,c;return r.e(this,(function(r){switch(r.label){case 0:return i=e.isManyToMany||e.isOneToMany,a=Array.isArray(t)?t:[t],n?[3,2]:[4,this.connection.relationLoader.load(e,t)];case 1:if(!(n=r.sent()).length)return[2,a.map((function(e){return{entity:e,related:i?[]:void 0}}))];r.label=2;case 2:return[4,this.load(e,t,n)];case 3:return o=r.sent(),s=Array.isArray(n)?n:[n],e.isManyToManyOwner?(u=e.junctionEntityMetadata.inverseColumns.map((function(e){return e.referencedColumn})),c=e.junctionEntityMetadata.ownerColumns.map((function(e){return e.referencedColumn}))):e.isManyToManyNotOwner?(u=e.junctionEntityMetadata.ownerColumns.map((function(e){return e.referencedColumn})),c=e.junctionEntityMetadata.inverseColumns.map((function(e){return e.referencedColumn}))):e.isManyToOne||e.isOneToOneOwner?(u=e.joinColumns.map((function(e){return e.referencedColumn})),c=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(u=e.inverseRelation.entityMetadata.primaryColumns,c=e.inverseRelation.joinColumns.map((function(e){return e.referencedColumn}))),[2,a.map((function(t){var n={entity:t,related:i?[]:void 0};return o.forEach((function(r){c.every((function(e){return e.getEntityValue(t)===r[e.entityMetadata.name+"_"+e.propertyPath.replace(".","_")]}))&&s.forEach((function(t){u.every((function(n){return n.getEntityValue(t)===r[n.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+n.propertyPath.replace(".","_")]}))&&(i?n.related.push(t):n.related=t)}))})),n}))]}}))}))},e.prototype.loadForManyToMany=function(e,t,n){var r=e.junctionEntityMetadata,i=r.name,a=e.isOwning?r.ownerColumns:r.inverseColumns,o=e.isOwning?r.inverseColumns:r.ownerColumns,s=this.connection.createQueryBuilder();r.ownerColumns.forEach((function(e){var t=e.referencedColumn.entityMetadata.name+"_"+e.referencedColumn.propertyPath.replace(".","_");s.addSelect(i+"."+e.propertyPath,t)})),r.inverseColumns.forEach((function(t){var n=t.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+t.referencedColumn.propertyPath.replace(".","_");s.addSelect(i+"."+t.propertyPath,n)}));var u="";1===a.length?(s.setParameter("values1",t.map((function(e){return a[0].referencedColumn.getEntityValue(e)}))),u=i+"."+a[0].propertyPath+" IN (:...values1)"):u="("+t.map((function(e,t){return a.map((function(n){var r="entity1_"+t+"_"+n.propertyName;return s.setParameter(r,n.referencedColumn.getEntityValue(e)),i+"."+n.propertyPath+" = :"+r})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR ")+")";var c="";return n&&(1===o.length?(s.setParameter("values2",n.map((function(e){return o[0].referencedColumn.getEntityValue(e)}))),c=i+"."+o[0].propertyPath+" IN (:...values2)"):c="("+n.map((function(e,t){return o.map((function(n){var r="entity2_"+t+"_"+n.propertyName;return s.setParameter(r,n.referencedColumn.getEntityValue(e)),i+"."+n.propertyPath+" = :"+r})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR ")+")"),s.from(r.target,i).where(u+(c?" AND "+c:"")).getRawMany()},e.prototype.loadForManyToOneAndOneToOneOwner=function(e,t,n){var r=e.entityMetadata.targetName,i=this.connection.createQueryBuilder();e.entityMetadata.primaryColumns.forEach((function(e){var t=e.entityMetadata.name+"_"+e.propertyPath.replace(".","_");i.addSelect(r+"."+e.propertyPath,t)})),e.joinColumns.forEach((function(t){var n=t.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+t.referencedColumn.propertyPath.replace(".","_");i.addSelect(r+"."+t.propertyPath,n)}));var a="";return 1===e.entityMetadata.primaryColumns.length?(i.setParameter("values",t.map((function(t){return e.entityMetadata.primaryColumns[0].getEntityValue(t)}))),a=r+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)"):a=t.map((function(t,n){return e.entityMetadata.primaryColumns.map((function(e,a){var o="entity"+n+"_"+a;return i.setParameter(o,e.getEntityValue(t)),r+"."+e.propertyPath+" = :"+o})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR "),i.from(e.entityMetadata.target,r).where(a).getRawMany()},e.prototype.loadForOneToManyAndOneToOneNotOwner=function(e,t,n){var r=(e=e.inverseRelation).entityMetadata.targetName,i=this.connection.createQueryBuilder();e.entityMetadata.primaryColumns.forEach((function(t){var n=t.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+t.propertyPath.replace(".","_");i.addSelect(r+"."+t.propertyPath,n)})),e.joinColumns.forEach((function(e){var t=e.referencedColumn.entityMetadata.name+"_"+e.referencedColumn.propertyPath.replace(".","_");i.addSelect(r+"."+e.propertyPath,t)}));var a="";return 1===e.joinColumns.length?(i.setParameter("values",t.map((function(t){return e.joinColumns[0].referencedColumn.getEntityValue(t)}))),a=r+"."+e.joinColumns[0].propertyPath+" IN (:...values)"):a=t.map((function(t,n){return e.joinColumns.map((function(e,a){var o="entity"+n+"_"+a;return i.setParameter(o,e.referencedColumn.getEntityValue(t)),r+"."+e.propertyPath+" = :"+o})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR "),i.from(e.entityMetadata.target,r).where(a).getRawMany()},e}(),wt=function(){function e(e){this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.name=e.name||"default",this.options=e,this.logger=(new mt).create(this.options.logger,this.options.logging),this.driver=(new qe).create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new s,this.queryResultCache=e.cache?new gt(this).create():void 0,this.relationLoader=new bt(this),this.relationIdLoader=new Et(this),this.isConnected=!1}return Object.defineProperty(e.prototype,"mongoManager",{get:function(){if(!(this.manager instanceof d.b))throw new Error("MongoEntityManager is only available for MongoDB databases.");return this.manager},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sqljsManager",{get:function(){if(!(this.manager instanceof me))throw new Error("SqljsEntityManager is only available for Sqljs databases.");return this.manager},enumerable:!0,configurable:!0}),e.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){switch(t.label){case 0:if(this.isConnected)throw new c(this.name);return[4,this.driver.connect()];case 1:return t.sent(),this.queryResultCache?[4,this.queryResultCache.connect()]:[3,3];case 2:t.sent(),t.label=3;case 3:de.a.assign(this,{isConnected:!0}),t.label=4;case 4:return t.trys.push([4,12,,14]),this.buildMetadatas(),[4,this.driver.afterConnect()];case 5:return t.sent(),this.options.dropSchema?[4,this.dropDatabase()]:[3,7];case 6:t.sent(),t.label=7;case 7:return this.options.synchronize?[4,this.synchronize()]:[3,9];case 8:t.sent(),t.label=9;case 9:return this.options.migrationsRun?[4,this.runMigrations({transaction:this.options.migrationsTransactionMode})]:[3,11];case 10:t.sent(),t.label=11;case 11:return[3,14];case 12:return e=t.sent(),[4,this.close()];case 13:throw t.sent(),e;case 14:return[2,this]}}))}))},e.prototype.close=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isConnected)throw new u(this.name);return[4,this.driver.disconnect()];case 1:return e.sent(),this.queryResultCache?[4,this.queryResultCache.disconnect()]:[3,3];case 2:e.sent(),e.label=3;case 3:return de.a.assign(this,{isConnected:!1}),[2]}}))}))},e.prototype.synchronize=function(e){return void 0===e&&(e=!1),r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:if(!this.isConnected)throw new u(this.name);return e?[4,this.dropDatabase()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[4,this.driver.createSchemaBuilder().build()];case 3:return t.sent(),[2]}}))}))},e.prototype.dropDatabase=function(){return r.b(this,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){switch(n.label){case 0:e=this.createQueryRunner("master"),n.label=1;case 1:return n.trys.push([1,,6,8]),this.driver instanceof d.i||this.driver instanceof d.e||this.driver instanceof C.a?(t=this.driver.database?[this.driver.database]:[],this.entityMetadatas.forEach((function(e){e.database&&-1===t.indexOf(e.database)&&t.push(e.database)})),[4,f.a.runInSequence(t,(function(t){return e.clearDatabase(t)}))]):[3,3];case 2:return n.sent(),[3,5];case 3:return[4,e.clearDatabase()];case 4:n.sent(),n.label=5;case 5:return[3,8];case 6:return[4,e.release()];case 7:return n.sent(),[7];case 8:return[2]}}))}))},e.prototype.runMigrations=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:if(!this.isConnected)throw new u(this.name);return(t=new m(this)).transaction=e&&e.transaction||"all",[4,t.executePendingMigrations()];case 1:return[2,n.sent()]}}))}))},e.prototype.undoLastMigration=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:if(!this.isConnected)throw new u(this.name);return(t=new m(this)).transaction=e&&e.transaction||"all",[4,t.undoLastMigration()];case 1:return n.sent(),[2]}}))}))},e.prototype.showMigrations=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isConnected)throw new u(this.name);return[4,new m(this).showMigrations()];case 1:return[2,e.sent()]}}))}))},e.prototype.hasMetadata=function(e){return!!this.findMetadata(e)},e.prototype.getMetadata=function(e){var t=this.findMetadata(e);if(!t)throw new l(e);return t},e.prototype.getRepository=function(e){return this.manager.getRepository(e)},e.prototype.getTreeRepository=function(e){return this.manager.getTreeRepository(e)},e.prototype.getMongoRepository=function(e){if(!(this.driver instanceof d.a))throw new Error("You can use getMongoRepository only for MongoDB connections.");return this.manager.getRepository(e)},e.prototype.getCustomRepository=function(e){return this.manager.getCustomRepository(e)},e.prototype.transaction=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){return[2,this.manager.transaction(e,t)]}))}))},e.prototype.query=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i;return r.e(this,(function(r){switch(r.label){case 0:if(this instanceof d.b)throw new Error("Queries aren't supported by MongoDB.");if(n&&n.isReleased)throw new _;i=n||this.createQueryRunner("master"),r.label=1;case 1:return r.trys.push([1,,3,6]),[4,i.query(e,t)];case 2:return[2,r.sent()];case 3:return n?[3,5]:[4,i.release()];case 4:r.sent(),r.label=5;case 5:return[7];case 6:return[2]}}))}))},e.prototype.createQueryBuilder=function(e,t,n){if(this instanceof d.b)throw new Error("Query Builder is not supported by MongoDB.");if(t){var r=this.getMetadata(e);return new lt.SelectQueryBuilder(this,n).select(t).from(r.target,t)}return new lt.SelectQueryBuilder(this,e)},e.prototype.createQueryRunner=function(e){void 0===e&&(e="master");var t=this.driver.createQueryRunner(e),n=this.createEntityManager(t);return Object.assign(t,{manager:n}),t},e.prototype.getManyToManyMetadata=function(e,t){var n=this.getMetadata(e).findRelationWithPropertyPath(t);if(!n)throw new Error('Relation "'+t+'" was not found in '+e+" entity.");if(!n.isManyToMany)throw new Error('Relation "'+e+"#"+t+'" does not have a many-to-many relationship.You can use this method only on many-to-many relations.');return n.junctionEntityMetadata},e.prototype.createEntityManager=function(e){return(new ve).create(this,e)},e.prototype.findMetadata=function(e){return this.entityMetadatas.find((function(t){return t.target===e||(e instanceof ut.a?t.name===e.options.name:"string"==typeof e&&(-1!==e.indexOf(".")?t.tablePath===e:t.name===e||t.tableName===e))}))},e.prototype.buildMetadatas=function(){var e=new ct(this),t=new T,n=e.buildSubscribers(this.options.subscribers||[]);de.a.assign(this,{subscribers:n});var r=e.buildEntityMetadatas(this.options.entities||[]);de.a.assign(this,{entityMetadatas:r});var i=e.buildMigrations(this.options.migrations||[]);de.a.assign(this,{migrations:i}),this.driver.database=this.getDatabaseName(),t.validateMany(this.entityMetadatas.filter((function(e){return"view"!==e.tableType})),this.driver)},e.prototype.getDatabaseName=function(){var e=this.options;switch(e.type){case"mysql":case"mariadb":case"postgres":case"cockroachdb":case"mssql":case"oracle":return e.replication?e.replication.master.database:e.database;default:return e.database}},e}(),Ot=function(e){function t(n){var r=e.call(this)||this;return r.name="ConnectionNotFoundError",Object.setPrototypeOf(r,t.prototype),r.message='Connection "'+n+'" was not found.',r}return r.d(t,e),t}(Error),Ct=function(e){function t(n){var r=e.call(this)||this;return r.name="AlreadyHasActiveConnectionError",Object.setPrototypeOf(r,t.prototype),r.message='Cannot create a new connection named "'+n+'", because connection with such name already exist and it now has an active connection session.',r}return r.d(t,e),t}(Error),Tt=function(){function e(){this.connections=[]}return e.prototype.has=function(e){return!!this.connections.find((function(t){return t.name===e}))},e.prototype.get=function(e){void 0===e&&(e="default");var t=this.connections.find((function(t){return t.name===e}));if(!t)throw new Ot(e);return t},e.prototype.create=function(e){var t=this.connections.find((function(t){return t.name===(e.name||"default")}));if(t){if(t.isConnected)throw new Ct(e.name||"default");this.connections.splice(this.connections.indexOf(t),1)}var n=new wt(e);return this.connections.push(n),n},e}(),_t=function(){function e(){}return e.prototype.read=function(){return{type:Se.a.getEnvVariable("TYPEORM_CONNECTION")||(Se.a.getEnvVariable("TYPEORM_URL")?Se.a.getEnvVariable("TYPEORM_URL").split("://")[0]:void 0),url:Se.a.getEnvVariable("TYPEORM_URL"),host:Se.a.getEnvVariable("TYPEORM_HOST"),port:Se.a.getEnvVariable("TYPEORM_PORT"),username:Se.a.getEnvVariable("TYPEORM_USERNAME"),password:Se.a.getEnvVariable("TYPEORM_PASSWORD"),database:Se.a.getEnvVariable("TYPEORM_DATABASE"),sid:Se.a.getEnvVariable("TYPEORM_SID"),schema:Se.a.getEnvVariable("TYPEORM_SCHEMA"),extra:Se.a.getEnvVariable("TYPEORM_DRIVER_EXTRA")?JSON.parse(Se.a.getEnvVariable("TYPEORM_DRIVER_EXTRA")):void 0,synchronize:J.a.toBoolean(Se.a.getEnvVariable("TYPEORM_SYNCHRONIZE")),dropSchema:J.a.toBoolean(Se.a.getEnvVariable("TYPEORM_DROP_SCHEMA")),migrationsRun:J.a.toBoolean(Se.a.getEnvVariable("TYPEORM_MIGRATIONS_RUN")),entities:this.stringToArray(Se.a.getEnvVariable("TYPEORM_ENTITIES")),migrations:this.stringToArray(Se.a.getEnvVariable("TYPEORM_MIGRATIONS")),migrationsTableName:Se.a.getEnvVariable("TYPEORM_MIGRATIONS_TABLE_NAME"),subscribers:this.stringToArray(Se.a.getEnvVariable("TYPEORM_SUBSCRIBERS")),logging:this.transformLogging(Se.a.getEnvVariable("TYPEORM_LOGGING")),logger:Se.a.getEnvVariable("TYPEORM_LOGGER"),entityPrefix:Se.a.getEnvVariable("TYPEORM_ENTITY_PREFIX"),maxQueryExecutionTime:Se.a.getEnvVariable("TYPEORM_MAX_QUERY_EXECUTION_TIME"),debug:Se.a.getEnvVariable("TYPEORM_DEBUG"),cli:{entitiesDir:Se.a.getEnvVariable("TYPEORM_ENTITIES_DIR"),migrationsDir:Se.a.getEnvVariable("TYPEORM_MIGRATIONS_DIR"),subscribersDir:Se.a.getEnvVariable("TYPEORM_SUBSCRIBERS_DIR")},cache:this.transformCaching(),uuidExtension:Se.a.getEnvVariable("TYPEORM_UUID_EXTENSION")}},e.prototype.transformLogging=function(e){return"true"===e||"TRUE"===e||"1"===e||("all"===e?"all":this.stringToArray(e))},e.prototype.transformCaching=function(){var e=Se.a.getEnvVariable("TYPEORM_CACHE");return"true"===e||"TRUE"===e||"1"===e||"false"!==e&&"FALSE"!==e&&"0"!==e&&("redis"===e||"database"===e?{type:e,options:Se.a.getEnvVariable("TYPEORM_CACHE_OPTIONS")?JSON.parse(Se.a.getEnvVariable("TYPEORM_CACHE_OPTIONS")):void 0,alwaysEnabled:Se.a.getEnvVariable("TYPEORM_CACHE_ALWAYS_ENABLED"),duration:parseInt(Se.a.getEnvVariable("TYPEORM_CACHE_DURATION"))}:void 0)},e.prototype.stringToArray=function(e){return e?e.split(",").map((function(e){return e.trim()})):[]},e}(),At=function(){function e(){}return e.prototype.read=function(e){var t=Se.a.load("js-yaml").safeLoad(Se.a.readFileSync(e));return Object.keys(t).map((function(e){return Object.assign({name:e},t[e])}))},e}(),St=function(){function e(){}return e.prototype.read=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.readXml(e)];case 1:return[2,t.sent().connection.map((function(e){return{name:e.$.name,type:e.$.type,url:e.url?e.url[0]:void 0,host:e.host?e.host[0]:void 0,port:e.port&&e.port[0]?parseInt(e.port[0]):void 0,username:e.username?e.username[0]:void 0,password:e.password?e.password[0]:void 0,database:e.database?e.database[0]:void 0,sid:e.sid?e.sid[0]:void 0,extra:e.extra?e.extra[0]:void 0,synchronize:e.synchronize?e.synchronize[0]:void 0,entities:e.entities?e.entities[0].entity:[],subscribers:e.subscribers?e.subscribers[0].entity:[],logging:e.logging[0]?e.logging[0].split(","):void 0}}))]}}))}))},e.prototype.readXml=function(e){var t=Se.a.load("xml2js").parseString,n={trim:!0,explicitRoot:!1};return new Promise((function(r,i){t(Se.a.readFileSync(e),n,(function(e,t){return e?i(e):r(t)}))}))},e}(),Nt=function(){function e(e){this.options=e}return e.prototype.all=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){switch(t.label){case 0:return[4,this.load()];case 1:if(!(e=t.sent()))throw new Error("No connection options were found in any of configurations file.");return[2,e]}}))}))},e.prototype.get=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.all()];case 1:if(t=r.sent(),!(n=t.find((function(t){return t.name===e||"default"===e&&!t.name}))))throw new Error("Cannot find connection "+e+" because its not defined in any orm configuration files.");return[2,n]}}))}))},e.prototype.has=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return[4,this.load()];case 1:return(t=n.sent())?[2,!!t.find((function(t){return t.name===e||"default"===e&&!t.name}))]:[2,!1]}}))}))},e.prototype.load=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return e=void 0,t=["env","js","ts","json","yml","yaml","xml"],n=this.baseFilePath.substr(this.baseFilePath.lastIndexOf(".")),i=t.find((function(e){return"."+e===n})),"env"===(a=i||t.find((function(e){return Se.a.fileExist(s.baseFilePath+"."+e)})))?Se.a.load("dotenv").config({path:this.baseFilePath}):Se.a.fileExist(".env")&&Se.a.load("dotenv").config({path:".env"}),o=i?this.baseFilePath:this.baseFilePath+"."+a,Se.a.getEnvVariable("TYPEORM_CONNECTION")||Se.a.getEnvVariable("TYPEORM_URL")?(e=(new _t).read(),[3,10]):[3,1];case 1:return"js"!==a?[3,3]:[4,Se.a.load(o)];case 2:return e=r.sent(),[3,10];case 3:return"ts"!==a?[3,5]:[4,Se.a.load(o)];case 4:return e=r.sent(),[3,10];case 5:return"json"!==a?[3,6]:(e=Se.a.load(o),[3,10]);case 6:return"yml"!==a?[3,7]:(e=(new At).read(o),[3,10]);case 7:return"yaml"!==a?[3,8]:(e=(new At).read(o),[3,10]);case 8:return"xml"!==a?[3,10]:[4,(new St).read(o)];case 9:e=r.sent(),r.label=10;case 10:return e?[2,this.normalizeConnectionOptions(e)]:[2,void 0]}}))}))},e.prototype.normalizeConnectionOptions=function(e){var t=this;return Array.isArray(e)||(e=[e]),e.forEach((function(n){if(n.entities){var r=n.entities.map((function(e){return"string"==typeof e&&"/"!==e.substr(0,1)?t.baseDirectory+"/"+e:e}));Object.assign(e,{entities:r})}if(n.subscribers){var i=n.subscribers.map((function(e){return"string"==typeof e&&"/"!==e.substr(0,1)?t.baseDirectory+"/"+e:e}));Object.assign(e,{subscribers:i})}if(n.migrations){var a=n.migrations.map((function(e){return"string"==typeof e&&"/"!==e.substr(0,1)?t.baseDirectory+"/"+e:e}));Object.assign(e,{migrations:a})}"sqlite"===n.type&&"string"==typeof n.database&&"/"!==n.database.substr(0,1)&&":\\"!==n.database.substr(1,2)&&":memory:"!==n.database&&Object.assign(n,{database:t.baseDirectory+"/"+n.database})})),e},Object.defineProperty(e.prototype,"baseFilePath",{get:function(){return this.baseDirectory+"/"+this.baseConfigName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseDirectory",{get:function(){return this.options&&this.options.root?this.options.root:Se.a.load("app-root-path").path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseConfigName",{get:function(){return this.options&&this.options.configName?this.options.configName:"ormconfig"},enumerable:!0,configurable:!0}),e}(),kt=function(e){function t(n,r){var i=e.call(this)||this;return i.name="ColumnTypeUndefinedError",Object.setPrototypeOf(i,t.prototype),i.message="Column type for "+n.constructor.name+"#"+r+' is not defined and cannot be guessed. Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.',i}return r.d(t,e),t}(Error);function jt(e,t){return function(n,r){var i;"string"==typeof e||e instanceof Function?i=e:e&&(t=e,i=e.type),t||(t={});var a=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",n,r):void 0;if(!i&&a&&(i=a),!t.type&&i&&(t.type=i),"hstore"!==t.type||t.hstoreType||(t.hstoreType=a===Object?"object":"string"),e instanceof Function)zt().embeddeds.push({target:n.constructor,propertyName:r,isArray:a===Array||!0===t.array,prefix:void 0!==t.prefix?t.prefix:void 0,type:e});else{if(!t.type)throw new kt(n,r);!0===t.unique&&zt().uniques.push({target:n.constructor,columns:[r]}),zt().columns.push({target:n.constructor,propertyName:r,mode:"regular",options:t}),t.generated&&zt().generations.push({target:n.constructor,propertyName:r,strategy:"string"==typeof t.generated?t.generated:"increment"})}}}function xt(e){return function(t,n){zt().columns.push({target:t.constructor,propertyName:n,mode:"createDate",options:e||{}})}}function Mt(e,t){var n,r={};return e?("string"==typeof e&&(n=e),e instanceof Object&&(n="increment",Object.assign(r,e))):n="increment",t instanceof Object&&Object.assign(r,t),function(e,t){r.type||("increment"===n?r.type=Number:"uuid"===n?r.type="uuid":"rowid"===n&&(r.type="int")),r.primary=!0,zt().columns.push({target:e.constructor,propertyName:t,mode:"regular",options:r}),zt().generations.push({target:e.constructor,propertyName:t,strategy:n})}}function Rt(e){return function(t,n){zt().columns.push({target:t.constructor,propertyName:n,mode:"updateDate",options:e||{}})}}function Dt(e){return function(t,n){zt().columns.push({target:t.constructor,propertyName:n,mode:"version",options:e||{}})}}function Pt(e){return function(t,n){e=e||{},zt().joinTables.push({target:t.constructor,propertyName:n,name:e.name,joinColumns:e&&e.joinColumn?[e.joinColumn]:e.joinColumns,inverseJoinColumns:e&&e.inverseJoinColumn?[e.inverseJoinColumn]:e.inverseJoinColumns,schema:e&&e.schema?e.schema:void 0,database:e&&e.database?e.database:void 0})}}function It(e,t,n){var r;return"object"==typeof t?n=t:r=t,function(t,i){n||(n={});var a=!0===n.lazy;if(!a&&Reflect&&Reflect.getMetadata){var o=Reflect.getMetadata("design:type",t,i);o&&"string"==typeof o.name&&"promise"===o.name.toLowerCase()&&(a=!0)}zt().relations.push({target:t.constructor,propertyName:i,relationType:"many-to-many",isLazy:a,type:e,inverseSideProperty:r,options:n})}}function Lt(e,t,n){var r;return"object"==typeof t?n=t:r=t,function(t,i){n||(n={});var a=!(!n||!0!==n.lazy);if(!a&&Reflect&&Reflect.getMetadata){var o=Reflect.getMetadata("design:type",t,i);o&&"string"==typeof o.name&&"promise"===o.name.toLowerCase()&&(a=!0)}zt().relations.push({target:t.constructor,propertyName:i,relationType:"many-to-one",isLazy:a,type:e,inverseSideProperty:r,options:n})}}function Ft(e,t,n){return function(r,i){n||(n={});var a=!(!n||!0!==n.lazy);if(!a&&Reflect&&Reflect.getMetadata){var o=Reflect.getMetadata("design:type",r,i);o&&"string"==typeof o.name&&"promise"===o.name.toLowerCase()&&(a=!0)}zt().relations.push({target:r.constructor,propertyName:i,isLazy:a,relationType:"one-to-many",type:e,inverseSideProperty:t,options:n})}}function qt(e,t){var n=("object"==typeof e?e:t)||{},r="string"==typeof e?e:n.name;return function(e){zt().tables.push({target:e,name:r,type:"regular",orderBy:n.orderBy?n.orderBy:void 0,engine:n.engine?n.engine:void 0,database:n.database?n.database:void 0,schema:n.schema?n.schema:void 0,synchronize:n.synchronize,withoutRowid:n.withoutRowid})}}function Bt(){return function(e,t){var n=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",e,t):void 0,r=n&&"string"==typeof n.name&&"promise"===n.name.toLowerCase()||!1;zt().relations.push({isTreeParent:!0,target:e.constructor,propertyName:t,isLazy:r,relationType:"many-to-one",type:function(){return e.constructor},options:{}})}}function Ut(e){return function(t,n){e||(e={});var r=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,n):void 0,i=r&&"string"==typeof r.name&&"promise"===r.name.toLowerCase()||!1;zt().relations.push({isTreeChildren:!0,target:t.constructor,propertyName:n,isLazy:i,relationType:"one-to-many",type:function(){return t.constructor},options:e})}}function Vt(e){return function(t){zt().trees.push({target:t,type:e})}}function Ht(e,t){var n="string"==typeof e?e:void 0,r="string"==typeof e?t:e;return function(e,t){var i={target:t?e.constructor:e,name:n,columns:t?[t]:r};zt().uniques.push(i)}}function zt(){var e=Se.a.getGlobalVariable();return e.typeormMetadataArgsStorage||(e.typeormMetadataArgsStorage=new ot),e.typeormMetadataArgsStorage}function Qt(e){return void 0===e&&(e="default"),r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){return[2,(new Nt).get(e)]}))}))}function Wt(){return Ve(Tt)}function Kt(e){return r.b(this,void 0,void 0,(function(){var t,n,i;return r.e(this,(function(r){switch(r.label){case 0:return t="string"==typeof e?e:"default",e instanceof Object?(i=e,[3,3]):[3,1];case 1:return[4,Qt(t)];case 2:i=r.sent(),r.label=3;case 3:return n=i,[2,Wt().create(n).connect()]}}))}))}function Gt(e){return void 0===e&&(e="default"),Wt().get(e)}He=Error,r.d((function e(t,n){var r=He.call(this)||this;return r.name="PrimaryColumnCannotBeNullableError",Object.setPrototypeOf(r,e.prototype),r.message="Primary column "+t.constructor.name+"#"+n+" cannot be nullable. Its not allowed for primary keys. Try to remove nullable option.",r}),He),function(){function e(){}e.AFTER_LOAD="after-load",e.BEFORE_INSERT="before-insert",e.AFTER_INSERT="after-insert",e.BEFORE_UPDATE="before-update",e.AFTER_UPDATE="after-update",e.BEFORE_REMOVE="before-remove",e.AFTER_REMOVE="after-remove"}(),function(e){r.d((function t(n,r){var i=e.call(this)||this;return i.name="CannotReflectMethodParameterTypeError",Object.setPrototypeOf(i,t.prototype),i.message='Cannot get reflected type for a "'+r+'" method\'s parameter of "'+n.name+'" class. Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application.',i}),e)}(Error),n("0rEu"),n("qV5A"),function(){function e(){}e.prototype.hasId=function(){return this.constructor.getRepository().hasId(this)},e.prototype.save=function(e){return this.constructor.getRepository().save(this,e)},e.prototype.remove=function(e){return this.constructor.getRepository().remove(this,e)},e.prototype.reload=function(){return r.b(this,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){switch(n.label){case 0:return[4,(e=this.constructor).getRepository().findOneOrFail(e.getId(this))];case 1:return t=n.sent(),de.a.assign(this,t),[2]}}))}))},e.useConnection=function(e){this.usedConnection=e},e.getRepository=function(){return(this.usedConnection||Gt()).getRepository(this)},Object.defineProperty(e,"target",{get:function(){return this.getRepository().target},enumerable:!0,configurable:!0}),e.hasId=function(e){return this.getRepository().hasId(e)},e.getId=function(e){return this.getRepository().getId(e)},e.createQueryBuilder=function(e){return this.getRepository().createQueryBuilder(e)},e.create=function(e){return this.getRepository().create(e)},e.merge=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return(t=this.getRepository()).merge.apply(t,r.i([e],n))},e.preload=function(e){return this.getRepository().preload(e)},e.save=function(e,t){return this.getRepository().save(e,t)},e.remove=function(e,t){return this.getRepository().remove(e,t)},e.insert=function(e,t){return this.getRepository().insert(e,t)},e.update=function(e,t,n){return this.getRepository().update(e,t,n)},e.delete=function(e,t){return this.getRepository().delete(e,t)},e.count=function(e){return this.getRepository().count(e)},e.find=function(e){return this.getRepository().find(e)},e.findAndCount=function(e){return this.getRepository().findAndCount(e)},e.findByIds=function(e,t){return this.getRepository().findByIds(e,t)},e.findOne=function(e,t){return this.getRepository().findOne(e,t)},e.findOneOrFail=function(e,t){return this.getRepository().findOneOrFail(e,t)},e.query=function(e,t){return this.getRepository().query(e,t)},e.clear=function(){return this.getRepository().clear()}}(),n("ACIq"),n("70di"),n("XJG8"),n("jEQi"),n("QADp"),n("/0jE"),n("DC8z"),n("pqsR"),n("oRLA"),n("SL5l"),n("6EFp"),n("5gjd"),n("qB/C"),n("3C3V"),n("XSth")},D57K:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"k",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function p(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r}},DC8z:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("D57K"),i=n("PFrq"),a=function(){function e(e){i.a.assign(this,e||{})}return Object.defineProperty(e.prototype,"target",{get:function(){return this.metadata.target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasMetadata",{get:function(){return!!this._metadata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){if(!this._metadata)throw new Error('Cannot get entity metadata for the given alias "'+this.name+'"');return this._metadata},set:function(e){this._metadata=e},enumerable:!0,configurable:!0}),e}(),o=n("PVwi"),s=n("oxA/"),u=n("q+tU"),c=function(){function e(e){this.connection=e,this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={}}return Object.defineProperty(e.prototype,"allOrderBys",{get:function(){var e=this;if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&-1===this.options.indexOf("disable-global-order")){var t=this.mainAlias.metadata.orderBy||{};return Object.keys(t).reduce((function(n,r){return n[e.mainAlias.name+"."+r]=t[r],n}),{})}return this.orderBys},enumerable:!0,configurable:!0}),e.prototype.setMainAlias=function(e){return this.mainAlias=e,e},e.prototype.createAlias=function(e){var t=e.name;!t&&e.tablePath&&(t=e.tablePath),!t&&e.target instanceof Function&&(t=e.target.name),t||"string"!=typeof e.target||(t=e.target);var n=new a;return n.type=e.type,t&&(n.name=t),e.metadata&&(n.metadata=e.metadata),e.target&&!n.hasMetadata&&(n.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(n.tablePath=e.tablePath),e.subQuery&&(n.subQuery=e.subQuery),this.aliases.push(n),n},e.prototype.findAliasByName=function(e){var t=this.aliases.find((function(t){return t.name===e}));if(!t)throw new Error('"'+e+'" alias was not found. Maybe you forgot to join it?');return t},e.prototype.findColumnByAliasExpression=function(e){var t=r.g(e.split("."),2),n=t[1];return this.findAliasByName(t[0]).metadata.findColumnWithPropertyName(n)},Object.defineProperty(e.prototype,"relationMetadata",{get:function(){if(!this.mainAlias)throw new Error("Entity to work with is not specified!");var e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new Error("Relation "+this.relationPropertyPath+" was not found in entity "+this.mainAlias.name);return e},enumerable:!0,configurable:!0}),e.prototype.clone=function(){var t=this,n=new e(this.connection);return n.queryType=this.queryType,n.selects=this.selects.map((function(e){return e})),n.selectDistinct=this.selectDistinct,n.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach((function(e){return n.aliases.push(new a(e))})),n.mainAlias=this.mainAlias,n.valuesSet=this.valuesSet,n.returning=this.returning,n.onConflict=this.onConflict,n.onIgnore=this.onIgnore,n.onUpdate=this.onUpdate,n.joinAttributes=this.joinAttributes.map((function(e){return new o.a(t.connection,t,e)})),n.relationIdAttributes=this.relationIdAttributes.map((function(e){return new s.a(t,e)})),n.relationCountAttributes=this.relationCountAttributes.map((function(e){return new u.a(t,e)})),n.wheres=this.wheres.map((function(e){return r.a({},e)})),n.havings=this.havings.map((function(e){return r.a({},e)})),n.orderBys=Object.assign({},this.orderBys),n.groupBys=this.groupBys.map((function(e){return e})),n.limit=this.limit,n.offset=this.offset,n.skip=this.skip,n.take=this.take,n.lockMode=this.lockMode,n.lockVersion=this.lockVersion,n.withDeleted=this.withDeleted,n.parameters=Object.assign({},this.parameters),n.disableEscaping=this.disableEscaping,n.enableRelationIdValues=this.enableRelationIdValues,n.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,n.subQuery=this.subQuery,n.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,n.cache=this.cache,n.cacheId=this.cacheId,n.cacheDuration=this.cacheDuration,n.relationPropertyPath=this.relationPropertyPath,n.of=this.of,n.insertColumns=this.insertColumns,n.whereEntities=this.whereEntities,n.updateEntity=this.updateEntity,n.callListeners=this.callListeners,n.useTransaction=this.useTransaction,n.nativeParameters=Object.assign({},this.nativeParameters),n},e}(),l=n("5gjd"),h=n("BIia"),f=n("gFhw"),d=n("ecGF"),p=n("Chh4"),m=n("0rEu"),y=n("qV5A"),v=function(){function e(t,n){t instanceof e?(this.connection=t.connection,this.queryRunner=t.queryRunner,this.expressionMap=t.expressionMap.clone()):(this.connection=t,this.queryRunner=n,this.expressionMap=new c(this.connection))}return Object.defineProperty(e.prototype,"alias",{get:function(){if(!this.expressionMap.mainAlias)throw new Error("Main alias is not set");return this.expressionMap.mainAlias.name},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map((function(e){return{selection:e}})):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);var r=n("h33d").SelectQueryBuilder;return this instanceof r?this:new r(this)},e.prototype.insert=function(){this.expressionMap.queryType="insert";var e=n("oRLA").InsertQueryBuilder;return this instanceof e?this:new e(this)},e.prototype.update=function(e,t){var r=t||e;if((e=e instanceof p.d?e.options.name:e)instanceof Function||"string"==typeof e){var i=this.createFromAlias(e);this.expressionMap.setMainAlias(i)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=r;var a=n("SL5l").UpdateQueryBuilder;return this instanceof a?this:new a(this)},e.prototype.delete=function(){this.expressionMap.queryType="delete";var e=n("pqsR").DeleteQueryBuilder;return this instanceof e?this:new e(this)},e.prototype.softDelete=function(){this.expressionMap.queryType="soft-delete";var e=n("6F97").SoftDeleteQueryBuilder;return this instanceof e?this:new e(this)},e.prototype.restore=function(){this.expressionMap.queryType="restore";var e=n("6F97").SoftDeleteQueryBuilder;return this instanceof e?this:new e(this)},e.prototype.relation=function(e,t){var r=2===arguments.length?e:void 0,i=2===arguments.length?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=i,r){var a=this.createFromAlias(r);this.expressionMap.setMainAlias(a)}var o=n("6EFp").RelationQueryBuilder;return this instanceof o?this:new o(this)},e.prototype.hasRelation=function(e,t){var n=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every((function(e){return!!n.findRelationWithPropertyPath(e)}))},e.prototype.setParameter=function(e,t){return this.expressionMap.parameters[e]=t,this},e.prototype.setParameters=function(e){var t=this;return Object.keys(e).forEach((function(t){if(e[t]instanceof Function)throw new Error("Function parameter isn't supported in the parameters. Please check \""+t+'" parameter.')})),this.expressionMap.parentQueryBuilder&&this.expressionMap.parentQueryBuilder.setParameters(e),Object.keys(e).forEach((function(n){return t.setParameter(n,e[n])})),this},e.prototype.setNativeParameters=function(e){var t=this;return this.expressionMap.parentQueryBuilder&&this.expressionMap.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach((function(n){t.expressionMap.nativeParameters[n]=e[n]})),this},e.prototype.getParameters=function(){var e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){var t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){var n=t.childEntityMetadatas.filter((function(e){return e.discriminatorColumn})).map((function(e){return e.discriminatorValue}));n.push(t.discriminatorValue),e.discriminatorColumnValues=n}}return e},e.prototype.printSql=function(){var e=r.g(this.getQueryAndParameters(),2);return this.connection.logger.logQuery(e[0],e[1]),this},e.prototype.getSql=function(){return this.getQueryAndParameters()[0]},e.prototype.getQueryAndParameters=function(){var e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)},e.prototype.execute=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i;return r.e(this,(function(a){switch(a.label){case 0:e=r.g(this.getQueryAndParameters(),2),t=e[0],n=e[1],i=this.obtainQueryRunner(),a.label=1;case 1:return a.trys.push([1,,3,8]),[4,i.query(t,n)];case 2:return[2,a.sent()];case 3:return i===this.queryRunner?[3,5]:[4,i.release()];case 4:a.sent(),a.label=5;case 5:return this.connection.driver instanceof f.a?[4,this.connection.driver.autoSave()]:[3,7];case 6:a.sent(),a.label=7;case 7:return[7];case 8:return[2]}}))}))},e.prototype.createQueryBuilder=function(){return new this.constructor(this.connection,this.queryRunner)},e.prototype.clone=function(){return new this.constructor(this)},e.prototype.disableEscaping=function(){return this.expressionMap.disableEscaping=!1,this},e.prototype.escape=function(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e},e.prototype.setQueryRunner=function(e){return this.queryRunner=e,this},e.prototype.callListeners=function(e){return this.expressionMap.callListeners=e,this},e.prototype.useTransaction=function(e){return this.expressionMap.useTransaction=e,this},e.prototype.getTableName=function(e){var t=this;return e.split(".").map((function(e){return""===e?e:t.escape(e)})).join(".")},e.prototype.getMainTableName=function(){if(!this.expressionMap.mainAlias)throw new Error('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath},e.prototype.createFromAlias=function(e,t){if(this.connection.hasMetadata(e)){var n=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:n.tablePath})}var r="";if(e instanceof Function){var i=e(this.subQuery());this.setParameters(i.getParameters()),r=i.getQuery()}else r=e;var a=e instanceof Function||"("===e.substr(0,1)&&")"===e.substr(-1);return this.expressionMap.createAlias({type:"from",name:t,tablePath:!1===a?e:void 0,subQuery:!0===a?r:void 0})},e.prototype.replacePropertyNames=function(e){var t=this;return this.expressionMap.aliases.forEach((function(n){if(n.hasMetadata){var i=t.expressionMap.aliasNamePrefixingEnabled?n.name+"\\.":"",a=t.expressionMap.aliasNamePrefixingEnabled?t.escape(n.name)+".":"";n.metadata.columns.forEach((function(n){e=(e=e.replace(new RegExp("([ =(]|^.{0})"+i+n.propertyPath+"([ =),]|.{0}$)","gm"),"$1"+a+t.escape(n.databaseName)+"$2")).replace(new RegExp("([ =(]|^.{0})"+i+n.propertyName+"([ =),]|.{0}$)","gm"),"$1"+a+t.escape(n.databaseName)+"$2")})),n.metadata.relations.forEach((function(n){r.i(n.joinColumns,n.inverseJoinColumns).forEach((function(r){e=e.replace(new RegExp("([ =(]|^.{0})"+i+n.propertyPath+"\\."+r.referencedColumn.propertyPath+"([ =),]|.{0}$)","gm"),"$1"+a+t.escape(r.databaseName)+"$2")})),n.joinColumns.length>0&&(e=e.replace(new RegExp("([ =(]|^.{0})"+i+n.propertyPath+"([ =),]|.{0}$)","gm"),"$1"+a+t.escape(n.joinColumns[0].databaseName)+"$2"))}))}})),e},e.prototype.createWhereExpression=function(){var e=this.createWhereExpressionString();if(this.expressionMap.mainAlias.hasMetadata){var t=this.expressionMap.mainAlias.metadata;if("select"===this.expressionMap.queryType&&!this.expressionMap.withDeleted&&t.deleteDateColumn){var n=this.replacePropertyNames(this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+t.deleteDateColumn.propertyName:t.deleteDateColumn.propertyName)+" IS NULL";e=(e.length?"("+e+") AND":"")+" "+n}if(t.discriminatorColumn&&t.parentEntityMetadata)return n=this.replacePropertyNames(this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+t.discriminatorColumn.databaseName:t.discriminatorColumn.databaseName)+" IN (:...discriminatorColumnValues)"," WHERE "+(e.length?"("+e+") AND":"")+" "+n}return e.length?this.expressionMap.extraAppendedAndWhereCondition?" WHERE ("+e+") AND "+this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition):" WHERE "+e:this.expressionMap.extraAppendedAndWhereCondition?" WHERE "+this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition):""},e.prototype.createReturningExpression=function(){var e=this,t=this.getReturningColumns(),n=this.connection.driver;if("string"!=typeof this.expressionMap.returning&&this.expressionMap.extraReturningColumns.length>0&&n.isReturningSqlSupported()&&t.push.apply(t,r.i(this.expressionMap.extraReturningColumns.filter((function(e){return-1===t.indexOf(e)})))),t.length){var i=t.map((function(t){var r=e.escape(t.databaseName);return n instanceof d.i?"insert"===e.expressionMap.queryType||"update"===e.expressionMap.queryType||"soft-delete"===e.expressionMap.queryType||"restore"===e.expressionMap.queryType?"INSERTED."+r:e.escape(e.getMainTableName())+"."+r:r})).join(", ");return n instanceof d.f&&(i+=" INTO "+t.map((function(t){var r="output_"+t.databaseName;return e.expressionMap.nativeParameters[r]={type:n.columnTypeToNativeParameter(t.type),dir:n.oracle.BIND_OUT},e.connection.driver.createParameter(r,Object.keys(e.expressionMap.nativeParameters).length)})).join(", ")),n instanceof d.i&&("insert"!==this.expressionMap.queryType&&"update"!==this.expressionMap.queryType||(i+=" INTO @OutputTable")),i}return"string"==typeof this.expressionMap.returning?this.expressionMap.returning:""},e.prototype.getReturningColumns=function(){var e=this,t=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach((function(n){e.expressionMap.mainAlias.hasMetadata&&t.push.apply(t,r.i(e.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(n)))})),t},e.prototype.createWhereExpressionString=function(){var e=this;return this.expressionMap.wheres.map((function(t,n){switch(t.type){case"and":return(n>0?"AND ":"")+e.replacePropertyNames(t.condition);case"or":return(n>0?"OR ":"")+e.replacePropertyNames(t.condition);default:return e.replacePropertyNames(t.condition)}})).join(" ")},e.prototype.createWhereIdsExpression=function(e){var t,n=this,r=this.expressionMap.mainAlias.metadata,i=(Array.isArray(e)?e:[e]).map((function(e){return r.ensureEntityIdMap(e)}));if(!r.hasMultiplePrimaryKeys&&0===r.embeddeds.length){var a=r.primaryColumns[0];if(!a.transformer)return this.computeWhereParameter(((t={})[a.propertyName]=Object(y.a)(i.map((function(e){return a.getEntityValue(e,!1)}))),t))}var o=this.expressionMap.aliasNamePrefixingEnabled?this.escape(this.expressionMap.mainAlias.name)+".":"",s=Object.keys(this.expressionMap.nativeParameters).length,u=i.map((function(e,t){var i=[];return r.primaryColumns.forEach((function(r,a){var u="id_"+t+"_"+a;i.push(o+n.escape(r.databaseName)+" = "+n.connection.driver.createParameter(u,s)),n.expressionMap.nativeParameters[u]=r.getEntityValue(e,!0),s++})),i.join(" AND ")}));return u.length>1?"("+u.map((function(e){return"("+e+")"})).join(" OR ")+")":u[0]},e.prototype.computeWhereParameter=function(e){var t=this;if("string"==typeof e)return e;if(e instanceof l.a){var n=this.createQueryBuilder();e.whereFactory(n);var r=n.createWhereExpressionString();return this.setParameters(n.getParameters()),r?"("+r+")":""}if(e instanceof Function)return e(this);if(e instanceof Object){var i=e instanceof Array?e:[e],a=void 0,o=Object.keys(this.expressionMap.nativeParameters).length;return(a=i.map(this.expressionMap.mainAlias.hasMetadata?function(e,n){return h.a.createPropertyPath(t.expressionMap.mainAlias.metadata,e).map((function(r,i){return t.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(r).map((function(a,s){var u=t.expressionMap.aliasNamePrefixingEnabled?t.alias+"."+r:a.propertyPath,c=a.getEntityValue(e,!0),l="where_"+n+"_"+i+"_"+s,h=Object.keys(t.expressionMap.nativeParameters).filter((function(e){return e.startsWith(l)})).length;if(null===c)return u+" IS NULL";if(c instanceof m.a){var f=[];return c.useParameter&&(c.multipleParameters?c.value:[c.value]).forEach((function(e,n){t.expressionMap.nativeParameters[l+(h+n)]=e,o++,f.push(t.connection.driver.createParameter(l+(h+n),o-1))})),c.toSql(t.connection,u,f)}return t.expressionMap.nativeParameters[l]=c,o++,u+" = "+t.connection.driver.createParameter(l,o-1)})).filter((function(e){return!!e})).join(" AND ")})).filter((function(e){return!!e})).join(" AND ")}:function(e,n){return Object.keys(e).map((function(r,i){var a=e[r],o=t.expressionMap.aliasNamePrefixingEnabled?t.alias+"."+r:r;if(null===a)return o+" IS NULL";var s="where_"+n+"_"+i;return t.expressionMap.nativeParameters[s]=a,i++,o+" = "+t.connection.driver.createParameter(s,i-1)})).join(" AND ")})).length>1?a.map((function(e){return"("+e+")"})).join(" OR "):a.join("")}return""},e.prototype.obtainQueryRunner=function(){return this.queryRunner||this.connection.createQueryRunner("master")},e}()},"DG/E":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("bI4O"),i=n("jg4I"),a=n("uWoz"),o=n("JRSL"),s=n("3OGo"),u=n("Qvxn"),c=n("sTvq"),l=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;Object(r.a)(this,e),this.SchedulerAction=t,this.now=n}return Object(i.a)(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),h=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.now;return Object(r.a)(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==Object(a.a)(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return Object(i.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):Object(o.a)(Object(s.a)(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(l)},E0Rv:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){this.query=e,this.parameters=t}},EKKg:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("D57K"),i=n("E0Rv"),a=function(){this.upQueries=[],this.downQueries=[]},o=n("OfrW"),s=function(){function e(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new a}return e.prototype.getTable=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return t=this,[4,this.loadTables([e])];case 1:return t.loadedTables=n.sent(),[2,this.loadedTables.length>0?this.loadedTables[0]:void 0]}}))}))},e.prototype.getTables=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return t=this,[4,this.loadTables(e)];case 1:return t.loadedTables=n.sent(),[2,this.loadedTables]}}))}))},e.prototype.getView=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return t=this,[4,this.loadViews([e])];case 1:return t.loadedViews=n.sent(),[2,this.loadedViews.length>0?this.loadedViews[0]:void 0]}}))}))},e.prototype.getViews=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return t=this,[4,this.loadViews(e)];case 1:return t.loadedViews=n.sent(),[2,this.loadedViews]}}))}))},e.prototype.enableSqlMemory=function(){this.sqlInMemory=new a,this.sqlMemoryMode=!0},e.prototype.disableSqlMemory=function(){this.sqlInMemory=new a,this.sqlMemoryMode=!1},e.prototype.clearSqlMemory=function(){this.sqlInMemory=new a},e.prototype.getMemorySql=function(){return this.sqlInMemory},e.prototype.executeMemoryUpSql=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,o.a.runInSequence(this.sqlInMemory.upQueries,(function(t){return e.query(t.query,t.parameters)}))];case 1:return t.sent(),[2]}}))}))},e.prototype.executeMemoryDownSql=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,o.a.runInSequence(this.sqlInMemory.downQueries.reverse(),(function(t){return e.query(t.query,t.parameters)}))];case 1:return t.sent(),[2]}}))}))},e.prototype.getCachedView=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:return(t=this.loadedViews.find((function(t){return t.name===e})))?[2,t]:[4,this.loadViews([e])];case 1:if((n=r.sent()).length>0)return this.loadedViews.push(n[0]),[2,n[0]];throw new Error('View "'+e+'" does not exist.')}}))}))},e.prototype.getCachedTable=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:return(t=this.loadedTables.find((function(t){return t.name===e})))?[2,t]:[4,this.loadTables([e])];case 1:if((n=r.sent()).length>0)return this.loadedTables.push(n[0]),[2,n[0]];throw new Error('Table "'+e+'" does not exist.')}}))}))},e.prototype.replaceCachedTable=function(e,t){var n=this.loadedTables.find((function(t){return t.name===e.name}));n&&(n.name=t.name,n.columns=t.columns,n.indices=t.indices,n.foreignKeys=t.foreignKeys,n.uniques=t.uniques,n.checks=t.checks,n.justCreated=t.justCreated,n.engine=t.engine)},e.prototype.getTypeormMetadataTableName=function(){var e=this.connection.driver.options;return this.connection.driver.buildTableName("typeorm_metadata",e.schema,e.database)},e.prototype.isColumnChanged=function(e,t,n,r){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||n&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||r&&e.comment!==t.comment||e.enum!==t.enum},e.prototype.isDefaultColumnLength=function(e,t,n){if(this.connection.hasMetadata(e.name)){var r=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(r&&r.length)return!1}return!!(this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length)&&this.connection.driver.dataTypeDefaults[t.type].length.toString()===n.toString()},e.prototype.isDefaultColumnWidth=function(e,t,n){if(this.connection.hasMetadata(e.name)){var r=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(r&&r.width)return!1}return!!(this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].width)&&this.connection.driver.dataTypeDefaults[t.type].width===n},e.prototype.isDefaultColumnPrecision=function(e,t,n){if(this.connection.hasMetadata(e.name)){var r=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(r&&null!=r.precision)return!1}return!(!this.connection.driver.dataTypeDefaults||!this.connection.driver.dataTypeDefaults[t.type]||null==this.connection.driver.dataTypeDefaults[t.type].precision)&&this.connection.driver.dataTypeDefaults[t.type].precision===n},e.prototype.isDefaultColumnScale=function(e,t,n){if(this.connection.hasMetadata(e.name)){var r=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(r&&null!=r.scale)return!1}return!(!this.connection.driver.dataTypeDefaults||!this.connection.driver.dataTypeDefaults[t.type]||null==this.connection.driver.dataTypeDefaults[t.type].scale)&&this.connection.driver.dataTypeDefaults[t.type].scale===n},e.prototype.executeQueries=function(e,t){return r.b(this,void 0,void 0,(function(){var n,a,s=this;return r.e(this,(function(u){switch(u.label){case 0:return e instanceof i.a&&(e=[e]),t instanceof i.a&&(t=[t]),(n=this.sqlInMemory.upQueries).push.apply(n,r.i(e)),(a=this.sqlInMemory.downQueries).push.apply(a,r.i(t)),!0===this.sqlMemoryMode?[2,Promise.resolve()]:[4,o.a.runInSequence(e,(function(e){return s.query(e.query,e.parameters)}))];case 1:return u.sent(),[2]}}))}))},e}()},EM62:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ka})),n.d(t,"b",(function(){return hc})),n.d(t,"c",(function(){return oc})),n.d(t,"d",(function(){return ic})),n.d(t,"e",(function(){return ac})),n.d(t,"f",(function(){return rl})),n.d(t,"g",(function(){return Kc})),n.d(t,"h",(function(){return Na})),n.d(t,"i",(function(){return Oc})),n.d(t,"j",(function(){return _s})),n.d(t,"k",(function(){return pc})),n.d(t,"l",(function(){return As})),n.d(t,"m",(function(){return Vn})),n.d(t,"n",(function(){return Iu})),n.d(t,"o",(function(){return fe})),n.d(t,"p",(function(){return k})),n.d(t,"q",(function(){return he})),n.d(t,"r",(function(){return Wa})),n.d(t,"s",(function(){return Qs})),n.d(t,"t",(function(){return Ws})),n.d(t,"u",(function(){return dc})),n.d(t,"v",(function(){return Se})),n.d(t,"w",(function(){return Jc})),n.d(t,"x",(function(){return Ae})),n.d(t,"y",(function(){return Bc})),n.d(t,"z",(function(){return _c})),n.d(t,"A",(function(){return j})),n.d(t,"B",(function(){return lc})),n.d(t,"C",(function(){return cc})),n.d(t,"D",(function(){return js})),n.d(t,"E",(function(){return Ns})),n.d(t,"F",(function(){return ks})),n.d(t,"G",(function(){return Ms})),n.d(t,"H",(function(){return kr})),n.d(t,"I",(function(){return M})),n.d(t,"J",(function(){return Xc})),n.d(t,"K",(function(){return Ys})),n.d(t,"L",(function(){return Rc})),n.d(t,"M",(function(){return ja})),n.d(t,"N",(function(){return Rs})),n.d(t,"O",(function(){return Xs})),n.d(t,"P",(function(){return Ie})),n.d(t,"Q",(function(){return Vc})),n.d(t,"R",(function(){return or})),n.d(t,"S",(function(){return J})),n.d(t,"T",(function(){return we})),n.d(t,"U",(function(){return ar})),n.d(t,"V",(function(){return tl})),n.d(t,"W",(function(){return Pc})),n.d(t,"X",(function(){return fc})),n.d(t,"Y",(function(){return xa})),n.d(t,"Z",(function(){return pu})),n.d(t,"ab",(function(){return Sr})),n.d(t,"bb",(function(){return lr})),n.d(t,"cb",(function(){return Yn})),n.d(t,"db",(function(){return Xn})),n.d(t,"eb",(function(){return nr})),n.d(t,"fb",(function(){return er})),n.d(t,"gb",(function(){return $n})),n.d(t,"hb",(function(){return tr})),n.d(t,"ib",(function(){return lu})),n.d(t,"jb",(function(){return el})),n.d(t,"kb",(function(){return hu})),n.d(t,"lb",(function(){return fu})),n.d(t,"mb",(function(){return Zn})),n.d(t,"nb",(function(){return re})),n.d(t,"ob",(function(){return Xa})),n.d(t,"pb",(function(){return Oo})),n.d(t,"qb",(function(){return wo})),n.d(t,"rb",(function(){return cu})),n.d(t,"sb",(function(){return st})),n.d(t,"tb",(function(){return W})),n.d(t,"ub",(function(){return Jn})),n.d(t,"vb",(function(){return is})),n.d(t,"wb",(function(){return ls})),n.d(t,"xb",(function(){return ws})),n.d(t,"yb",(function(){return Xr})),n.d(t,"zb",(function(){return ao})),n.d(t,"Ab",(function(){return Uo})),n.d(t,"Bb",(function(){return Bo})),n.d(t,"Cb",(function(){return Zu})),n.d(t,"Db",(function(){return Be})),n.d(t,"Eb",(function(){return Ge})),n.d(t,"Fb",(function(){return I})),n.d(t,"Gb",(function(){return L})),n.d(t,"Hb",(function(){return Qe})),n.d(t,"Ib",(function(){return Je})),n.d(t,"Jb",(function(){return uo})),n.d(t,"Kb",(function(){return yo})),n.d(t,"Lb",(function(){return bo})),n.d(t,"Mb",(function(){return go})),n.d(t,"Nb",(function(){return vo})),n.d(t,"Ob",(function(){return mo})),n.d(t,"Pb",(function(){return po})),n.d(t,"Qb",(function(){return Eo})),n.d(t,"Rb",(function(){return Fn})),n.d(t,"Sb",(function(){return ns})),n.d(t,"Tb",(function(){return Ee})),n.d(t,"Ub",(function(){return co})),n.d(t,"Vb",(function(){return rc})),n.d(t,"Wb",(function(){return lo})),n.d(t,"Xb",(function(){return Co})),n.d(t,"Yb",(function(){return Xu})),n.d(t,"Zb",(function(){return No})),n.d(t,"ac",(function(){return ju})),n.d(t,"bc",(function(){return xu})),n.d(t,"cc",(function(){return Mu})),n.d(t,"dc",(function(){return Ru})),n.d(t,"ec",(function(){return xo})),n.d(t,"fc",(function(){return jo})),n.d(t,"gc",(function(){return ho})),n.d(t,"hc",(function(){return bu})),n.d(t,"ic",(function(){return Eu})),n.d(t,"jc",(function(){return wu})),n.d(t,"kc",(function(){return Ou})),n.d(t,"lc",(function(){return Cu})),n.d(t,"mc",(function(){return Tu})),n.d(t,"nc",(function(){return _u})),n.d(t,"oc",(function(){return Ku})),n.d(t,"pc",(function(){return so})),n.d(t,"qc",(function(){return St})),n.d(t,"rc",(function(){return jr})),n.d(t,"sc",(function(){return xr})),n.d(t,"tc",(function(){return Ue})),n.d(t,"uc",(function(){return We})),n.d(t,"vc",(function(){return Gu})),n.d(t,"wc",(function(){return qo})),n.d(t,"xc",(function(){return oo})),n.d(t,"yc",(function(){return nc})),n.d(t,"zc",(function(){return Xo})),n.d(t,"Ac",(function(){return $o})),n.d(t,"Bc",(function(){return es})),n.d(t,"Cc",(function(){return ts})),n.d(t,"Dc",(function(){return Ju}));var r=n("JRSL"),i=n("3OGo"),a=n("uWoz"),o=n("XlW9"),s=n("K8MB");n("gCgJ"),n("U/oB"),n("gtRQ"),n("MDuR"),n("KxrN");var u=n("mPN/"),c=n("Qvxn"),l=n("sTvq"),h=n("bI4O"),f=n("jg4I"),d=n("WUXR"),p=n("bwdy"),m=n("ZTXN"),y=n("IdLP"),v=n("g6G6"),g=n("5uGe");function b(){return function(e){return e.lift(new E(e))}}var E=function(){function e(t){Object(h.a)(this,e),this.connectable=t}return Object(f.a)(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new w(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),w=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this,e)).connectable=r,i}return Object(f.a)(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(g.a),O=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return Object(f.a)(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new p.a).add(this.source.subscribe(new T(this.getSubject(),this))),e.closed&&(this._connection=null,e=p.a.EMPTY)),e}},{key:"refCount",value:function(){return b()(this)}}]),n}(y.a),C=function(){var e=O.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),T=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this,e)).connectable=r,i}return Object(f.a)(n,[{key:"_error",value:function(e){this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(m.b);function _(){return new m.a}function A(e){return{toString:e}.toString()}var S="__parameters__";function N(e,t,n){return A((function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=Object(d.a)(i,t);return o.annotation=a,o;function o(e,t,n){for(var r=e.hasOwnProperty(S)?e[S]:Object.defineProperty(e,S,{value:[]})[S];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}))}var k=N("Inject",(function(e){return{token:e}})),j=N("Optional"),x=N("Self"),M=N("SkipSelf"),R=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function D(e){for(var t in e)if(e[t]===D)return t;throw Error("Could not find renamed property on target object.")}function P(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function L(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function F(e){return q(e,e[U])||q(e,e[z])}function q(e,t){return t&&t.token===e?t:null}function B(e){return e&&(e.hasOwnProperty(V)||e.hasOwnProperty(Q))?e[V]:null}var U=D({"\u0275prov":D}),V=D({"\u0275inj":D}),H=D({"\u0275provFallback":D}),z=D({ngInjectableDef:D}),Q=D({ngInjectorDef:D});function W(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(W).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function K(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var G=D({__forward_ref__:D});function J(e){return e.__forward_ref__=J,e.toString=function(){return W(this())},e}function Y(e){return Z(e)?e():e}function Z(e){return"function"==typeof e&&e.hasOwnProperty(G)&&e.__forward_ref__===J}var X,$="undefined"!=typeof globalThis&&globalThis,ee="undefined"!=typeof window&&window,te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ne="undefined"!=typeof global&&global,re=$||ne||ee||te,ie=D({"\u0275cmp":D}),ae=D({"\u0275dir":D}),oe=D({"\u0275pipe":D}),se=D({"\u0275mod":D}),ue=D({"\u0275loc":D}),ce=D({"\u0275fac":D}),le=D({__NG_ELEMENT_ID__:D}),he=function(){function e(t,n){Object(h.a)(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(f.a)(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),fe=new he("INJECTOR",-1),de={},pe=/\n/gm,me=D({provide:String,useValue:D}),ye=void 0;function ve(e){var t=ye;return ye=e,t}function ge(e){var t=X;return X=e,t}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Default;if(void 0===ye)throw new Error("inject() must be called from an injection context");return null===ye?Oe(e,void 0,t):ye.get(e,t&R.Optional?null:void 0,t)}function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Default;return(X||be)(Y(e),t)}var we=Ee;function Oe(e,t,n){var r=F(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&R.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(W(e),"]"))}function Ce(e){for(var t=[],n=0;n<e.length;n++){var r=Y(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=R.Default,o=0;o<r.length;o++){var s=r[o];s instanceof j||"Optional"===s.ngMetadataName||s===j?a|=R.Optional:s instanceof M||"SkipSelf"===s.ngMetadataName||s===M?a|=R.SkipSelf:s instanceof x||"Self"===s.ngMetadataName||s===x?a|=R.Self:i=s instanceof k||s===k?s.token:s}t.push(Ee(i,a))}else t.push(Ee(r))}return t}var Te=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de;if(t===de){var n=new Error("NullInjectorError: No provider for ".concat(W(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function _e(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=W(t);if(Array.isArray(t))i=t.map(W).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):W(s)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(pe,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}var Ae=function e(){Object(h.a)(this,e)},Se=function e(){Object(h.a)(this,e)};function Ne(e,t){e.forEach((function(e){return Array.isArray(e)?Ne(e,t):t(e)}))}function ke(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function je(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function xe(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function Me(e,t,n){var r=De(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Re(e,t){var n=De(e,t);if(n>=0)return e[1|n]}function De(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var a=r+(i-r>>1),o=e[a<<1];if(t===o)return a<<1;o>t?i=a:r=a+1}return~(i<<1)}(e,t)}var Pe=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Ie=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Le={},Fe=[],qe=0;function Be(e){return A((function(){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===Pe.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Fe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ie.Emulated,id:"c",styles:e.styles||Fe,_:null,setInput:null,schemas:e.schemas||null,tView:null},a=e.directives,o=e.features,s=e.pipes;return i.id+=qe++,i.inputs=Ke(e.inputs,r),i.outputs=Ke(e.outputs),o&&o.forEach((function(e){return e(i)})),i.directiveDefs=a?function(){return("function"==typeof a?a():a).map(Ve)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(He)}:null,i}))}function Ue(e,t,n){var r=e.\u0275cmp;r.directiveDefs=function(){return t.map(Ve)},r.pipeDefs=function(){return n.map(He)}}function Ve(e){return Ye(e)||function(e){return e[ae]||null}(e)}function He(e){return function(e){return e[oe]||null}(e)}var ze={};function Qe(e){var t={type:e.type,bootstrap:e.bootstrap||Fe,declarations:e.declarations||Fe,imports:e.imports||Fe,exports:e.exports||Fe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&A((function(){ze[e.id]=e.type})),t}function We(e,t){return A((function(){var n=Xe(e,!0);n.declarations=t.declarations||Fe,n.imports=t.imports||Fe,n.exports=t.exports||Fe}))}function Ke(e,t){if(null==e)return Le;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}var Ge=Be;function Je(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ye(e){return e[ie]||null}function Ze(e,t){return e.hasOwnProperty(ce)?e[ce]:null}function Xe(e,t){var n=e[se]||null;if(!n&&!0===t)throw new Error("Type ".concat(W(e)," does not have '\u0275mod' property."));return n}function $e(e){return Array.isArray(e)&&"object"==typeof e[1]}function et(e){return Array.isArray(e)&&!0===e[1]}function tt(e){return 0!=(8&e.flags)}function nt(e){return 2==(2&e.flags)}function rt(e){return 1==(1&e.flags)}function it(e){return null!==e.template}function at(e){return 0!=(512&e[2])}var ot=void 0;function st(e){ot=e}function ut(){return void 0!==ot?ot:"undefined"!=typeof document?document:void 0}function ct(e){return!!e.listen}var lt={createRenderer:function(e,t){return ut()}};function ht(e){for(;Array.isArray(e);)e=e[0];return e}function ft(e,t){return ht(t[e+20])}function dt(e,t){return ht(t[e.index])}function pt(e,t){return e.data[t+20]}function mt(e,t){return e[t+20]}function yt(e,t){var n=t[e];return $e(n)?n:n[0]}function vt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function gt(e){return 4==(4&e[2])}function bt(e){return 128==(128&e[2])}function Et(e,t){return null===e||null==t?null:e[t]}function wt(e){e[18]=0}function Ot(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Ct={lFrame:Qt(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Tt(){return Ct.bindingsEnabled}function _t(){return Ct.lFrame.lView}function At(){return Ct.lFrame.tView}function St(e){Ct.lFrame.contextLView=e}function Nt(){return Ct.lFrame.previousOrParentTNode}function kt(e,t){Ct.lFrame.previousOrParentTNode=e,Ct.lFrame.isParent=t}function jt(){return Ct.lFrame.isParent}function xt(){Ct.lFrame.isParent=!1}function Mt(){return Ct.checkNoChangesMode}function Rt(e){Ct.checkNoChangesMode=e}function Dt(){var e=Ct.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Pt(){return Ct.lFrame.bindingIndex}function It(){return Ct.lFrame.bindingIndex++}function Lt(e){var t=Ct.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ft(e,t){var n=Ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,qt(t)}function qt(e){Ct.lFrame.currentDirectiveIndex=e}function Bt(){return Ct.lFrame.currentQueryIndex}function Ut(e){Ct.lFrame.currentQueryIndex=e}function Vt(e,t){var n=zt();Ct.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function Ht(e,t){var n=zt(),r=e[1];Ct.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex}function zt(){var e=Ct.lFrame,t=null===e?null:e.child;return null===t?Qt(e):t}function Qt(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Wt(){var e=Ct.lFrame;return Ct.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Kt=Wt;function Gt(){var e=Wt();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Jt(e){return(Ct.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ct.lFrame.contextLView))[8]}function Yt(){return Ct.lFrame.selectedIndex}function Zt(e){Ct.lFrame.selectedIndex=e}function Xt(){var e=Ct.lFrame;return pt(e.tView,e.selectedIndex)}function $t(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function en(e,t,n){rn(e,t,3,n)}function tn(e,t,n,r){(3&e[2])===n&&rn(e,t,n,r)}function nn(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function rn(e,t,n,r){for(var i=null!=r?r:-1,a=0,o=void 0!==r?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(a=t[o],null!=r&&a>=r)break}else t[o]<0&&(e[18]+=65536),(a<i||-1==i)&&(an(e,n,t,o),e[18]=(4294901760&e[18])+o+2),o++}function an(e,t,n,r){var i=n[r]<0,a=n[r+1],o=e[i?-n[r]:n[r]];i?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,a.call(o)):a.call(o)}var on=function e(t,n,r){Object(h.a)(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function sn(e,t,n){for(var r=ct(e),i=0;i<n.length;){var a=n[i];if("number"==typeof a){if(0!==a)break;i++;var o=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,o):t.setAttributeNS(o,s,u)}else{var c=a,l=n[++i];cn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function un(e){return 3===e||4===e||6===e}function cn(e){return 64===e.charCodeAt(0)}function ln(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||hn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function hn(e,t,n,r,i){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function fn(e){return-1!==e}function dn(e){return 32767&e}function pn(e){return e>>16}function mn(e,t){for(var n=pn(e),r=t;n>0;)r=r[15],n--;return r}function yn(e){return"string"==typeof e?e:null==e?"":""+e}function vn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():yn(e)}var gn=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(re)}();function bn(e){return e instanceof Function?e():e}var En=!0;function wn(e){var t=En;return En=e,t}var On=0;function Cn(e,t){var n=_n(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Tn(r.data,e),Tn(t,null),Tn(r.blueprint,null));var i=An(e,t),a=e.injectorIndex;if(fn(i))for(var o=dn(i),s=mn(i,t),u=s[1].data,c=0;c<8;c++)t[a+c]=s[o+c]|u[o+c];return t[a+8]=i,a}function Tn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _n(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function An(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Sn(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[le]:n.charCodeAt(0)||0;null==r&&(r=n[le]=On++);var i=255&r,a=1<<i,o=64&i,s=32&i,u=t.data;128&i?o?s?u[e+7]|=a:u[e+6]|=a:s?u[e+5]|=a:u[e+4]|=a:o?s?u[e+3]|=a:u[e+2]|=a:s?u[e+1]|=a:u[e]|=a}(e,t,n)}function Nn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:R.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=Rn(n);if("function"==typeof a){Vt(t,e);try{var o=a();if(null!=o||r&R.Optional)return o;throw new Error("No provider for ".concat(vn(n),"!"))}finally{Kt()}}else if("number"==typeof a){if(-1===a)return new In(e,t);var s=null,u=_n(e,t),c=-1,l=r&R.Host?t[16][6]:null;for((-1===u||r&R.SkipSelf)&&(c=-1===u?An(e,t):t[u+8],Pn(r,!1)?(s=t[1],u=dn(c),t=mn(c,t)):u=-1);-1!==u;){c=t[u+8];var h=t[1];if(Dn(a,u,h.data)){var f=jn(u,t,n,s,r,l);if(f!==kn)return f}Pn(r,t[1].data[u+8]===l)&&Dn(a,u,t)?(s=h,u=dn(c),t=mn(c,t)):u=-1}}}if(r&R.Optional&&void 0===i&&(i=null),0==(r&(R.Self|R.Host))){var d=t[9],p=ge(void 0);try{return d?d.get(n,i,r&R.Optional):Oe(n,i,r&R.Optional)}finally{ge(p)}}if(r&R.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(vn(n),"]"))}var kn={};function jn(e,t,n,r,i,a){var o=t[1],s=o.data[e+8],u=xn(s,o,n,null==r?nt(s)&&En:r!=o&&3===s.type,i&R.Host&&a===s);return null!==u?Mn(t,o,u,s):kn}function xn(e,t,n,r,i){for(var a=e.providerIndexes,o=t.data,s=65535&a,u=e.directiveStart,c=a>>16,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=o[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=o[u];if(d&&it(d)&&d.type===n)return u}return null}function Mn(e,t,n,r){var i=e[n],a=t.data;if(i instanceof on){var o=i;if(o.resolving)throw new Error("Circular dep for ".concat(vn(a[n])));var s,u=wn(o.canSeeViewProviders);o.resolving=!0,o.injectImpl&&(s=ge(o.injectImpl)),Vt(e,r);try{i=e[n]=o.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,a=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{o.injectImpl&&ge(s),wn(u),o.resolving=!1,Kt()}}return i}function Rn(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[le];return"number"==typeof t&&t>0?255&t:t}function Dn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function Pn(e,t){return!(e&R.Self||e&R.Host&&t)}var In=function(){function e(t,n){Object(h.a)(this,e),this._tNode=t,this._lView=n}return Object(f.a)(e,[{key:"get",value:function(e,t){return Nn(this._tNode,this._lView,e,void 0,t)}}]),e}();function Ln(e){var t=e;if(Z(e))return function(){var e=Ln(Y(t));return e?e():null};var n=Ze(t);if(null===n){var r=B(t);n=r&&r.factory}return n||null}function Fn(e){return A((function(){for(var t=e.prototype.constructor,n=t[ce]||Ln(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[ce]||Ln(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return function(e){return new e}}))}function qn(e){return e.ngDebugContext}function Bn(e){return e.ngOriginalError}function Un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Vn=function(){function e(){Object(h.a)(this,e),this._console=console}return Object(f.a)(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Un}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?qn(e)?qn(e):this._findContext(Bn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Bn(e);t&&Bn(t);)t=Bn(t);return t}}]),e}(),Hn=function(){function e(t){Object(h.a)(this,e),this.changingThisBreaksApplicationSecurity=t}return Object(f.a)(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),zn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Hn),Qn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Hn),Wn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Hn),Kn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Hn),Gn=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Hn);function Jn(e){return e instanceof Hn?e.changingThisBreaksApplicationSecurity:e}function Yn(e,t){var n=Zn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function Zn(e){return e instanceof Hn&&e.getTypeName()||null}function Xn(e){return new zn(e)}function $n(e){return new Qn(e)}function er(e){return new Wn(e)}function tr(e){return new Kn(e)}function nr(e){return new Gn(e)}var rr=!0,ir=!1;function ar(){return ir=!0,rr}function or(){if(ir)throw new Error("Cannot enable prod mode after platform setup.");rr=!1}var sr=function(){function e(t){Object(h.a)(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return Object(f.a)(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),ur=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,cr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lr(e){return(e=String(e)).match(ur)||e.match(cr)?e:(ar()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function hr(e){var t,n={},r=Object(u.a)(e.split(","));try{for(r.s();!(t=r.n()).done;)n[t.value]=!0}catch(i){r.e(i)}finally{r.f()}return n}function fr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var dr,pr=hr("area,br,col,hr,img,wbr"),mr=hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yr=hr("rp,rt"),vr=fr(yr,mr),gr=fr(pr,fr(mr,hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fr(yr,hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vr),br=hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Er=hr("srcset"),wr=fr(br,Er,hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Or=hr("script,style,template"),Cr=function(){function e(){Object(h.a)(this,e),this.sanitizedSomething=!1,this.buf=[]}return Object(f.a)(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t,n=e.nodeName.toLowerCase();if(!gr.hasOwnProperty(n))return this.sanitizedSomething=!0,!Or.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=e.attributes,i=0;i<r.length;i++){var a=r.item(i),o=a.name,s=o.toLowerCase();if(wr.hasOwnProperty(s)){var u=a.value;br[s]&&(u=lr(u)),Er[s]&&(t=u,u=(t=String(t)).split(",").map((function(e){return lr(e.trim())})).join(", ")),this.buf.push(" ",o,'="',Ar(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();gr.hasOwnProperty(t)&&!pr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Ar(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),Tr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_r=/([^\#-~ |!])/g;function Ar(e){return e.replace(/&/g,"&amp;").replace(Tr,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(_r,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Sr(e,t){var n=null;try{dr=dr||new sr(e);var r=t?String(t):"";n=dr.getInertBodyElement(r);var i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=dr.getInertBodyElement(r)}while(r!==a);var o=new Cr,s=o.sanitizeChildren(Nr(n)||n);return ar()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=Nr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function Nr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var kr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function jr(e){var t=Mr();return t?t.sanitize(kr.HTML,e)||"":Yn(e,"HTML")?Jn(e):Sr(ut(),yn(e))}function xr(e){var t=Mr();return t?t.sanitize(kr.URL,e)||"":Yn(e,"URL")?Jn(e):lr(yn(e))}function Mr(){var e=_t();return e&&e[12]}function Rr(e,t){e.__ngContext__=t}function Dr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function Pr(){throw new Error("Cannot mix multi providers and regular providers")}function Ir(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}function Lr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Ir((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Fr(e){return 0===e.type&&"ng-template"!==e.tagName}function qr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function Br(e,t,n){for(var r=4,i=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(un(e[t]))return t;return e.length}(i),o=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!qr(e,u,n)||""===u&&1===t.length){if(Ur(r))return!1;o=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Lr(e.attrs,c,n)){if(Ur(r))return!1;o=!0}continue}var l=Vr(8&r?"class":u,i,Fr(e),n);if(-1===l){if(Ur(r))return!1;o=!0;continue}if(""!==c){var h;h=l>a?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==Ir(f,c,0)||2&r&&c!==h){if(Ur(r))return!1;o=!0}}}}else{if(!o&&!Ur(r)&&!Ur(u))return!1;if(o&&Ur(u))continue;o=!1,r=u|1&r}}return Ur(r)||o}function Ur(e){return 0==(1&e)}function Vr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var a=!1;i<t.length;){var o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Hr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Br(e,t[r],n))return!0;return!1}function zr(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Qr(e,t){return e?":not("+t.trim()+")":t}function Wr(e){for(var t=e[0],n=1,r=2,i="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&r){var s=e[++n];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Ur(o)||(t+=Qr(a,i),i=""),r=o,a=a||!Ur(r);n++}return""!==i&&(t+=Qr(a,i)),t}var Kr={};function Gr(e){var t=e[3];return et(t)?t[3]:t}function Jr(e){return Zr(e[13])}function Yr(e){return Zr(e[4])}function Zr(e){for(;null!==e&&!et(e);)e=e[4];return e}function Xr(e){$r(At(),_t(),Yt()+e,Mt())}function $r(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&en(t,i,n)}else{var a=e.preOrderHooks;null!==a&&tn(t,a,0,n)}Zt(n)}function ei(e,t){return e<<17|t<<2}function ti(e){return e>>17&32767}function ni(e){return 2|e}function ri(e){return(131068&e)>>2}function ii(e,t){return-131069&e|t<<2}function ai(e){return 1|e}function oi(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var a=e.data[i];Ut(n[r]),a.contentQueries(2,t[i],i)}}}function si(e,t,n){return ct(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function ui(e,t,n,r,i,a,o,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,wt(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=a,l[16]=2==t.type?e[16]:l,l}function ci(e,t,n,r,i,a){var o=n+20,s=e.data[o]||function(e,t,n,r,i,a){var o=Nt(),s=jt(),u=s?o:o&&o.parent,c=e.data[n]=bi(0,u&&u!==t?u:null,r,n,i,a);return null===e.firstChild&&(e.firstChild=c),o&&(!s||null!=o.child||null===c.parent&&2!==o.type?s||(o.next=c):o.child=c),c}(e,t,o,r,i,a);return kt(s,!0),s}function li(e,t,n){Ht(t,t[6]);try{var r=e.viewQuery;null!==r&&Ui(1,r,n);var i=e.template;null!==i&&di(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&oi(e,t),e.staticViewQueries&&Ui(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)Ii(e,t[n])}(t,a)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),o}finally{t[2]&=-5,Gt()}}function hi(e,t,n,r){var i=t[2];if(256!=(256&i)){Ht(t,t[6]);var a=Mt();try{wt(t),Ct.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&di(e,t,n,2,r);var o=3==(3&i);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&en(t,s,null)}else{var u=e.preOrderHooks;null!==u&&tn(t,u,0,null),nn(t,0)}if(function(e){for(var t=Jr(e);null!==t;t=Yr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&Ot(i[3],1),i[2]|=1024}}(t),function(e){for(var t=Jr(e);null!==t;t=Yr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];bt(r)&&hi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&oi(e,t),!a)if(o){var c=e.contentCheckHooks;null!==c&&en(t,c)}else{var l=e.contentHooks;null!==l&&tn(t,l,1),nn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,a=0;a<n.length;a++){var o=n[a];"number"==typeof o?o<=0?(Zt(0-o),i=r+=9+n[++a]):r+=o:(null!==o&&(Ft(r,i),o(2,t[i])),i++)}}finally{Zt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)Pi(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&Ui(2,f,r),!a)if(o){var d=e.viewCheckHooks;null!==d&&en(t,d)}else{var p=e.viewHooks;null!==p&&tn(t,p,2),nn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ot(t[3],-1))}finally{Gt()}}}function fi(e,t,n,r){var i=t[10],a=!Mt(),o=gt(t);try{a&&!o&&i.begin&&i.begin(),o&&li(e,t,r),hi(e,t,n,r)}finally{a&&!o&&i.end&&i.end()}}function di(e,t,n,r,i){var a=Yt();try{Zt(-1),2&r&&t.length>20&&$r(e,t,0,Mt()),n(r,i)}finally{Zt(a)}}function pi(e,t,n){if(tt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}function mi(e,t,n){Tt()&&(function(e,t,n,r){var i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Cn(n,t),Rr(r,t);for(var o=n.initialInputs,s=i;s<a;s++){var u=e.data[s],c=it(u);c&&xi(t,n,u);var l=Mn(t,e,s,n);Rr(l,t),null!==o&&Mi(0,s-i,l,u,0,o),c&&(yt(n.index,t)[8]=l)}}(e,t,n,dt(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,a=e.expandoInstructions,o=e.firstCreatePass,s=n.index-20,u=Ct.lFrame.currentDirectiveIndex;try{Zt(s);for(var c=r;c<i;c++){var l=e.data[c],h=t[c];qt(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?_i(l,h):o&&a.push(null)}}finally{Zt(-1),qt(u)}}(e,t,n))}function yi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt,r=t.localNames;if(null!==r)for(var i=t.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?n(t,e):e[o];e[i++]=s}}function vi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gi(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gi(e,t,n,r,i,a,o,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Kr);return n}(l,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function bi(e,t,n,r,i,a){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ei(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function wi(e,t,n,r,i,a,o,s){var u,c,l=dt(t,n),h=t.inputs;!s&&null!=h&&(u=h[r])?(Wi(e,n,u,r,i),nt(t)&&function(e,t){var n=yt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=o?o(i,t.tagName||"",r):i,ct(a)?a.setProperty(l,r,i):cn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Oi(e,t,n,r){var i=!1;if(Tt()){var a=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];Hr(n,o.selectors,!1)&&(i||(i=[]),Sn(Cn(n,t),e,o.type),it(o)?(2&n.flags&&Dr(n),Si(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==a){var s=0;i=!0,ki(n,e.data.length,a.length);for(var u=0;u<a.length;u++){var c=a[u];c.providersResolver&&c.providersResolver(c)}Ai(e,n,a.length);for(var l=!1,h=!1,f=0;f<a.length;f++){var d=a[f];n.mergedAttrs=ln(n.mergedAttrs,d.hostAttrs),ji(e,t,d),Ni(e.data.length-1,d,o),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),Ci(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,a=[],o=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Fr(t)?null:Ri(l,i);a.push(h),o=Ei(l,u,o),s=Ei(c.outputs,u,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n),Ti(e,t,s)}o&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var a=n[t[i+1]];if(null==a)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],a)}}(n,r,o)}return n.mergedAttrs=ln(n.mergedAttrs,n.attrs),i}function Ci(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Ti(e,t,n){for(var r=0;r<n;r++)t.push(Kr),e.blueprint.push(Kr),e.data.push(null)}function _i(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ai(e,t,n){var r=20-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function Si(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ni(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;it(t)&&(n[""]=e)}}function ki(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ji(e,t,n){e.data.push(n);var r=n.factory||(n.factory=Ze(n.type)),i=new on(r,it(n),null);e.blueprint.push(i),t.push(i)}function xi(e,t,n){var r=dt(t,e),i=vi(n),a=e[10],o=Li(e,ui(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n)));e[t.index]=o}function Mi(e,t,n,r,i,a){var o=a[t];if(null!==o)for(var s=r.setInput,u=0;u<o.length;){var c=o[u++],l=o[u++],h=o[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Ri(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Di(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Pi(e,t){var n=yt(t,e);if(bt(n)){var r=n[1];80&n[2]?hi(r,n,r.template,n[8]):n[5]>0&&function e(t){for(var n=Jr(t);null!==n;n=Yr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var a=i[1];hi(a,i,a.template,i[8])}else i[5]>0&&e(i)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var u=yt(o[s],t);bt(u)&&u[5]>0&&e(u)}}(n)}}function Ii(e,t){var n=yt(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),li(r,n,n[8])}function Li(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Fi(e){for(;e;){e[2]|=64;var t=Gr(e);if(at(e)&&!t)return e;e=t}return null}function qi(e,t,n){var r=t[10];r.begin&&r.begin();try{hi(e,t,e.template,n)}catch(i){throw Qi(t,i),i}finally{r.end&&r.end()}}function Bi(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=vt(n),i=r[1];fi(i,r,i.template,n)}}(e[8])}function Ui(e,t,n){Ut(0),t(e,n)}var Vi=function(){return Promise.resolve(null)}();function Hi(e){return e[7]||(e[7]=[])}function zi(e){return e.cleanup||(e.cleanup=[])}function Qi(e,t){var n=e[9],r=n?n.get(Vn,null):null;r&&r.handleError(t)}function Wi(e,t,n,r,i){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ki(e,t,n){var r=ft(t,e),i=e[11];ct(i)?i.setValue(r,n):r.textContent=n}function Gi(e,t){var n=t[3];return-1===e.index?et(n)?n:null:n}function Ji(e,t){var n=Gi(e,t);return n?ua(t[11],n[7]):null}function Yi(e,t,n,r,i){if(null!=r){var a,o=!1;et(r)?a=r:$e(r)&&(o=!0,r=r[0]);var s=ht(r);0===e&&null!==n?null==i?oa(t,n,s):aa(t,n,s,i||null):1===e&&null!==n?aa(t,n,s,i||null):2===e?function(e,t,n){var r=ua(e,t);r&&function(e,t,n,r){ct(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,r,i){var a=n[7];a!==ht(n)&&Yi(t,e,r,a,i);for(var o=10;o<n.length;o++){var s=n[o];da(s[1],s,e,t,r,a)}}(t,e,a,n,i)}}function Zi(e,t){return ct(t)?t.createText(e):t.createTextNode(e)}function Xi(e,t,n,r){var i=Ji(e.node,t);i&&da(e,t,t[11],n?1:2,i,r)}function $i(e,t){var n=e[9],r=n.indexOf(t);1024&t[2]&&Ot(t[3],-1),n.splice(r,1)}function ea(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&$i(i,r),t>0&&(e[n-1][4]=r[4]);var a=je(e,10+t);Xi(r[1],r,!1,null);var o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function ta(e,t){if(!(256&t[2])){var n=t[11];ct(n)&&n.destroyNode&&da(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return ra(e[1],e);for(;t;){var n=null;if($e(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)$e(t)&&ra(t[1],t),t=na(t,e);null===t&&(t=e),$e(t)&&ra(t[1],t),n=t&&t[4]}t=n}}(t)}}function na(e,t){var n;return $e(e)&&(n=e[6])&&2===n.type?Gi(n,e):e[3]===t?null:e[3]}function ra(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof on)){var a=n[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2)a[o+1].call(i[a[o]]);else a.call(i)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var a=n[i+1],o="function"==typeof a?a(t):ht(t[a]),s=n[i+3];"boolean"==typeof s?o.removeEventListener(n[i],r[n[i+2]],s):s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&ct(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&et(t[3])){r!==t[3]&&$i(r,t);var i=t[19];null!==i&&i.detachView(e)}}}function ia(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Ji(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return dt(t,n).parentNode;if(2&r.flags){var a=e.data,o=a[a[r.index].directiveStart].encapsulation;if(o!==Ie.ShadowDom&&o!==Ie.Native)return null}return dt(r,n)}function aa(e,t,n,r){ct(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function oa(e,t,n){ct(e)?e.appendChild(t,n):t.appendChild(n)}function sa(e,t,n,r){null!==r?aa(e,t,n,r):oa(e,t,n)}function ua(e,t){return ct(e)?e.parentNode(t):t.parentNode}function ca(e,t){if(2===e.type){var n=Gi(e,t);return null===n?null:ha(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?dt(e,t):null}function la(e,t,n,r){var i=ia(e,r,t);if(null!=i){var a=t[11],o=ca(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)sa(a,i,n[s],o);else sa(a,i,n,o)}}function ha(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return dt(n,t);if(0===r)return ha(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var a=t[n.index];return et(a)?ha(-1,a):ht(a)}var o=t[16],s=o[6],u=Gr(o),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function fa(e,t,n,r,i,a,o){for(;null!=n;){var s=r[n.index],u=n.type;o&&0===t&&(s&&Rr(ht(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(fa(e,t,n.child,r,i,a,!1),Yi(t,e,i,s,a)):1===u?ma(e,t,r,n,i,a):Yi(t,e,i,s,a)),n=o?n.projectionNext:n.next}}function da(e,t,n,r,i,a){fa(n,r,e.node.child,t,i,a,!1)}function pa(e,t,n){ma(t[11],0,t,n,ia(e,n,t),ca(n.parent||t[6],t))}function ma(e,t,n,r,i,a){var o=n[16],s=o[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Yi(t,e,i,s[u],a);else fa(e,t,s,o[3],i,a,!0)}function ya(e,t,n){ct(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function va(e,t,n){ct(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var ga,ba,Ea,wa=function(){function e(t,n){Object(h.a)(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return Object(f.a)(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}ta(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Hi(n=this._lView).push(r),t.firstCreatePass&&zi(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){Fi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){qi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Rt(!0);try{qi(e,t,n)}finally{Rt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,da(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var o=n[r.index];if(null!==o&&i.push(ht(o)),et(o))for(var u=10;u<o.length;u++){var c=o[u],l=c[1].firstChild;null!==l&&e(c[1],c,l,i)}var h=r.type;if(4===h||5===h)e(t,n,r.child,i);else if(1===h){var f=n[16],d=f[6],p=r.projection,m=d.projection[p];if(Array.isArray(m))i.push.apply(i,Object(s.a)(m));else{var y=Gr(f);e(y[1],y,m,i,!0)}}r=a?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),Oa=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this,e))._view=e,r}return Object(f.a)(n,[{key:"detectChanges",value:function(){Bi(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Rt(!0);try{Bi(e)}finally{Rt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(wa);function Ca(e,t,n){return ga||(ga=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(e)),new ga(dt(t,n))}function Ta(e,t,n,r){return ba||(ba=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i){var a;return Object(h.a)(this,n),(a=t.call(this))._declarationView=e,a._declarationTContainer=r,a.elementRef=i,a}return Object(f.a)(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=ui(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),li(t,n,e),new wa(n)}}]),n}(e)),0===n.type?new ba(r,n,Ca(t,n,r)):null}function _a(e,t,n,r){var i;Ea||(Ea=function(e){Object(c.a)(r,e);var n=Object(l.a)(r);function r(e,t,i){var a;return Object(h.a)(this,r),(a=n.call(this))._lContainer=e,a._hostTNode=t,a._hostView=i,a}return Object(f.a)(r,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var a=n||this.parentInjector;if(!i&&null==e.ngModule&&a){var o=a.get(Ae,null);o&&(i=o)}var s=e.create(a,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),et(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var a=n[3],o=new Ea(a,a[6],a[3]);o.detach(o.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],ke(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Xi(r,n,!0,ha(s,this._lContainer)),e.attachToViewContainerRef(this),ke(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=ea(e,t);n&&ta(n[1],n)}(this._lContainer,t),je(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=ea(this._lContainer,t);return n&&null!=je(this._lContainer[8],t)?new wa(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return Ca(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new In(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=An(this._hostTNode,this._hostView),t=mn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var a=pn(e),o=t,s=t[6];a>1;)s=(o=o[15])[6],a--;return s}(e,this._hostView,this._hostTNode);return fn(e)&&null!=n?new In(n,t):new In(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),r}(e));var a=r[n.index];if(et(a))i=a;else{var o;if(4===n.type)o=ht(a);else if(o=r[11].createComment(""),at(r)){var s=r[11],u=dt(n,r);aa(s,ua(s,u),o,function(e,t){return ct(e)?e.nextSibling(t):t.nextSibling}(s,u))}else la(r[1],r,o,n);r[n.index]=i=Di(a,r,o,n),Li(r,i)}return new Ea(i,n,r)}function Aa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Sa(Nt(),_t(),e)}function Sa(e,t,n){if(!n&&nt(e)){var r=yt(e.index,t);return new wa(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new wa(t[16],t):null}var Na=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return ka()},e}(),ka=Aa,ja=Function,xa=new he("Set Injector scope."),Ma={},Ra={},Da=[],Pa=void 0;function Ia(){return void 0===Pa&&(Pa=new Te),Pa}function La(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Fa(e,n,t||Ia(),r)}var Fa=function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&Ne(n,(function(e){return i.processProvider(e,t,n)})),Ne([t],(function(e){return i.processInjectorType(e,[],o)})),this.records.set(fe,Ua(void 0,this));var s=this.records.get(xa);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:W(t))}return Object(f.a)(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.Default;this.assertNotDestroyed();var r=ve(this);try{if(!(n&R.SkipSelf)){var i=this.records.get(e);if(void 0===i){var a=za(e)&&F(e);i=a&&this.injectableDefInScope(a)?Ua(qa(e),Ma):null,this.records.set(e,i)}if(null!=i)return this.hydrate(e,i)}var o=n&R.Self?Ia():this.parent;return o.get(e,t=n&R.Optional&&t===de?null:t)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(W(e)),r)throw u;return _e(u,e,"R3InjectorError",this.source)}throw u}finally{ve(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(W(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Y(e)))return!1;var i=B(e),a=null==i&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(i=B(a)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(o);try{Ne(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;Ne(i,(function(e){return r.processProvider(e,n,i||Da)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(o),this.records.set(o,Ua(i.factory,Ma));var h=i.providers;if(null!=h&&!s){var f=e;Ne(h,(function(e){return r.processProvider(e,f,h)}))}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Ha(e=Y(e))?e:Y(e&&e.provide),i=function(e,t,n){return Va(e)?Ua(void 0,e.useValue):Ua(Ba(e,t,n),Ma)}(e,t,n);if(Ha(e)||!0!==e.multi){var a=this.records.get(r);a&&void 0!==a.multi&&Pr()}else{var o=this.records.get(r);o?void 0===o.multi&&Pr():((o=Ua(void 0,Ma,!0)).factory=function(){return Ce(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===Ra?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(W(e)):t.value===Ma&&(t.value=Ra,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function qa(e){var t=F(e),n=null!==t?t.factory:Ze(e);if(null!==n)return n;var r=B(e);if(null!==r)return r.factory;if(e instanceof he)throw new Error("Token ".concat(W(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=xe(t,"?");throw new Error("Can't resolve all parameters for ".concat(W(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[U]||e[z]||e[H]&&e[H]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ba(e,t,n){var r,i=void 0;if(Ha(e)){var a=Y(e);return Ze(a)||qa(a)}if(Va(e))i=function(){return Y(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,Object(s.a)(Ce(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Ee(Y(e.useExisting))};else{var o=Y(e&&(e.useClass||e.provide));if(o||function(e,t,n){var r="";if(e&&t){var i=t.map((function(e){return e==n?"?"+n+"?":"..."}));r=" - only instances of Provider and Type are allowed, got: [".concat(i.join(", "),"]")}throw new Error("Invalid provider for the NgModule '".concat(W(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return Ze(o)||qa(o);i=function(){return Object(d.a)(o,Object(s.a)(Ce(e.deps)))}}return i}function Ua(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Va(e){return null!==e&&"object"==typeof e&&me in e}function Ha(e){return"function"==typeof e}function za(e){return"function"==typeof e||"object"==typeof e&&e instanceof he}var Qa=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=La(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Wa=function(){var e=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Qa(e,t,""):Qa(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=de,e.NULL=new Te,e.\u0275prov=I({token:e,providedIn:"any",factory:function(){return Ee(fe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Ka=new he("AnalyzeForEntryComponents");function Ga(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?i=K(i,s):2==a&&(r=K(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Ja=null;function Ya(){if(!Ja){var e=re.Symbol;if(e&&e.iterator)Ja=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ja=r)}}return Ja}var Za=function(){function e(t){Object(h.a)(this,e),this.wrapped=t}return Object(f.a)(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Xa(e){return!!$a(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ya()in e)}function $a(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function eo(e,t,n){return e[t]=n}function to(e,t){return e[t]}function no(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ro(e,t,n,r){var i=no(e,t,n);return no(e,t+1,r)||i}function io(e,t,n,r,i,a){var o=ro(e,t,n,r);return ro(e,t+2,i,a)||o}function ao(e,t,n,r){var i=_t();return no(i,It(),t)&&(At(),function(e,t,n,r,i,a){var o=dt(e,t),s=t[11];if(null==r)ct(s)?s.removeAttribute(o,n,a):o.removeAttribute(n);else{var u=null==i?yn(r):i(r,e.tagName||"",n);ct(s)?s.setAttribute(o,n,u,a):a?o.setAttributeNS(a,n,u):o.setAttribute(n,u)}}(Xt(),i,e,t,n,r)),ao}function oo(e,t,n,r,i,a,o,s){var u=_t(),c=At(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,a,o,s,u){var c=t.consts,l=ci(t,n[6],e,0,o||null,Et(c,s));Oi(t,n,l,Et(c,u)),$t(t,l);var h=l.tViews=gi(2,-1,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),f=bi(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,a,o):c.data[l];kt(h,!1);var f=u[11].createComment("");la(c,u,f,h),Rr(f,u),Li(u,u[l]=Di(f,u,f,h)),rt(h)&&mi(c,u,h),null!=o&&yi(u,h,s)}function so(e){return mt(Ct.lFrame.contextLView,e)}function uo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Default,n=_t();if(null==n)return Ee(e,t);var r=Nt();return Nn(r,n,Y(e),t)}function co(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var a=n[i];if(un(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}return null}(Nt(),e)}function lo(){throw new Error("invalid")}function ho(e,t,n){var r=_t();return no(r,It(),t)&&wi(At(),Xt(),r,e,t,r[11],n,!1),ho}function fo(e,t,n,r,i){var a=i?"class":"style";Wi(e,n,t.inputs[a],a,r)}function po(e,t,n,r){var i=_t(),a=At(),o=20+e,s=i[11],u=i[o]=si(t,s,Ct.lFrame.currentNamespace),c=a.firstCreatePass?function(e,t,n,r,i,a,o){var s=t.consts,u=Et(s,a),c=ci(t,n[6],e,3,i,u);return Oi(t,n,c,Et(s,o)),null!==c.attrs&&Ga(c,c.attrs,!1),null!==c.mergedAttrs&&Ga(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,a,i,0,t,n,r):a.data[o];kt(c,!0);var l=c.mergedAttrs;null!==l&&sn(s,u,l);var h=c.classes;null!==h&&va(s,u,h);var f=c.styles;null!==f&&ya(s,u,f),la(a,i,u,c),0===Ct.lFrame.elementDepthCount&&Rr(u,i),Ct.lFrame.elementDepthCount++,rt(c)&&(mi(a,i,c),pi(a,c,i)),null!==r&&yi(i,c)}function mo(){var e=Nt();jt()?xt():kt(e=e.parent,!1);var t=e;Ct.lFrame.elementDepthCount--;var n=At();n.firstCreatePass&&($t(n,e),tt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&fo(n,t,_t(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&fo(n,t,_t(),t.stylesWithoutHost,!1)}function yo(e,t,n,r){po(e,t,n,r),mo()}function vo(e,t,n){var r=_t(),i=At(),a=e+20,o=i.firstCreatePass?function(e,t,n,r,i){var a=t.consts,o=Et(a,r),s=ci(t,n[6],e,4,"ng-container",o);return null!==o&&Ga(s,o,!0),Oi(t,n,s,Et(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(e,i,r,t,n):i.data[a];kt(o,!0);var s=r[a]=r[11].createComment("");la(i,r,s,o),Rr(s,r),rt(o)&&(mi(i,r,o),pi(i,o,r)),null!=n&&yi(r,o)}function go(){var e=Nt(),t=At();jt()?xt():kt(e=e.parent,!1),t.firstCreatePass&&($t(t,e),tt(e)&&t.queries.elementEnd(e))}function bo(e,t,n){vo(e,t,n),go()}function Eo(){return _t()}function wo(e){return!!e&&"function"==typeof e.then}function Oo(e){return!!e&&"function"==typeof e.subscribe}function Co(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=_t(),a=At(),o=Nt();return _o(a,i,i[11],o,e,t,n,r),Co}function To(e,t,n,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===n&&i[a+1]===r){var s=t[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}function _o(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=rt(r),c=e.firstCreatePass,l=c&&(e.cleanup||(e.cleanup=[])),h=Hi(t),f=!0;if(3===r.type){var d=dt(r,t),p=s?s(d):Le,m=p.target||d,y=h.length,v=s?function(e){return s(ht(e[r.index])).target}:r.index;if(ct(n)){var g=null;if(!s&&u&&(g=To(e,t,i,r.index)),null!==g){var b=g.__ngLastListenerFn__||g;b.__ngNextListenerFn__=a,g.__ngLastListenerFn__=a,f=!1}else{a=So(r,t,a,!1);var E=n.listen(p.name||m,i,a);h.push(a,E),l&&l.push(i,v,y,y+1)}}else a=So(r,t,a,!0),m.addEventListener(i,a,o),h.push(a),l&&l.push(i,v,y,o)}var w,O=r.outputs;if(f&&null!==O&&(w=O[i])){var C=w.length;if(C)for(var T=0;T<C;T+=2){var _=w[T],A=w[T+1],S=t[_],N=S[A],k=N.subscribe(a),j=h.length;h.push(a,k),l&&l.push(i,r.index,j,-(j+1))}}}function Ao(e,t,n){try{return!1!==t(n)}catch(r){return Qi(e,r),!1}}function So(e,t,n,r){return function i(a){if(a===Function)return n;var o=2&e.flags?yt(e.index,t):t;0==(32&t[2])&&Fi(o);for(var s=Ao(t,n,a),u=i.__ngNextListenerFn__;u;)s=Ao(t,u,a)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function No(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Jt(e)}function ko(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var a=t[i];if("*"!==a){if(null===r?Hr(e,a,!0):zr(r,a))return i}else n=i}return n}function jo(e){var t=_t()[16][6];if(!t.projection)for(var n=t.projection=xe(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var a=e?ko(i,e):0;null!==a&&(r[a]?r[a].projectionNext=i:n[a]=i,r[a]=i),i=i.next}}function xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=_t(),i=At(),a=ci(i,r[6],e,1,null,n||null);null===a.projection&&(a.projection=t),xt(),pa(i,r,a)}var Mo=[];function Ro(e,t,n,r,i){for(var a=e[n+1],o=null===t,s=r?ti(a):ri(a),u=!1;0!==s&&(!1===u||o);){var c=e[s+1];Do(e[s],t)&&(u=!0,e[s+1]=r?ai(c):ni(c)),s=r?ti(c):ri(c)}u&&(e[n+1]=r?ni(a):ai(a))}function Do(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&De(e,t)>=0}var Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Io(e){return e.substring(Po.key,Po.keyEnd)}function Lo(e,t){var n=Po.textEnd;return n===t?-1:(t=Po.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Po.key=t,n),Fo(e,t,n))}function Fo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function qo(e,t,n){return Ho(e,t,n,!1),qo}function Bo(e,t){return Ho(e,t,null,!0),Bo}function Uo(e){!function(e,t,n,r){var i=At(),a=Lt(2);i.firstUpdatePass&&Qo(i,null,a,!0);var o=_t();if(n!==Kr&&no(o,a,n)){var s=i.data[Yt()+20];if(Zo(s,!0)&&!zo(i,a)){var u=s.classesWithoutHost;null!==u&&(n=K(u,n||"")),fo(i,s,o,n,!0)}else!function(e,t,n,r,i,a,o,s){i===Kr&&(i=Mo);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<a.length?a[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<a.length?a[c+1]:void 0,p=null,m=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,m=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,m=d),null!==p&&Go(e,t,n,r,p,m,!0,s),l=u<i.length?i[u]:null,h=c<a.length?a[c]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function(e,t,n){if(null==n||""===n)return Mo;var r=[],i=Jn(n);if(Array.isArray(i))for(var a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,a)}}(Me,Vo,e)}function Vo(e,t){for(var n=function(e){return function(e){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=e.length}(e),Lo(e,Fo(e,0,Po.textEnd))}(t);n>=0;n=Lo(t,n))Me(e,Io(t),!0)}function Ho(e,t,n,r){var i=_t(),a=At(),o=Lt(2);a.firstUpdatePass&&Qo(a,e,o,r),t!==Kr&&no(i,o,t)&&Go(a,a.data[Yt()+20],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=W(Jn(e)))),e}(t,n),r,o)}function zo(e,t){return t>=e.expandoStartIndex}function Qo(e,t,n,r){var i=e.data;if(null===i[n+1]){var a=i[Yt()+20],o=zo(e,n);Zo(a,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ko(n=Wo(null,e,t,n,r),t.attrs,r),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Wo(i,e,t,n,r),null===a){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==ri(r))return e[ti(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[ti(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ko(s=Wo(null,e,t,s[1],r),t.attrs,r))}else a=function(e,t,n){for(var r=void 0,i=t.directiveEnd,a=1+t.directiveStylingLast;a<i;a++)r=Ko(r,e[a].hostAttrs,n);return Ko(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function(e,t,n,r,i,a){var o=a?t.classBindings:t.styleBindings,s=ti(o),u=ri(o);e[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||De(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var h=ti(e[s+1]);e[r+1]=ei(h,s),0!==h&&(e[h+1]=ii(e[h+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=ei(s,0),0!==s&&(e[s+1]=ii(e[s+1],r)),s=r;else e[r+1]=ei(u,0),0===s?s=r:e[u+1]=ii(e[u+1],r),u=r;l&&(e[r+1]=ni(e[r+1])),Ro(e,c,r,!0),Ro(e,c,r,!1),function(e,t,n,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&De(a,t)>=0&&(n[r+1]=ai(n[r+1]))}(t,c,e,r,a),o=ei(s,u),a?t.classBindings=o:t.styleBindings=o}(i,a,t,n,o,r)}}function Wo(e,t,n,r,i){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(r=Ko(r,(a=t[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ko(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Me(e,o,!!n||t[++a]))}return void 0===e?null:e}function Go(e,t,n,r,i,a,o,s){if(3===t.type){var u=e.data,c=u[s+1];Yo(1==(1&c)?Jo(u,t,n,i,ri(c),o):void 0)||(Yo(a)||function(e){return 2==(2&e)}(c)&&(a=Jo(u,null,n,i,s,o)),function(e,t,n,r,i){var a=ct(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{var o=-1==r.indexOf("-")?void 0:2;null==i?a?e.removeStyle(n,r,o):n.style.removeProperty(r):a?e.setStyle(n,r,i,o):n.style.setProperty(r,i)}}(r,o,ft(Yt(),n),i,a))}}function Jo(e,t,n,r,i,a){for(var o=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Kr&&(f=h?Mo:void 0);var d=h?Re(f,r):l===r?f:void 0;if(c&&!Yo(d)&&(d=Re(u,r)),Yo(d)&&(s=d,o))return s;var p=e[i+1];i=o?ti(p):ri(p)}if(null!==t){var m=a?t.residualClasses:t.residualStyles;null!=m&&(s=Re(m,r))}return s}function Yo(e){return void 0!==e}function Zo(e,t){return 0!=(e.flags&(t?16:32))}function Xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=_t(),r=At(),i=e+20,a=r.firstCreatePass?ci(r,n[6],e,3,null,null):r.data[i],o=n[i]=Zi(t,n[11]);la(r,n,o,a),kt(a,!1)}function $o(e){return es("",e,""),$o}function es(e,t,n){var r=_t(),i=function(e,t,n,r){return no(e,It(),n)?t+yn(n)+r:Kr}(r,e,t,n);return i!==Kr&&Ki(r,Yt(),i),es}function ts(e,t,n,r,i){var a=_t(),o=function(e,t,n,r,i,a){var o=ro(e,Pt(),n,i);return Lt(2),o?t+yn(n)+r+yn(i)+a:Kr}(a,e,t,n,r,i);return o!==Kr&&Ki(a,Yt(),o),ts}function ns(e,t,n){var r=_t();return no(r,It(),t)&&wi(At(),Xt(),r,e,t,r[11],n,!0),ns}function rs(e,t){var n=vt(e)[1],r=n.data.length-1;$t(n,{directiveStart:r,directiveEnd:r+1})}function is(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(it(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var a=e;a.inputs=as(e.inputs),a.declaredInputs=as(e.declaredInputs),a.outputs=as(e.outputs);var o=i.hostBindings;o&&us(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&os(e,s),u&&ss(e,u),P(e.inputs,i.inputs),P(e.declaredInputs,i.declaredInputs),P(e.outputs,i.outputs),it(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}a.afterContentChecked=a.afterContentChecked||i.afterContentChecked,a.afterContentInit=e.afterContentInit||i.afterContentInit,a.afterViewChecked=e.afterViewChecked||i.afterViewChecked,a.afterViewInit=e.afterViewInit||i.afterViewInit,a.doCheck=e.doCheck||i.doCheck,a.onDestroy=e.onDestroy||i.onDestroy,a.onInit=e.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(e),f===is&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ln(i.hostAttrs,n=ln(n,i.hostAttrs))}}(r)}function as(e){return e===Le?{}:e===Fe?[]:e}function os(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ss(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function us(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var cs=function(){function e(t,n,r){Object(h.a)(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return Object(f.a)(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ls(e){e.type.prototype.ngOnChanges&&(e.setInput=hs,e.onChanges=function(){var e=fs(this),t=e&&e.current;if(t){var n=e.previous;if(n===Le)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function hs(e,t,n,r){var i=fs(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Le,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[n],u=o[s];a[s]=new cs(u&&u.currentValue,t,o===Le),e[r]=t}function fs(e){return e.__ngSimpleChanges__||null}function ds(e,t,n){var r=At();if(r.firstCreatePass){var i=it(e);ps(n,r.data,r.blueprint,i,!0),ps(t,r.data,r.blueprint,i,!1)}}function ps(e,t,n,r,i){if(e=Y(e),Array.isArray(e))for(var a=0;a<e.length;a++)ps(e[a],t,n,r,i);else{var o=At(),s=_t(),u=Ha(e)?e:Y(e.provide),c=Ba(e),l=Nt(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(Ha(e)||!e.multi){var p=new on(c,i,uo),m=vs(u,t,i?h:h+d,f);-1===m?(Sn(Cn(l,s),o,u),ms(o,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var y=vs(u,t,h+d,f),v=vs(u,t,h,h+d),g=v>=0&&n[v];if(i&&!g||!i&&!(y>=0&&n[y])){Sn(Cn(l,s),o,u);var b=function(e,t,n,r,i){var a=new on(e,n,uo);return a.multi=[],a.index=t,a.componentProviders=0,ys(a,i,r&&!n),a}(i?bs:gs,n.length,i,r,c);!i&&g&&(n[v].providerFactory=b),ms(o,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(b),s.push(b)}else ms(o,e,y>-1?y:v,ys(n[i?v:y],c,!i&&r));!i&&r&&g&&n[v].componentProviders++}}}function ms(e,t,n,r){var i=Ha(t);if(i||t.useClass){var a=(t.useClass||t).prototype.ngOnDestroy;if(a){var o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=o.indexOf(n);-1===s?o.push(n,[r,a]):o[s+1].push(r,a)}else o.push(n,a)}}}function ys(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function vs(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function gs(e,t,n,r){return Es(this.multi,[])}function bs(e,t,n,r){var i,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Mn(n,n[1],this.providerFactory.index,r);Es(a,i=s.slice(0,o));for(var u=o;u<s.length;u++)i.push(s[u])}else Es(a,i=[]);return i}function Es(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ws(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return ds(n,r?r(e):e,t)}}}ls.ngInherit=!0;var Os=function e(){Object(h.a)(this,e)},Cs=function e(){Object(h.a)(this,e)},Ts=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(W(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),_s=function(){var e=function e(){Object(h.a)(this,e)};return e.NULL=new Ts,e}(),As=function(){var e=function e(t){Object(h.a)(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Ss(e)},e}(),Ss=function(e){return Ca(e,Nt(),_t())},Ns=function e(){Object(h.a)(this,e)},ks=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),js=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return xs()},e}(),xs=function(){var e=_t(),t=yt(Nt().index,e);return function(e){var t=e[11];if(ct(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}($e(t)?t:e)},Ms=function(){var e=function e(){Object(h.a)(this,e)};return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return null}}),e}(),Rs=function e(t){Object(h.a)(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},Ds=new Rs("10.0.0"),Ps=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"supports",value:function(e){return Xa(e)}},{key:"create",value:function(e){return new Ls(e)}}]),e}(),Is=function(e,t){return t},Ls=function(){function e(t){Object(h.a)(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Is}return Object(f.a)(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var a=!n||t&&t.currentIndex<Us(n,r,i)?t:n,o=Us(a,r,i),s=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{i||(i=[]);var u=o-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[a.previousIndex]=c-u}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Xa(e))throw new Error("Error trying to diff '".concat(W(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==a&&Object.is(a.trackById,i)?(o&&(a=this._verifyReinsertion(a,r,i,s)),Object.is(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,i,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ya()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,i)?(o&&(a=t._verifyReinsertion(a,e,i,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,i,n),o=!0),a=a._next,n++})),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new Fs(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Bs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Fs=function e(t,n){Object(h.a)(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},qs=function(){function e(){Object(h.a)(this,e),this._head=null,this._tail=null}return Object(f.a)(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Bs=function(){function e(){Object(h.a)(this,e),this.map=new Map}return Object(f.a)(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new qs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Us(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Vs=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"supports",value:function(e){return e instanceof Map||$a(e)}},{key:"create",value:function(){return new Hs}}]),e}(),Hs=function(){function e(){Object(h.a)(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(f.a)(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||$a(e)))throw new Error("Error trying to diff '".concat(W(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var a=new zs(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),zs=function e(t){Object(h.a)(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Qs=function(){var e=function(){function e(t){Object(h.a)(this,e),this.factories=t}return Object(f.a)(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new M,new j]]}}}]),e}();return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return new e([new Ps])}}),e}(),Ws=function(){var e=function(){function e(t){Object(h.a)(this,e),this.factories=t}return Object(f.a)(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new M,new j]]}}}]),e}();return e.\u0275prov=I({token:e,providedIn:"root",factory:function(){return new e([new Vs])}}),e}(),Ks=[new Vs],Gs=new Qs([new Ps]),Js=new Ws(Ks),Ys=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return Zs(e,As)},e}(),Zs=function(e,t){return Ta(e,t,Nt(),_t())},Xs=function(){var e=function e(){Object(h.a)(this,e)};return e.__NG_ELEMENT_ID__=function(){return $s(e,As)},e}(),$s=function(e,t){return _a(e,t,Nt(),_t())},eu={},tu=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this)).ngModule=e,r}return Object(f.a)(n,[{key:"resolveComponentFactory",value:function(e){var t=Ye(e);return new iu(t,this.ngModule)}}]),n}(_s);function nu(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var ru=new he("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return gn}}),iu=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Wr).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return Object(f.a)(n,[{key:"create",value:function(e,t,n,r){var i,a,o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var a=e.get(n,eu,i);return a!==eu||r===eu?a:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(Ns,lt),u=o.get(Ms,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(ct(e))return e.selectRootElement(t,n===Ie.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):si(l,s.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:gn,clean:Vi,playerHandler:null,flags:0},m=gi(0,-1,null,1,0,null,null,null,null,null),y=ui(null,m,p,f,null,null,s,c,u,o);Ht(y,null);try{var v=function(e,t,n,r,i,a){var o=n[1];n[20]=e;var s=ci(o,null,0,3,null,null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Ga(s,u,!0),null!==e&&(sn(i,e,u),null!==s.classes&&va(i,e,s.classes),null!==s.styles&&ya(i,e,s.styles)));var c=r.createRenderer(e,t),l=ui(n,vi(t),null,t.onPush?64:16,n[20],s,r,c,void 0);return o.firstCreatePass&&(Sn(Cn(s,n),o,t.type),Si(o,s),ki(s,n.length,1)),Li(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)sn(c,h,["ng-version",Ds.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!Ur(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),b=g.attrs,E=g.classes;b&&sn(c,h,b),E&&E.length>0&&va(c,h,E.join(" "))}if(a=pt(m,0),void 0!==t)for(var w=a.projection=[],O=0;O<this.ngContentSelectors.length;O++){var C=t[O];w.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var a=n[1],o=function(e,t,n){var r=Nt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ai(e,r,1),ji(e,t,n));var i=Mn(t,e,t.length-1,r);Rr(i,t);var a=dt(r,t);return a&&Rr(a,t),i}(a,n,t);r.components.push(o),e[8]=o,i&&i.forEach((function(e){return e(o,t)})),t.contentQueries&&t.contentQueries(1,o,n.length-1);var s=Nt();if(a.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Zt(s.index-20);var u=n[1];Ci(u,t),Ti(u,n,t.hostVars),_i(t,o)}return o}(v,this.componentDef,y,p,[rs]),li(m,y,null)}finally{Gt()}var T=new au(this.componentType,i,Ca(As,a,y),y,a);return n&&!d||(m.node.child=a),T}},{key:"inputs",get:function(){return nu(this.componentDef.inputs)}},{key:"outputs",get:function(){return nu(this.componentDef.outputs)}}]),n}(Cs),au=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r,i,a,o){var s,u,c,l;return Object(h.a)(this,n),(s=t.call(this)).location=i,s._rootLView=a,s._tNode=o,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new Oa(a),c=a,null==(l=(u=a[1]).node)&&(u.node=l=bi(0,null,2,-1,null,null)),c[6]=l,s.componentType=e,s}return Object(f.a)(n,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new In(this._tNode,this._rootLView)}}]),n}(Os),ou=void 0,su=["en",[["a","p"],["AM","PM"],ou],[["AM","PM"],ou,ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ou,"{1} 'at' {0}",ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],uu={};function cu(e,t,n){"string"!=typeof t&&(n=t,t=e[pu.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),uu[t]=e,n&&(uu[t][pu.ExtraData]=n)}function lu(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=du(t);if(n)return n;var r=t.split("-")[0];if(n=du(r))return n;if("en"===r)return su;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function hu(e){return lu(e)[pu.CurrencyCode]||null}function fu(e){return lu(e)[pu.PluralCase]}function du(e){return e in uu||(uu[e]=re.ng&&re.ng.common&&re.ng.common.locales&&re.ng.common.locales[e]),uu[e]}var pu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});function mu(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(n,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var yu=new Map,vu=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e,r){var i;Object(h.a)(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=Object(a.a)(i),i.destroyCbs=[],i.componentFactoryResolver=new tu(Object(a.a)(i));var o=Xe(e),s=e[ue]||null;return s&&mu(s),i._bootstrapComponents=bn(o.bootstrap),i._r3Injector=La(e,r,[{provide:Ae,useValue:Object(a.a)(i)},{provide:_s,useValue:i.componentFactoryResolver}],W(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return Object(f.a)(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wa.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.Default;return e===Wa||e===Ae||e===fe?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(Ae),gu=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this)).moduleType=e,null!==Xe(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(W(t)," vs ").concat(W(t.name)))})(n,yu.get(n),t),yu.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),r}return Object(f.a)(n,[{key:"create",value:function(e){return new vu(this.moduleType,e)}}]),n}(Se);function bu(e,t,n){var r=Dt()+e,i=_t();return i[r]===Kr?eo(i,r,n?t.call(n):t()):to(i,r)}function Eu(e,t,n,r){return Su(_t(),Dt(),e,t,n,r)}function wu(e,t,n,r,i){return Nu(_t(),Dt(),e,t,n,r,i)}function Ou(e,t,n,r,i,a){return ku(_t(),Dt(),e,t,n,r,i,a)}function Cu(e,t,n,r,i,a,o){return function(e,t,n,r,i,a,o,s,u){var c=t+n;return io(e,c,i,a,o,s)?eo(e,c+4,u?r.call(u,i,a,o,s):r(i,a,o,s)):Au(e,c+4)}(_t(),Dt(),e,t,n,r,i,a,o)}function Tu(e,t,n,r,i,a,o,s,u){var c=Dt()+e,l=_t(),h=io(l,c,n,r,i,a);return ro(l,c+4,o,s)||h?eo(l,c+6,u?t.call(u,n,r,i,a,o,s):t(n,r,i,a,o,s)):to(l,c+6)}function _u(e,t,n,r){return function(e,t,n,r,i,a){for(var o=t+n,s=!1,u=0;u<i.length;u++)no(e,o++,i[u])&&(s=!0);return s?eo(e,o,r.apply(a,i)):Au(e,o)}(_t(),Dt(),e,t,n,r)}function Au(e,t){var n=e[t];return n===Kr?void 0:n}function Su(e,t,n,r,i,a){var o=t+n;return no(e,o,i)?eo(e,o+1,a?r.call(a,i):r(i)):Au(e,o+1)}function Nu(e,t,n,r,i,a,o){var s=t+n;return ro(e,s,i,a)?eo(e,s+2,o?r.call(o,i,a):r(i,a)):Au(e,s+2)}function ku(e,t,n,r,i,a,o,s){var u=t+n;return function(e,t,n,r,i){var a=ro(e,t,n,r);return no(e,t+2,i)||a}(e,u,i,a,o)?eo(e,u+3,s?r.call(s,i,a,o):r(i,a,o)):Au(e,u+3)}function ju(e,t){var n,r=At(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var a=n.factory||(n.factory=Ze(n.type)),o=ge(uo),s=wn(!1),u=a();return wn(s),ge(o),function(e,t,n,r){var i=n+20;i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=r}(r,_t(),e,u),u}function xu(e,t,n){var r=_t(),i=mt(r,e);return Pu(r,Du(r,e)?Su(r,Dt(),t,i.transform,n,i):i.transform(n))}function Mu(e,t,n,r){var i=_t(),a=mt(i,e);return Pu(i,Du(i,e)?Nu(i,Dt(),t,a.transform,n,r,a):a.transform(n,r))}function Ru(e,t,n,r,i){var a=_t(),o=mt(a,e);return Pu(a,Du(a,e)?ku(a,Dt(),t,o.transform,n,r,i,o):o.transform(n,r,i))}function Du(e,t){return e[1].data[t+20].pure}function Pu(e,t){return Za.isWrapped(t)&&(t=Za.unwrap(t),e[Pt()]=Kr),t}var Iu=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.a)(this,n),(e=t.call(this)).__isAsync=r,e}return Object(f.a)(n,[{key:"emit",value:function(e){Object(r.a)(Object(i.a)(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,a){var o,s=function(e){return null},u=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(u=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(s=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),a&&(u=this.__isAsync?function(){setTimeout((function(){return a()}))}:function(){a()}));var c=Object(r.a)(Object(i.a)(n.prototype),"subscribe",this).call(this,o,s,u);return e instanceof p.a&&e.add(c),c}}]),n}(m.a);function Lu(){return this._results[Ya()]()}var Fu=function(){function e(){Object(h.a)(this,e),this.dirty=!0,this._results=[],this.changes=new Iu,this.length=0;var t=Ya(),n=e.prototype;n[t]||(n[t]=Lu)}return Object(f.a)(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),qu=function(){function e(t){Object(h.a)(this,e),this.queryList=t,this.matches=null}return Object(f.a)(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Bu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.queries=t}return Object(f.a)(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],a=0;a<r;a++){var o=n.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==tc(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Uu=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(h.a)(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Vu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(h.a)(this,e),this.queries=t}return Object(f.a)(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Hu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(h.a)(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(f.a)(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,zu(t,n[r]));else{var i=this.metadata.predicate;i===Ys?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,xn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===As||r===Xs||r===Ys&&0===t.type)this.addMatch(t.index,-2);else{var i=xn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function zu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Qu(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?Ca(As,e,t):0===e.type?Ta(Ys,As,e,t):null}(t,e):-2===n?function(e,t,n){return n===As?Ca(As,t,e):n===Ys?Ta(Ys,As,t,e):n===Xs?_a(Xs,As,t,e):void 0}(e,t,r):Mn(e,e[1],n,t)}function Wu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var a=e.data,o=n.matches,s=[],u=0;u<o.length;u+=2){var c=o[u];s.push(c<0?null:Qu(t,a[c],o[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ku(e){var t=_t(),n=At(),r=Bt();Ut(r+1);var i=tc(n,r);if(e.dirty&&gt(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var a=i.crossesNgTemplate?function e(t,n,r,i){var a=t.queries.getByIndex(r),o=a.matches;if(null!==o)for(var s=Wu(t,n,a,r),u=0;u<o.length;u+=2){var c=o[u];if(c>0)i.push(s[u/2]);else{for(var l=o[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],m=0;m<p.length;m++){var y=p[m];e(y[1],y,l,i)}}}return i}(n,t,r,[]):Wu(n,t,i,r);e.reset(a),e.notifyOnChanges()}return!0}return!1}function Gu(e,t,n){Yu(At(),_t(),e,t,n,!0)}function Ju(e,t,n){Yu(At(),_t(),e,t,n,!1)}function Yu(e,t,n,r,i,a){e.firstCreatePass&&(ec(e,new Uu(n,r,a,i),-1),a&&(e.staticViewQueries=!0)),$u(e,t)}function Zu(e,t,n,r){!function(e,t,n,r,i,a,o,s){e.firstCreatePass&&(ec(e,new Uu(n,r,!1,i),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s)),$u(e,t)}(At(),_t(),t,n,r,0,Nt(),e)}function Xu(){return e=_t(),t=Bt(),e[19].queries[t].queryList;var e,t}function $u(e,t){var n=new Fu;!function(e,t,n,r){var i=Hi(t);i.push(n),e.firstCreatePass&&zi(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Bu),t[19].queries.push(new qu(n))}function ec(e,t,n){null===e.queries&&(e.queries=new Vu),e.queries.track(new Hu(t,n))}function tc(e,t){return e.queries.getByIndex(t)}function nc(e,t){return Ta(Ys,As,e,t)}function rc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R.Default,t=Aa(!0);if(null!=t||e&R.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}var ic=new he("Application Initializer"),ac=function(){var e=function(){function e(t){var n=this;Object(h.a)(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return Object(f.a)(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();wo(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee(ic,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),oc=new he("AppId"),sc={provide:oc,useFactory:function(){return"".concat(uc()).concat(uc()).concat(uc())},deps:[]};function uc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var cc=new he("Platform Initializer"),lc=new he("Platform ID"),hc=new he("appBootstrapListener"),fc=function(){var e=function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),dc=new he("LocaleId"),pc=new he("DefaultCurrencyCode"),mc=function e(t,n){Object(h.a)(this,e),this.ngModuleFactory=t,this.componentFactories=n},yc=function(e){return new gu(e)},vc=yc,gc=function(e){return Promise.resolve(yc(e))},bc=function(e){var t=yc(e),n=bn(Xe(e).declarations).reduce((function(e,t){var n=Ye(t);return n&&e.push(new iu(n)),e}),[]);return new mc(t,n)},Ec=bc,wc=function(e){return Promise.resolve(bc(e))},Oc=function(){var e=function(){function e(){Object(h.a)(this,e),this.compileModuleSync=vc,this.compileModuleAsync=gc,this.compileModuleAndAllComponentsSync=Ec,this.compileModuleAndAllComponentsAsync=wc}return Object(f.a)(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),Cc=function(){return Promise.resolve(0)}();function Tc(e){"undefined"==typeof Zone?Cc.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var _c=function(){function e(t){var n,r,i=t.enableLongStackTrace,a=void 0!==i&&i,o=t.shouldCoalesceEventChangeDetection,s=void 0!==o&&o;if(Object(h.a)(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Iu(!1),this.onMicrotaskEmpty=new Iu(!1),this.onStable=new Iu(!1),this.onError=new Iu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=re.requestAnimationFrame,t=re.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(re,(function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",(function(){e.lastRequestAnimationFrameId=-1,kc(e),Nc(e)}),void 0,(function(){}),(function(){}))),e.fakeTopEventTask.invoke()})),kc(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,a,o,s){try{return jc(n),e.invokeTask(i,a,o,s)}finally{r&&"eventTask"===a.type&&r(),xc(n)}},onInvoke:function(e,t,r,i,a,o,s){try{return jc(n),e.invoke(r,i,a,o,s)}finally{xc(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,kc(n),Nc(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return Object(f.a)(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,Sc,Ac,Ac);try{return i.runTask(a,t,n)}finally{i.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Ac(){}var Sc={};function Nc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function kc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function jc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xc(e){e._nesting--,Nc(e)}var Mc=function(){function e(){Object(h.a)(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Iu,this.onMicrotaskEmpty=new Iu,this.onStable=new Iu,this.onError=new Iu}return Object(f.a)(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Rc=function(){var e=function(){function e(t){var n=this;Object(h.a)(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return Object(f.a)(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){_c.assertNotInAngularZone(),Tc((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Tc((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee(_c))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}(),Dc=function(){var e=function(){function e(){Object(h.a)(this,e),this._applications=new Map,Lc.addToWindow(this)}return Object(f.a)(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Lc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Pc(e){Lc=e}var Ic,Lc=new(function(){function e(){Object(h.a)(this,e)}return Object(f.a)(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Fc=function(e,t,n){var r=new gu(n);return Promise.resolve(r)},qc=new he("AllowMultipleToken"),Bc=function e(t,n){Object(h.a)(this,e),this.name=t,this.token=n};function Uc(e){if(Ic&&!Ic.destroyed&&!Ic.injector.get(qc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ic=e.get(Qc);var t=e.get(cc,null);return t&&t.forEach((function(e){return e()})),Ic}function Vc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new he(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=zc();if(!a||a.injector.get(qc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var o=n.concat(t).concat({provide:i,useValue:!0},{provide:xa,useValue:"platform"});Uc(Wa.create({providers:o,name:r}))}return Hc(i)}}function Hc(e){var t=zc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function zc(){return Ic&&!Ic.destroyed?Ic:null}var Qc=function(){var e=function(){function e(t){Object(h.a)(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(f.a)(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,a=(r=t&&t.ngZoneEventCoalescing||!1,"noop"===(n=t?t.ngZone:void 0)?new Mc:("zone.js"===n?void 0:n)||new _c({enableLongStackTrace:ar(),shouldCoalesceEventChangeDetection:r})),o=[{provide:_c,useValue:a}];return a.run((function(){var t=Wa.create({providers:o,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Vn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Gc(i._modules,n)})),a.runOutsideAngular((function(){return a.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var a=((o=n.injector.get(ac)).runInitializers(),o.donePromise.then((function(){return mu(n.injector.get(dc,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return wo(a)?a.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):a}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var o}(r,a)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Wc({},n);return Fc(0,0,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Kc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(W(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee(Wa))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Wc(e,t){return Array.isArray(t)?t.reduce(Wc,e):Object.assign(Object.assign({},e),t)}var Kc=function(){var e=function(){function e(t,n,r,i,a,o){var s=this;Object(h.a)(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ar(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new y.a((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),c=new y.a((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){_c.assertNotInAngularZone(),Tc((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){_c.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(v.a)(u,c.pipe((function(e){return b()((t=_,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,C);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return Object(f.a)(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Cs?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(Ae),a=n.create(Wa.NULL,[],t||n.selector,i);a.onDestroy((function(){r._unloadComponent(a)}));var o=a.injector.get(Rc,null);return o&&a.injector.get(Dc).registerApplication(a.location.nativeElement,o),this._loadComponent(a),ar()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=Object(u.a)(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(a){n.e(a)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=Object(u.a)(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(a){i.e(a)}finally{i.f()}}}catch(o){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(o)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Gc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(hc,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Gc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee(_c),Ee(fc),Ee(Wa),Ee(Vn),Ee(_s),Ee(ac))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function Gc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Jc=function e(){Object(h.a)(this,e)},Yc=function e(){Object(h.a)(this,e)},Zc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Xc=function(){var e=function(){function e(t,n){Object(h.a)(this,e),this._compiler=t,this._config=n||Zc}return Object(f.a)(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=e.split("#"),i=Object(o.a)(r,2),a=i[0],s=i[1];return void 0===s&&(s="default"),n("zn8P")(a).then((function(e){return e[s]})).then((function(e){return $c(e,a,s)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=e.split("#"),r=Object(o.a)(t,2),i=r[0],a=r[1],s="NgFactory";return void 0===a&&(a="default",s=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[a+s]})).then((function(e){return $c(e,i,a)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee(Oc),Ee(Yc,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e}();function $c(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var el=function(e){return null},tl=Vc(null,"core",[{provide:lc,useValue:"unknown"},{provide:Qc,deps:[Wa]},{provide:Dc,deps:[]},{provide:fc,deps:[]}]),nl=[{provide:Kc,useClass:Kc,deps:[_c,fc,Wa,Vn,_s,ac]},{provide:ru,deps:[_c],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:ac,useClass:ac,deps:[[new j,ic]]},{provide:Oc,useClass:Oc,deps:[]},sc,{provide:Qs,useFactory:function(){return Gs},deps:[]},{provide:Ws,useFactory:function(){return Js},deps:[]},{provide:dc,useFactory:function(e){return mu(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new k(dc),new j,new M]]},{provide:pc,useValue:"USD"}],rl=function(){var e=function e(t){Object(h.a)(this,e)};return e.\u0275mod=Qe({type:e}),e.\u0275inj=L({factory:function(t){return new(t||e)(Ee(Kc))},providers:nl}),e}()},EWqr:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("bI4O"),i=n("jg4I"),a=n("Qvxn"),o=n("sTvq"),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a.pending=!1,a}return Object(i.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){return Object(r.a)(this,n),t.call(this)}return Object(i.a)(n,[{key:"schedule",value:function(e){return this}}]),n}(n("bwdy").a))},Efrr:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("EWqr"),i=new(n("DG/E").a)(r.a)},FU6l:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},GhIi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(n){var r=e.call(this)||this;return r.name="DriverOptionNotSetError",Object.setPrototypeOf(r,t.prototype),r.message="Driver option ("+n+") is not set. Please set it to perform connection to the database.",r}return r.d(t,e),t}(Error)},GmLw:function(e,t,n){"use strict";var r=n("dEMF"),i=n("1TxV"),a=n("Rl48");function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var h=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){h=!1;break}if(h)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function E(e,t,n,r){return U(q(t,e.length-n),e,n,r)}function w(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return w(e,t,n,r)}function C(e,t,n,r){return U(B(t),e,n,r)}function T(e,t,n,r){return U(function(e,t){for(var n,r,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function _(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:o=e[i+2],128==(192&(a=e[i+1]))&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+2],s=e[i+3],128==(192&(a=e[i+1]))&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var a="",o=t;o<n;++o)a+=(r=e[o])<16?"0"+r.toString(16):r.toString(16);return a}function j(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,a){return a||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,a){return a||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(null,t):void 0!==n?"string"==typeof r?s(null,t).fill(n,r):s(null,t).fill(n):s(null,t)}(0,e,t,n)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),h=0;h<s;++h)if(c[h]!==l[h]){a=c[h],o=l[h];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:q(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},GoAz:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("IdLP"),i=n("1MAX"),a=n("bwdy"),o=n("qEfY"),s=n("czMQ"),u=n("sWLk"),c=n("/vgl"),l=n("eY+9");function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a((function(n){var r=new a.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(c.a)(e))return function(e,t){return new r.a((function(n){var r=new a.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(l.a)(e))return Object(s.a)(e,t);if(function(e){return e&&"function"==typeof e[u.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new a.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[u.a](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(a){return void n.error(a)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},HM3f:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("gBlb"),u=n("FU6l"),c=n("pBDD"),l=n("mW0F"),h=n("ckkg"),f={};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return Object(s.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&Object(u.a)(t[0])&&(t=t[0]),Object(h.a)(t,i).lift(new p(r))}var p=function(){function e(t){Object(a.a)(this,e),this.resultSelector=t}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new m(e,this.resultSelector))}}]),e}(),m=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return Object(o.a)(n,[{key:"_next",value:function(e){this.values.push(f),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(l.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var a=this.values,o=this.toRespond?a[n]===f?--this.toRespond:this.toRespond:0;a[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(c.a)},HOZh:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return T}));var r,i=n("jg4I"),a=n("bI4O"),o=n("EM62"),s=n("cZZj"),u=n("ZTXN"),c=n("HM3f"),l=n("qZtG"),h=n("IdLP"),f=n("J+dc"),d=n("3mST"),p=n("mWib"),m=n("YtkY"),y=n("jIqt"),v=n("kuMc"),g=n("5XID"),b=new Set,E=function(){var e=function(){function e(t){Object(a.a)(this,e),this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):w}return Object(i.a)(e,[{key:"matchMedia",value:function(e){return this._platform.WEBKIT&&function(e){if(!b.has(e))try{r||((r=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(r)),r.sheet&&(r.sheet.insertRule("@media ".concat(e," {.fx-query-test{ }}"),0),b.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Tb(s.a))},e.\u0275prov=Object(o.Fb)({factory:function(){return new e(Object(o.Tb)(s.a))},token:e,providedIn:"root"}),e}();function w(e){return{matches:"all"===e||""===e,media:e,addListener:function(){},removeListener:function(){}}}var O=function(){var e=function(){function e(t,n){Object(a.a)(this,e),this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new u.a}return Object(i.a)(e,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(e){var t=this;return C(Object(g.a)(e)).some((function(e){return t._registerQuery(e).mql.matches}))}},{key:"observe",value:function(e){var t=this,n=C(Object(g.a)(e)).map((function(e){return t._registerQuery(e).observable})),r=Object(c.a)(n);return(r=Object(l.a)(r.pipe(Object(f.a)(1)),r.pipe(Object(d.a)(1),Object(p.a)(0)))).pipe(Object(m.a)((function(e){var t={matches:!1,breakpoints:{}};return e.forEach((function(e){t.matches=t.matches||e.matches,t.breakpoints[e.query]=e.matches})),t})))}},{key:"_registerQuery",value:function(e){var t=this;if(this._queries.has(e))return this._queries.get(e);var n=this._mediaMatcher.matchMedia(e),r={observable:new h.a((function(e){var r=function(n){return t._zone.run((function(){return e.next(n)}))};return n.addListener(r),function(){n.removeListener(r)}})).pipe(Object(y.a)(n),Object(m.a)((function(t){return{query:e,matches:t.matches}})),Object(v.a)(this._destroySubject)),mql:n};return this._queries.set(e,r),r}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Tb(E),o.Tb(o.z))},e.\u0275prov=Object(o.Fb)({factory:function(){return new e(Object(o.Tb)(E),Object(o.Tb)(o.z))},token:e,providedIn:"root"}),e}();function C(e){return e.map((function(e){return e.split(",")})).reduce((function(e,t){return e.concat(t)})).map((function(e){return e.trim()}))}var T={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},HVZQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("D57K"),i=n("JyJK"),a=n("kAlA"),o=n("h5d3"),s=n("bo9S"),u=function(){function e(e){this.isReplicated=!1,this.treeSupport=!0,this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=[],this.withScaleColumnTypes=[],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.connection=e,this.options=e.options}return e.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){switch(t.label){case 0:return e=this,[4,this.createDatabaseConnection()];case 1:return e.databaseConnection=t.sent(),[2]}}))}))},e.prototype.afterConnect=function(){return Promise.resolve()},e.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){e.queryRunner=void 0,e.databaseConnection.close((function(e){return e?n(e):t()}))}))]}))}))},e.prototype.createSchemaBuilder=function(){return new a.a(this.connection)},e.prototype.preparePersistentValue=function(e,t){return t.transformer&&(e=s.a.transformTo(t.transformer,e)),null==e?e:t.type===Boolean||"boolean"===t.type?!0===e?1:0:"date"===t.type?i.a.mixedDateToDateString(e):"time"===t.type?i.a.mixedDateToTimeString(e):"datetime"===t.type||t.type===Date?i.a.mixedDateToUtcDatetimeString(e):"simple-array"===t.type?i.a.simpleArrayToString(e):"simple-json"===t.type?i.a.simpleJsonToString(e):"simple-enum"===t.type?i.a.simpleEnumToString(e):e},e.prototype.prepareHydratedValue=function(e,t){return null==e?t.transformer?s.a.transformFrom(t.transformer,e):e:(t.type===Boolean||"boolean"===t.type?e=!!e:"datetime"===t.type||t.type===Date?(e&&"string"==typeof e&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=i.a.normalizeHydratedDate(e)):"date"===t.type?e=i.a.mixedDateToDateString(e):"time"===t.type?e=i.a.mixedTimeToString(e):"simple-array"===t.type?e=i.a.stringToSimpleArray(e):"simple-json"===t.type?e=i.a.stringToSimpleJson(e):"simple-enum"===t.type&&(e=i.a.stringToSimpleEnum(e,t)),t.transformer&&(e=s.a.transformFrom(t.transformer,e)),e)},e.prototype.escapeQueryWithParameters=function(e,t,n){var r=Object.keys(n).map((function(e){return"boolean"==typeof n[e]?!0===n[e]?1:0:n[e]}));if(!t||!Object.keys(t).length)return[e,r];var i=Object.keys(t).map((function(e){return"(:(\\.\\.\\.)?"+e+"\\b)"})).join("|");return[e=e.replace(new RegExp(i,"g"),(function(e){var n,i=!1;return":..."===e.substr(0,4)?(i=!0,n=t[e.substr(4)]):n=t[e.substr(1)],i?n.map((function(e){return r.push(e),"?"})).join(", "):n instanceof Function?n():(r.push(n),"?")})),r]},e.prototype.escape=function(e){return'"'+e+'"'},e.prototype.buildTableName=function(e,t,n){return e},e.prototype.normalizeType=function(e){return e.type===Number||"int"===e.type?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":"uuid"===e.type?"varchar":"simple-array"===e.type||"simple-json"===e.type?"text":"simple-enum"===e.type?"varchar":e.type||""},e.prototype.normalizeDefault=function(e){var t=e.default;return"number"==typeof t?""+t:"boolean"==typeof t?!0===t?"1":"0":"function"==typeof t?t():"string"==typeof t?"'"+t+"'":t},e.prototype.normalizeIsUnique=function(e){return e.entityMetadata.uniques.some((function(t){return 1===t.columns.length&&t.columns[0]===e}))},e.prototype.getColumnLength=function(e){return e.length?e.length.toString():""},e.prototype.createFullType=function(e){var t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":null!=e.precision&&null!=e.scale?t+="("+e.precision+","+e.scale+")":null!=e.precision&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)},e.prototype.obtainMasterConnection=function(){return Promise.resolve()},e.prototype.obtainSlaveConnection=function(){return Promise.resolve()},e.prototype.createGeneratedMap=function(e,t){var n=e.generatedColumns.reduce((function(e,n){var r;return"increment"===n.generationStrategy&&t&&(r=t),r?o.a.mergeDeep(e,n.createValueMap(r)):e}),{});return Object.keys(n).length>0?n:void 0},e.prototype.findChangedColumns=function(e,t){var n=this;return t.filter((function(t){var r=e.find((function(e){return e.name===t.databaseName}));return!!r&&(r.name!==t.databaseName||r.type!==n.normalizeType(t)||r.length!==t.length||r.precision!==t.precision||r.scale!==t.scale||n.normalizeDefault(t)!==r.default||r.isPrimary!==t.isPrimary||r.isNullable!==t.isNullable||r.isUnique!==n.normalizeIsUnique(t)||"uuid"!==t.generationStrategy&&r.isGenerated!==t.isGenerated)}))},e.prototype.isReturningSqlSupported=function(){return!1},e.prototype.isUUIDGenerationSupported=function(){return!1},e.prototype.createParameter=function(e,t){return"?"},e.prototype.createDatabaseConnection=function(){throw new Error("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")},e.prototype.loadDependencies=function(){},e}()},HgnN:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},IJgj:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},IdLP:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("bI4O"),i=n("jg4I"),a=n("5uGe"),o=n("25CY"),s=n("rWo0"),u=n("qEfY"),c=n("5E2i");function l(e){return 0===e.length?c.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var h=n("HgnN"),f=function(){var e=function(){function e(t){Object(r.a)(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return Object(i.a)(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof a.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new a.a(e,t,n):new a.a(s.a)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||h.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),h.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){h.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof a.a?t:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=d(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:u.a,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:l(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}();return e.create=function(t){return new e(t)},e}();function d(e){if(e||(e=h.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},"J+dc":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe"),u=n("PNff"),c=n("6Oco");function l(e){return function(t){return 0===e?Object(c.b)():t.lift(new h(e))}}var h=function(){function e(t){if(Object(a.a)(this,e),this.total=t,this.total<0)throw new u.a}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.total))}}]),e}(),f=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return Object(o.a)(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(s.a)},JRSL:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3OGo");function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}},JyJK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(){}return e.normalizeHydratedDate=function(e){return e&&"string"==typeof e?new Date(e):e},e.mixedDateToDateString=function(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear())+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e},e.mixedDateToDate=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);var r="string"==typeof e?new Date(e):e;return t&&(r=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())),n||r.setUTCMilliseconds(0),r},e.mixedDateToTimeString=function(e,t){return void 0===t&&(t=!1),e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e},e.mixedTimeToDate=function(e){if("string"==typeof e){var t=r.g(e.split(":"),3),n=t[0],i=t[1],a=t[2],o=new Date;return n&&o.setHours(parseInt(n)),i&&o.setMinutes(parseInt(i)),a&&o.setSeconds(parseInt(a)),o}return e},e.mixedTimeToString=function(e,t){return void 0===t&&(t=!1),"string"==typeof(e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e)?e.split(":").map((function(e){return 1===e.length?"0"+e:e})).join(":"):e},e.mixedDateToDatetimeString=function(e,t){if("string"==typeof e&&(e=new Date(e)),e instanceof Date){var n=this.formatZerolessValue(e.getFullYear())+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(n+="."+this.formatMilliseconds(e.getMilliseconds())),e=n}return e},e.mixedDateToUtcDatetimeString=function(e){return"string"==typeof e&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear())+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e},e.simpleArrayToString=function(e){return e instanceof Array?e.map((function(e){return String(e)})).join(","):e},e.stringToSimpleArray=function(e){return e instanceof String||"string"==typeof e?e.length>0?e.split(","):[]:e},e.simpleJsonToString=function(e){return JSON.stringify(e)},e.stringToSimpleJson=function(e){try{var t=JSON.parse(e);return"object"==typeof t?t:{}}catch(n){return{}}},e.simpleEnumToString=function(e){return""+e},e.stringToSimpleEnum=function(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e},e.formatZerolessValue=function(e){return e<10?"0"+e:String(e)},e.formatMilliseconds=function(e){return e<10?"00"+e:e<100?"0"+e:String(e)},e}()},K8MB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("p0oL"),i=n("gtRQ"),a=n("MDuR");function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},KLYN:function(e,t,n){var r=n("qW1w"),i=n("4rhd"),a=n("KLyV").Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,p=0|this._f,m=0|this._g,y=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+d(n[v-15])+n[v-16];for(var g=0;g<64;++g){var b=y+f(u)+c(u,p,m)+o[g]+n[g]|0,E=h(r)+l(r,i,a)|0;y=m,m=p,p=u,u=s+b|0,s=a,a=i,i=r,r=b+E|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var e=a.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},KLyV:function(e,t,n){var r=n("GmLw"),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},KucK:function(e,t,n){var r=n("qW1w"),i=n("4rhd"),a=n("KLyV").Buffer,o=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,a=0|this._c,s=0|this._d,u=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((t=r)<<5|t>>>27)+l(d,i,a,s)+u+n[f]+o[d];u=s,s=a,a=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=a.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},KxrN:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},MDuR:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("p0oL");function i(e,t){if(e){if("string"==typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},MiDb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},OfrW:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.create=function(e){var t=Promise.resolve(e);return t.__value__=e,t},e.extractValue=function(e){return e instanceof Promise&&e.__value__?e.__value__:e},e.runInSequence=function(e,t){var n=[];return e.reduce((function(e,r){return e.then((function(){return t(r)})).then((function(e){n.push(e)}))}),Promise.resolve()).then((function(){return n}))},e.settle=function(e){return Promise.all(e.map((function(e){return Promise.resolve(e).then((function(e){return{state:"fulfilled",value:e}}),(function(e){return{state:"rejected",reason:e}}))}))).then((function(e){var t=e.find((function(e){return"rejected"===e.state}));return t?Promise.reject(t.reason):e.map((function(e){return e.value}))}))},e}()},Ohay:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe");function u(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(t,n){Object(a.a)(this,e),this.compare=t,this.keySelector=n}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.compare,this.keySelector))}}]),e}(),l=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this,e)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return Object(o.a)(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(s.a)},P4Xx:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("K8MB"),i=n("IdLP"),a=n("FU6l"),o=n("YtkY"),s=n("X0qr"),u=n("GoAz");function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(Object(a.a)(i))return l(i,null);if(Object(s.a)(i)&&Object.getPrototypeOf(i)===Object.prototype){var u=Object.keys(i);return l(u.map((function(e){return i[e]})),u)}}if("function"==typeof t[t.length-1]){var c=t.pop();return l(t=1===t.length&&Object(a.a)(t[0])?t[0]:t,null).pipe(Object(o.a)((function(e){return c.apply(void 0,Object(r.a)(e))})))}return l(t,null)}function l(e,t){return new i.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),a=0,o=0,s=function(s){var c=Object(u.a)(e[s]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,o++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++a!==r&&l||(o===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)s(c);else n.complete()}))}},PFrq:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(){}return e.assign=function(e){for(var t,n,i,a,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];try{for(var u=r.k(o),c=u.next();!c.done;c=u.next()){var l=c.value;try{for(var h=r.k(Object.getOwnPropertyNames(l)),f=h.next();!f.done;f=h.next()){var d=f.value;e[d]=l[d]}}catch(p){i={error:p}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}}}catch(m){t={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}},e}()},PNff:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},PVwi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("D57K"),i=n("WOlX"),a=n("PFrq"),o=function(){function e(e,t,n){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,a.a.assign(this,n||{})}return Object.defineProperty(e.prototype,"isMany",{get:function(){return void 0!==this.isMappingMany?this.isMappingMany:!!this.relation&&(this.relation.isManyToMany||this.relation.isOneToMany)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){var e=this;return this.isSelectedEvaluated||(this.isSelectedCache=function(){var t,n,i=function(t){return t.selection===e.alias.name||e.metadata&&e.metadata.columns.find((function(n){return t.selection===e.alias.name+"."+n.propertyPath}))?{value:!0}:void 0};try{for(var a=r.k(e.queryExpressionMap.selects),o=a.next();!o.done;o=a.next()){var s=i(o.value);if("object"==typeof s)return s.value}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return!1}(),this.isSelectedEvaluated=!0),this.isSelectedCache},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tablePath",{get:function(){return this.metadata?this.metadata.tablePath:this.entityOrProperty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentAlias",{get:function(){if(i.a.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relationPropertyPath",{get:function(){if(i.a.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relation",{get:function(){var e=this;return this.relationEvaluated||(this.relationCache=(function(){if(i.a.isAliasProperty(e.entityOrProperty)){var t=e.queryExpressionMap.findAliasByName(e.parentAlias),n=t.metadata.findRelationWithPropertyPath(e.relationPropertyPath);if(n)return n;if(t.metadata.parentEntityMetadata&&(n=t.metadata.parentEntityMetadata.findRelationWithPropertyPath(e.relationPropertyPath)))return n;throw new Error("Relation with property path "+e.relationPropertyPath+" in entity was not found.")}}).bind(this)(),this.relationEvaluated=!0),this.relationCache},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.relation?this.relation.inverseEntityMetadata:this.connection.hasMetadata(this.entityOrProperty)?this.connection.getMetadata(this.entityOrProperty):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"junctionAlias",{get:function(){if(!this.relation)throw new Error("Cannot get junction table for join without relation.");return this.relation.isOwning?this.parentAlias+"_"+this.alias.name:this.alias.name+"_"+this.parentAlias},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapToPropertyParentAlias",{get:function(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapToPropertyPropertyName",{get:function(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]},enumerable:!0,configurable:!0}),e}()},QADp:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(e){this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.parser=e.parser,this.where=e.where?e.where:""}return e.prototype.clone=function(){return new e({name:this.name,columnNames:r.i(this.columnNames),isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,parser:this.parser,where:this.where})},e.create=function(t){return new e({name:t.name,columnNames:t.columns.map((function(e){return e.databaseName})),isUnique:t.isUnique,isSpatial:t.isSpatial,isFulltext:t.isFulltext,parser:t.parser,where:t.where})},e}()},QQZH:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("bI4O"),i=n("jg4I"),a=n("JRSL"),o=n("3OGo"),s=n("Qvxn"),u=n("sTvq"),c=n("ZTXN"),l=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this,e,i)).scheduler=e,a.work=i,a}return Object(i.a)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?Object(a.a)(Object(o.a)(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?Object(a.a)(Object(o.a)(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?Object(a.a)(Object(o.a)(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(n("EWqr").a),h=new(function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return n}(n("DG/E").a))(l),f=n("bwdy"),d=n("5uGe"),p=n("ryP2"),m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(r.a)(this,n),(a=t.call(this,e)).scheduler=i,a.delay=o,a}return Object(i.a)(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new y(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(p.a.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(p.a.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(p.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){e.notification.observe(e.destination),this.unsubscribe()}}]),n}(d.a),y=function e(t,n){Object(r.a)(this,e),this.notification=t,this.destination=n},v=n("MiDb"),g=n("yTkW"),b=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return Object(r.a)(this,n),(e=t.call(this)).scheduler=o,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=a<1?1:a,a===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return Object(i.a)(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new E(this._getNow(),e)),this._trimBufferThenGetEvents(),Object(a.a)(Object(o.a)(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;if(this.closed)throw new v.a;if(this.isStopped||this.hasError?t=f.a.EMPTY:(this.observers.push(e),t=new g.a(this,e)),i&&e.add(e=new m(e,i)),n)for(var o=0;o<a&&!e.closed;o++)e.next(r[o]);else for(var s=0;s<a&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||h).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(c.a),E=function e(t,n){Object(r.a)(this,e),this.time=t,this.value=n}},Qvxn:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("2FZx");function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},ROBh:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("gBlb"),i=n("ckkg"),a=n("czMQ");function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return Object(r.a)(o)?(t.pop(),Object(a.a)(t,o)):Object(i.a)(t)}},RXo8:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(){var n=e.call(this)||this;return n.name="UpdateValuesMissingError",Object.setPrototypeOf(n,t.prototype),n.message='Cannot perform update query because update values are not defined. Call "qb.set(...)" method to specify updated values.',n}return r.d(t,e),t}(Error)},Rl48:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},SL5l:function(e,t,n){"use strict";n.r(t),n.d(t,"UpdateQueryBuilder",(function(){return g}));var r=n("D57K"),i=n("rE0Y"),a=n("ecGF"),o=n("DC8z"),s=n("BIia"),u=n("3C3V"),c=n("g3OH"),l=n("qNyv"),h=n("gFhw"),f=n("2ELk"),d=n("HVZQ"),p=n("ogex"),m=n("RXo8"),y=function(e){function t(n){var r=e.call(this)||this;return r.name="EntityColumnNotFound",Object.setPrototypeOf(r,t.prototype),r.message='No entity column "'+n+'" was found.',r}return r.d(t,e),t}(Error),v=n("u6gj"),g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.expressionMap.aliasNamePrefixingEnabled=!1,r}return r.d(t,e),t.prototype.getQuery=function(){var e=this.createUpdateExpression();return e+=this.createOrderByExpression(),(e+=this.createLimitExpression()).trim()},t.prototype.execute=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,o,s,c,d,p,m,y,v;return r.e(this,(function(g){switch(g.label){case 0:e=this.obtainQueryRunner(),t=!1,g.label=1;case 1:return g.trys.push([1,13,18,23]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:g.sent(),t=!0,g.label=3;case 3:return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(y=new f.a,e.broadcaster.broadcastBeforeUpdateEvent(y,this.expressionMap.mainAlias.metadata,this.expressionMap.valuesSet),y.promises.length>0?[4,Promise.all(y.promises)]:[3,5]):[3,5];case 4:g.sent(),g.label=5;case 5:return n=null,i=null,o=new l.a(e,this.expressionMap),!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0&&(this.expressionMap.extraReturningColumns=o.getUpdationReturningColumns(),this.expressionMap.extraReturningColumns.length>0&&this.connection.driver instanceof a.i&&(n=this.connection.driver.buildTableVariableDeclaration("@OutputTable",this.expressionMap.extraReturningColumns),i="SELECT * FROM @OutputTable")),s=r.g(this.getQueryAndParameters(),2),c=s[0],d=s[1],p=new u.a,[4,e.query([n,c,i].filter((function(e){return null!=e})).join(";\n\n"),d)];case 6:return m=g.sent(),this.connection.driver instanceof a.g?(p.raw=m[0],p.affected=m[1]):p.raw=m,!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&this.expressionMap.whereEntities.length>0?[4,o.update(p,this.expressionMap.whereEntities)]:[3,8];case 7:g.sent(),g.label=8;case 8:return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(y=new f.a,e.broadcaster.broadcastAfterUpdateEvent(y,this.expressionMap.mainAlias.metadata),y.promises.length>0?[4,Promise.all(y.promises)]:[3,10]):[3,10];case 9:g.sent(),g.label=10;case 10:return t?[4,e.commitTransaction()]:[3,12];case 11:g.sent(),g.label=12;case 12:return[2,p];case 13:if(v=g.sent(),!t)return[3,17];g.label=14;case 14:return g.trys.push([14,16,,17]),[4,e.rollbackTransaction()];case 15:case 16:return g.sent(),[3,17];case 17:throw v;case 18:return e===this.queryRunner?[3,20]:[4,e.release()];case 19:g.sent(),g.label=20;case 20:return this.connection.driver instanceof h.a&&!e.isTransactionActive?[4,this.connection.driver.autoSave()]:[3,22];case 21:g.sent(),g.label=22;case 22:return[7];case 23:return[2]}}))}))},t.prototype.set=function(e){return this.expressionMap.valuesSet=e,this},t.prototype.where=function(e,t){this.expressionMap.wheres=[];var n=this.computeWhereParameter(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this},t.prototype.andWhere=function(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.orWhere=function(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.whereInIds=function(e){return this.where(this.createWhereIdsExpression(e))},t.prototype.andWhereInIds=function(e){return this.andWhere(this.createWhereIdsExpression(e))},t.prototype.orWhereInIds=function(e){return this.orWhere(this.createWhereIdsExpression(e))},t.prototype.output=function(e){return this.returning(e)},t.prototype.returning=function(e){if(!this.connection.driver.isReturningSqlSupported())throw new c.a;return this.expressionMap.returning=e,this},t.prototype.orderBy=function(e,t,n){var r,i;return void 0===t&&(t="ASC"),this.expressionMap.orderBys=e?e instanceof Object?e:n?((r={})[e]={order:t,nulls:n},r):((i={})[e]=t,i):{},this},t.prototype.addOrderBy=function(e,t,n){return void 0===t&&(t="ASC"),this.expressionMap.orderBys[e]=n?{order:t,nulls:n}:t,this},t.prototype.limit=function(e){return this.expressionMap.limit=e,this},t.prototype.whereEntity=function(e){var t=this;if(!this.expressionMap.mainAlias.hasMetadata)throw new Error(".whereEntity method can only be used on queries which update real entity table.");this.expressionMap.wheres=[];var n=Array.isArray(e)?e:[e];return n.forEach((function(e){var n=t.expressionMap.mainAlias.metadata.getEntityIdMap(e);if(!n)throw new Error("Provided entity does not have ids set, cannot perform operation.");t.orWhereInIds(n)})),this.expressionMap.whereEntities=n,this},t.prototype.updateEntity=function(e){return this.expressionMap.updateEntity=e,this},t.prototype.createUpdateExpression=function(){var e=this,t=this.getValueSet(),n=this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata:void 0,r=[],o={},u=this.connection.driver instanceof a.e||this.connection.driver instanceof v.a||this.connection.driver instanceof a.f||this.connection.driver instanceof d.a||this.connection.driver instanceof a.h?0:Object.keys(this.expressionMap.nativeParameters).length;if(n?(s.a.createPropertyPath(n,t).forEach((function(i){var s=n.findColumnsWithPropertyPath(i);if(s.length<=0)throw new y(i);s.forEach((function(n){if(n.isUpdate){var i="upd_"+n.databaseName,s=n.getEntityValue(t);if(n.referencedColumn&&s instanceof Object?s=n.referencedColumn.getEntityValue(s):s instanceof Function||(s=e.connection.driver.preparePersistentValue(s,n)),s instanceof Function)r.push(e.escape(n.databaseName)+" = "+s());else if(e.connection.driver instanceof a.h&&null===s)r.push(e.escape(n.databaseName)+" = NULL");else{e.connection.driver instanceof a.i&&(s=e.connection.driver.parametrizeValue(n,s)),e.connection.driver instanceof a.e||e.connection.driver instanceof v.a||e.connection.driver instanceof a.f||e.connection.driver instanceof d.a||e.connection.driver instanceof a.h?o[i]=s:e.expressionMap.nativeParameters[i]=s;var c=null;if((e.connection.driver instanceof a.e||e.connection.driver instanceof v.a)&&-1!==e.connection.driver.spatialTypes.indexOf(n.type)){var l=e.connection.driver.options.legacySpatialSupport?"GeomFromText":"ST_GeomFromText";c=null!=n.srid?l+"("+e.connection.driver.createParameter(i,u)+", "+n.srid+")":l+"("+e.connection.driver.createParameter(i,u)+")"}else c=e.connection.driver instanceof a.g&&-1!==e.connection.driver.spatialTypes.indexOf(n.type)?null!=n.srid?"ST_SetSRID(ST_GeomFromGeoJSON("+e.connection.driver.createParameter(i,u)+"), "+n.srid+")::"+n.type:"ST_GeomFromGeoJSON("+e.connection.driver.createParameter(i,u)+")::"+n.type:e.connection.driver.createParameter(i,u);r.push(e.escape(n.databaseName)+" = "+c),u++}}}))})),n.versionColumn&&r.push(this.escape(n.versionColumn.databaseName)+" = "+this.escape(n.versionColumn.databaseName)+" + 1"),n.updateDateColumn&&r.push(this.escape(n.updateDateColumn.databaseName)+" = CURRENT_TIMESTAMP")):Object.keys(t).map((function(n){var i=t[n];i instanceof Function?r.push(e.escape(n)+" = "+i()):e.connection.driver instanceof a.h&&null===i?r.push(e.escape(n)+" = NULL"):(e.connection.driver instanceof a.e||e.connection.driver instanceof v.a||e.connection.driver instanceof a.f||e.connection.driver instanceof d.a||e.connection.driver instanceof a.h?o[n]=i:e.expressionMap.nativeParameters[n]=i,r.push(e.escape(n)+" = "+e.connection.driver.createParameter(n,u)),u++)})),r.length<=0)throw new m.a;(this.connection.driver instanceof a.e||this.connection.driver instanceof v.a||this.connection.driver instanceof a.f||this.connection.driver instanceof d.a||this.connection.driver instanceof a.h)&&(this.expressionMap.nativeParameters=Object.assign(o,this.expressionMap.nativeParameters));var c=this.createWhereExpression(),l=this.createReturningExpression();return l&&(this.connection.driver instanceof a.g||this.connection.driver instanceof a.f||this.connection.driver instanceof i.a)?"UPDATE "+this.getTableName(this.getMainTableName())+" SET "+r.join(", ")+c+" RETURNING "+l:l&&this.connection.driver instanceof a.i?"UPDATE "+this.getTableName(this.getMainTableName())+" SET "+r.join(", ")+" OUTPUT "+l+c:"UPDATE "+this.getTableName(this.getMainTableName())+" SET "+r.join(", ")+c},t.prototype.createOrderByExpression=function(){var e=this,t=this.expressionMap.orderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map((function(n){return"string"==typeof t[n]?e.replacePropertyNames(n)+" "+t[n]:e.replacePropertyNames(n)+" "+t[n].order+" "+t[n].nulls})).join(", "):""},t.prototype.createLimitExpression=function(){var e=this.expressionMap.limit;if(e){if(this.connection.driver instanceof a.e||this.connection.driver instanceof v.a)return" LIMIT "+e;throw new p.a}return""},t.prototype.getValueSet=function(){if(this.expressionMap.valuesSet instanceof Object)return this.expressionMap.valuesSet;throw new m.a},t}(o.a)},TLy2:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("JRSL"),i=n("3OGo"),a=n("Qvxn"),o=n("sTvq"),s=n("bI4O"),u=n("jg4I"),c=n("pBDD"),l=n("r9RI"),h=n("mW0F"),f=n("YtkY"),d=n("GoAz");function p(e,t){return"function"==typeof t?function(n){return n.pipe(p((function(n,r){return Object(d.a)(e(n,r)).pipe(Object(f.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new m(e))}}var m=function(){function e(t){Object(s.a)(this,e),this.project=t}return Object(u.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new y(e,this.project))}}]),e}(),y=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r){var i;return Object(s.a)(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return Object(u.a)(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new l.a(this,t,n),a=this.destination;a.add(i),this.innerSubscription=Object(h.a)(this,e,void 0,void 0,i),this.innerSubscription!==i&&a.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(c.a)},"U/oB":function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},UlWR:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d})),n("Qvxn"),n("sTvq");var r=n("gCgJ"),i=n("bI4O"),a=n("jg4I");n("uWoz"),n("JRSL"),n("3OGo"),n("XlW9"),n("2FZx"),n("WUXR"),n("K8MB"),n("mPN/"),n("D57K");var o=n("ZTXN"),s=(n("QQZH"),n("C05f"),n("ROBh"),n("9bRT"),n("GoAz"),n("HM3f"),n("g6G6"),n("6Oco"),n("i9xl"),n("8j5Y"),n("YtkY"),n("Ohay"),n("TLy2"),n("xVbo"));n("3mST"),n("J+dc"),n("Efrr"),n("5uGe"),n("ryP2"),n("mWib"),n("0Woy"),n("prE9"),n("ruxD");var u,c=n("EM62"),l="undefined"!=typeof window;Error,l&&(window.$$stores={},window.$$queries={});var h=function(e){return e.Update="UPDATE",e}({}),f=(Object(r.a)({},h.Update,"update"),function(e){return e.Update="UPDATE",e.AddEntities="ADD_ENTITIES",e.SetEntities="SET_ENTITIES",e.UpdateEntities="UPDATE_ENTITIES",e.RemoveEntities="REMOVE_ENTITIES",e.UpsertEntities="UPSERT_ENTITIES",e.UpsertManyEntities="UPSERT_MANY_ENTITIES",e}({}));u={},Object(r.a)(u,f.Update,"update"),Object(r.a)(u,f.AddEntities,"add"),Object(r.a)(u,f.SetEntities,"set"),Object(r.a)(u,f.UpdateEntities,"update"),Object(r.a)(u,f.RemoveEntities,"remove"),Object(r.a)(u,f.UpsertEntities,"upsert"),Object(r.a)(u,f.UpsertManyEntities,"upsertMany"),n("47ST"),n("vobO"),n("4e/d");var d=function(e){return Object(s.a)((function(t){return t.type===e}))},p=function(){var e=function(){function e(){Object(i.a)(this,e),this.dispatcher=new o.a,this.action$=this.dispatcher.asObservable()}return Object(a.a)(e,[{key:"dispatch",value:function(e){this.dispatcher.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Fb)({factory:function(){return new e},token:e,providedIn:"root"}),e}()},W6vy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(){var n=e.call(this)||this;return n.name="QueryRunnerAlreadyReleasedError",Object.setPrototypeOf(n,t.prototype),n.message="Query runner already released. Cannot run queries anymore.",n}return r.d(t,e),t}(Error)},WOlX:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(){}return e.isAliasProperty=function(e){if("string"!=typeof e||-1===e.indexOf("."))return!1;var t=r.g(e.split("."),2);return!(!t[0]||!t[1])&&-1===e.indexOf("(")&&-1===e.indexOf(")")},e}()},WUXR:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2FZx"),i=n("4U52");function a(e,t,n){return(a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},Wtu2:function(e,t,n){var r=n("qW1w"),i=n("KLYN"),a=n("4rhd"),o=n("KLyV").Buffer,s=new Array(64);function u(){this.init(),this._w=s,a.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},X0qr:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},XJG8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this.name=e.name,this.expression=e.expression}return e.prototype.clone=function(){return new e({name:this.name,expression:this.expression})},e.create=function(t){return new e({name:t.name,expression:t.expression})},e}()},XSth:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){}},XlW9:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("U/oB"),i=n("MDuR"),a=n("KxrN");function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},YZUv:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return g}));var r=n("bI4O"),i=n("jg4I"),a=n("EM62"),o=n("miYd"),s=n("2kYt"),u=n("egf4"),c=n("qUoL");function l(e,t){1&e&&a.Lb(0)}var h=function(e,t,n,r){return{"p-button-icon":!0,"p-button-icon-left":e,"p-button-icon-right":t,"p-button-icon-top":n,"p-button-icon-bottom":r}};function f(e,t){if(1&e&&a.Kb(0,"span",4),2&e){var n=a.Zb();a.Ab(n.icon),a.gc("ngClass",a.lc(4,h,"left"===n.iconPos&&n.label,"right"===n.iconPos&&n.label,"top"===n.iconPos&&n.label,"bottom"===n.iconPos&&n.label)),a.zb("aria-hidden",!0)}}function d(e,t){if(1&e&&(a.Pb(0,"span",4),a.zc(1),a.Ob()),2&e){var n=a.Zb();a.Ab(n.badgeClass),a.gc("ngClass","p-badge"),a.yb(1),a.Ac(n.badge)}}var p=function(e,t){return{"p-button p-component":!0,"p-button-icon-only":e,"p-button-vertical":t}},m=["*"],y=function(){var e=function(){function e(t){Object(r.a)(this,e),this.el=t,this.iconPos="left"}return Object(i.a)(e,[{key:"ngAfterViewInit",value:function(){if(this._initialStyleClass=this.el.nativeElement.className,o.a.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),this.icon){var e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");var t=this.label?"p-button-icon-"+this.iconPos:null;t&&o.a.addClass(e,t),o.a.addMultipleClasses(e,this.icon),this.el.nativeElement.appendChild(e)}var n=document.createElement("span");this.icon&&!this.label&&n.setAttribute("aria-hidden","true"),n.className="p-button-label",n.appendChild(document.createTextNode(this.label||"&nbsp;")),this.el.nativeElement.appendChild(n),this.initialized=!0}},{key:"getStyleClass",value:function(){var e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),e}},{key:"setStyleClass",value:function(){var e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}},{key:"ngOnDestroy",value:function(){for(;this.el.nativeElement.hasChildNodes();)this.el.nativeElement.removeChild(this.el.nativeElement.lastChild);this.initialized=!1}},{key:"label",get:function(){return this._label},set:function(e){this._label=e,this.initialized&&(o.a.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",this.setStyleClass())}},{key:"icon",get:function(){return this._icon},set:function(e){this._icon=e,this.initialized&&(o.a.findSingle(this.el.nativeElement,".p-button-icon").className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this._icon:"p-button-icon "+this._icon,this.setStyleClass())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Jb(a.l))},e.\u0275dir=a.Eb({type:e,selectors:[["","pButton",""]],inputs:{iconPos:"iconPos",label:"label",icon:"icon"}}),e}(),v=function(){var e=function(){function e(){Object(r.a)(this,e),this.type="button",this.iconPos="left",this.onClick=new a.n,this.onFocus=new a.n,this.onBlur=new a.n}return Object(i.a)(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach((function(t){switch(t.getType()){case"content":default:e.contentTemplate=t.template}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["p-button"]],contentQueries:function(e,t,n){var r;1&e&&a.Cb(n,c.e,!1),2&e&&a.oc(r=a.Yb())&&(t.templates=r)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:m,decls:7,vars:14,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(e,t){1&e&&(a.fc(),a.Pb(0,"button",0),a.Xb("click",(function(e){return t.onClick.emit(e)}))("focus",(function(e){return t.onFocus.emit(e)}))("blur",(function(e){return t.onBlur.emit(e)})),a.ec(1),a.xc(2,l,1,0,"ng-container",1),a.xc(3,f,1,9,"span",2),a.Pb(4,"span",3),a.zc(5),a.Ob(),a.xc(6,d,2,4,"span",2),a.Ob()),2&e&&(a.Ab(t.styleClass),a.gc("ngStyle",t.style)("disabled",t.disabled)("ngClass",a.jc(11,p,t.icon&&!t.label,("top"===t.iconPos||"bottom"===t.iconPos)&&t.label)),a.zb("type",t.type),a.yb(2),a.gc("ngTemplateOutlet",t.contentTemplate),a.yb(1),a.gc("ngIf",t.icon),a.yb(1),a.zb("aria-hidden",t.icon&&!t.label),a.yb(1),a.Ac(t.label||"\xa0"),a.yb(1),a.gc("ngIf",t.badge))},directives:[u.a,s.w,s.q,s.A,s.t],encapsulation:2,changeDetection:0}),e}(),g=function(){var e=function e(){Object(r.a)(this,e)};return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[s.c,u.b]]}),e}()},YtkY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("uWoz"),i=n("Qvxn"),a=n("sTvq"),o=n("bI4O"),s=n("jg4I"),u=n("5uGe");function c(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l(e,t))}}var l=function(){function e(t,n){Object(o.a)(this,e),this.project=t,this.thisArg=n}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.project,this.thisArg))}}]),e}(),h=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,i,a){var s;return Object(o.a)(this,n),(s=t.call(this,e)).project=i,s.count=0,s.thisArg=a||Object(r.a)(s),s}return Object(s.a)(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(u.a)},ZTXN:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n("jg4I"),i=n("JRSL"),a=n("3OGo"),o=n("bI4O"),s=n("Qvxn"),u=n("sTvq"),c=n("IdLP"),l=n("5uGe"),h=n("bwdy"),f=n("MiDb"),d=n("yTkW"),p=n("25CY"),m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).destination=e,r}return n}(l.a),y=function(){var e=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return Object(r.a)(n,[{key:p.a,value:function(){return new m(this)}},{key:"lift",value:function(e){var t=new v(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new f.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new f.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new f.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new f.a;return Object(i.a)(Object(a.a)(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new f.a;return this.hasError?(e.error(this.thrownError),h.a.EMPTY):this.isStopped?(e.complete(),h.a.EMPTY):(this.observers.push(e),new d.a(this,e))}},{key:"asObservable",value:function(){var e=new c.a;return e.source=this,e}}]),n}(c.a);return e.create=function(e,t){return new v(e,t)},e}(),v=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this)).destination=e,i.source=r,i}return Object(r.a)(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):h.a.EMPTY}}]),n}(y)},"aLd+":function(e,t,n){var r=n("qW1w"),i=n("4rhd"),a=n("KLyV").Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,a=0|this._dh,s=0|this._eh,u=0|this._fh,g=0|this._gh,b=0|this._hh,E=0|this._al,w=0|this._bl,O=0|this._cl,C=0|this._dl,T=0|this._el,_=0|this._fl,A=0|this._gl,S=0|this._hl,N=0;N<32;N+=2)t[N]=e.readInt32BE(4*N),t[N+1]=e.readInt32BE(4*N+4);for(;N<160;N+=2){var k=t[N-30],j=t[N-30+1],x=d(k,j),M=p(j,k),R=m(k=t[N-4],j=t[N-4+1]),D=y(j,k),P=t[N-32],I=t[N-32+1],L=M+t[N-14+1]|0,F=x+t[N-14]+v(L,M)|0;F=(F=F+R+v(L=L+D|0,D)|0)+P+v(L=L+I|0,I)|0,t[N]=F,t[N+1]=L}for(var q=0;q<160;q+=2){F=t[q],L=t[q+1];var B=l(n,r,i),U=l(E,w,O),V=h(n,E),H=h(E,n),z=f(s,T),Q=f(T,s),W=o[q],K=o[q+1],G=c(s,u,g),J=c(T,_,A),Y=S+Q|0,Z=b+z+v(Y,S)|0;Z=(Z=(Z=Z+G+v(Y=Y+J|0,J)|0)+W+v(Y=Y+K|0,K)|0)+F+v(Y=Y+L|0,L)|0;var X=H+U|0,$=V+B+v(X,H)|0;b=g,S=A,g=u,A=_,u=s,_=T,s=a+Z+v(T=C+Y|0,C)|0,a=i,C=O,i=r,O=w,r=n,w=E,n=Z+$+v(E=Y+X|0,Y)|0}this._al=this._al+E|0,this._bl=this._bl+w|0,this._cl=this._cl+O|0,this._dl=this._dl+C|0,this._el=this._el+T|0,this._fl=this._fl+_|0,this._gl=this._gl+A|0,this._hl=this._hl+S|0,this._ah=this._ah+n+v(this._al,E)|0,this._bh=this._bh+r+v(this._bl,w)|0,this._ch=this._ch+i+v(this._cl,O)|0,this._dh=this._dh+a+v(this._dl,C)|0,this._eh=this._eh+s+v(this._el,T)|0,this._fh=this._fh+u+v(this._fl,_)|0,this._gh=this._gh+g+v(this._gl,A)|0,this._hh=this._hh+b+v(this._hl,S)|0},u.prototype._hash=function(){var e=a.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},bI4O:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},bo9S:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.transformFrom=function(e,t){return Array.isArray(e)?e.slice().reverse().reduce((function(e,t){return t.from(e)}),t):e.from(t)},e.transformTo=function(e,t){return Array.isArray(e)?e.reduce((function(e,t){return t.to(e)}),t):e.to(t)},e}()},bwdy:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("bI4O"),i=n("jg4I"),a=n("FU6l"),o=n("X0qr"),s=n("IJgj"),u=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),c=function(){var e,t=function(){function e(t){Object(r.a)(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return Object(i.a)(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){t=p instanceof u?l(p.errors):[p]}if(Object(a.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(o.a)(d))try{d.unsubscribe()}catch(p){t=t||[],p instanceof u?t=t.concat(l(p.errors)):t.push(p)}}if(t)throw new u(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return t.EMPTY=((e=new t).closed=!0,e),t}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof u?t.errors:t)}),[])}},c2R3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){e&&(this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}return e.prototype.clone=function(){return new e({name:this.name,expression:this.expression,materialized:this.materialized})},e.create=function(t,n){return new e({name:n.buildTableName(t.tableName,t.schema,t.database),expression:t.expression,materialized:t.tableMetadataArgs.materialized})},e}()},cJ9h:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("mW0F"),u=n("pBDD"),c=n("r9RI"),l=n("YtkY"),h=n("GoAz");function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(f((function(n,r){return Object(h.a)(e(n,r)).pipe(Object(l.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new d(e,n))})}var d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(a.a)(this,e),this.project=t,this.concurrent=n}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new p(e,this.project,this.concurrent))}}]),e}(),p=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(a.a)(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Object(o.a)(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new c.a(this,t,n),i=this.destination;i.add(r);var a=Object(s.a)(this,e,void 0,void 0,r);a!==r&&i.add(a)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(u.a)},cZZj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return l}));var r,i=n("bI4O"),a=n("EM62"),o=n("2kYt");try{r="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(f){r=!1}var s,u=function(){var e=function e(t){Object(i.a)(this,e),this._platformId=t,this.isBrowser=this._platformId?Object(o.I)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!r)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT};return e.\u0275fac=function(t){return new(t||e)(a.Tb(a.B))},e.\u0275prov=Object(a.Fb)({factory:function(){return new e(Object(a.Tb)(a.B))},token:e,providedIn:"root"}),e}(),c=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)}}),e}();function l(){return!("object"!=typeof document||!("scrollBehavior"in document.documentElement.style))}function h(){if("object"!=typeof document||!document)return 0;if(null==s){var e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";var n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),s=0,0===e.scrollLeft&&(e.scrollLeft=1,s=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return s}},ckkg:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("IdLP"),i=n("dUuy"),a=n("czMQ");function o(e,t){return t?Object(a.a)(e,t):new r.a(Object(i.a)(e))}},czMQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("IdLP"),i=n("bwdy");function a(e,t){return new r.a((function(n){var r=new i.a,a=0;return r.add(t.schedule((function(){a!==e.length?(n.next(e[a++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},dEMF:function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,h=s>0?o-4:o;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));return 1===i?a.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&a.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a=[],o=t;o<n;o+=3)a.push(r[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},dUuy:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},e4iD:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return F})),n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return N}));var r,i=n("JRSL"),a=n("3OGo"),o=n("bI4O"),s=n("jg4I"),u=n("Qvxn"),c=n("sTvq"),l=n("2kYt"),h=n("EM62"),f=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(t=n,r||(r=document.createElement("a")),r.setAttribute("href",t),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){d=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Object(l.M)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){Object(l.N)(new n)}}]),n}(function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.call(this)}return Object(s.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(l.J)),d=null,p=new h.q("TRANSITION_ID"),m=[{provide:h.d,useFactory:function(e,t,n){return function(){n.get(h.e).donePromise.then((function(){var n=Object(l.L)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[p,l.e,h.r],multi:!0}],y=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"addToWindow",value:function(e){h.nb.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},h.nb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},h.nb.getAllAngularRootElements=function(){return e.getAllRootElements()},h.nb.frameworkStabilizers||(h.nb.frameworkStabilizers=[]),h.nb.frameworkStabilizers.push((function(e){var t=h.nb.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?Object(l.L)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){Object(h.W)(new e)}}]),e}(),v=new h.q("EventManagerPlugins"),g=function(){var e=function(){function e(t,n){var r=this;Object(o.a)(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return Object(s.a)(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Tb(v),h.Tb(h.z))},e.\u0275prov=h.Fb({token:e,factory:e.\u0275fac}),e}(),b=function(){function e(t){Object(o.a)(this,e),this._doc=t}return Object(s.a)(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=Object(l.L)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),E=function(){var e=function(){function e(){Object(o.a)(this,e),this._stylesSet=new Set}return Object(s.a)(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=h.Fb({token:e,factory:e.\u0275fac}),e}(),w=function(){var e=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return Object(s.a)(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Object(l.L)().remove(e)}))}}]),n}(E);return e.\u0275fac=function(t){return new(t||e)(h.Tb(l.e))},e.\u0275prov=h.Fb({token:e,factory:e.\u0275fac}),e}(),O={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},C=/%COMP%/g,T="_nghost-".concat("%COMP%"),_="_ngcontent-".concat("%COMP%");function A(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?A(e,i,n):(i=i.replace(C,e),n.push(i))}return n}function S(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var N=function(){var e=function(){function e(t,n,r){Object(o.a)(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new k(t)}return Object(s.a)(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case h.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new j(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case h.P.Native:case h.P.ShadowDom:return new x(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=A(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(h.Tb(g),h.Tb(w),h.Tb(h.c))},e.\u0275prov=h.Fb({token:e,factory:e.\u0275fac}),e}(),k=function(){function e(t){Object(o.a)(this,e),this.eventManager=t,this.data=Object.create(null)}return Object(s.a)(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(O[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=O[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=O[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&h.F.DashCase?e.style.setProperty(t,n,r&h.F.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&h.F.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,S(n)):this.eventManager.addEventListener(e,t,S(n))}}]),e}(),j=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var s;Object(o.a)(this,n),(s=t.call(this,e)).component=i;var u=A(a+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr=_.replace(C,a+"-"+i.id),s.hostAttr=function(e){return T.replace(C,e)}(a+"-"+i.id),s}return Object(s.a)(n,[{key:"applyToHost",value:function(e){Object(i.a)(Object(a.a)(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=Object(i.a)(Object(a.a)(n.prototype),"createElement",this).call(this,e,t);return Object(i.a)(Object(a.a)(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(k),x=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var s;Object(o.a)(this,n),(s=t.call(this,e)).sharedStylesHost=r,s.hostEl=i,s.component=a,s.shadowRoot=a.encapsulation===h.P.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=A(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return Object(s.a)(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return Object(i.a)(Object(a.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return Object(i.a)(Object(a.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(Object(i.a)(Object(a.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(k),M=function(){var e=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(h.Tb(l.e))},e.\u0275prov=h.Fb({token:e,factory:e.\u0275fac}),e}(),R=["alt","control","meta","shift"],D={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},L=function(){var e=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),a=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Object(l.L)().onAndCancel(e,i.domEventName,a)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),a="";if(R.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")})),a+=i,0!=t.length||0===i.length)return null;var o={};return o.domEventName=r,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&P.hasOwnProperty(t)&&(t=P[t]))}return D[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),R.forEach((function(r){r!=n&&(0,I[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(b);return e.\u0275fac=function(t){return new(t||e)(h.Tb(l.e))},e.\u0275prov=h.Fb({token:e,factory:e.\u0275fac}),e}(),F=function(){var e=function e(){Object(o.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(h.Fb)({factory:function(){return Object(h.Tb)(B)},token:e,providedIn:"root"}),e}();function q(e){return new B(e.get(l.e))}var B=function(){var e=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this))._doc=e,r}return Object(s.a)(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case h.H.NONE:return t;case h.H.HTML:return Object(h.cb)(t,"HTML")?Object(h.ub)(t):Object(h.ab)(this._doc,String(t));case h.H.STYLE:return Object(h.cb)(t,"Style")?Object(h.ub)(t):t;case h.H.SCRIPT:if(Object(h.cb)(t,"Script"))return Object(h.ub)(t);throw new Error("unsafe value used in a script context");case h.H.URL:return Object(h.mb)(t),Object(h.cb)(t,"URL")?Object(h.ub)(t):Object(h.bb)(String(t));case h.H.RESOURCE_URL:if(Object(h.cb)(t,"ResourceURL"))return Object(h.ub)(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return Object(h.db)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return Object(h.gb)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return Object(h.fb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return Object(h.hb)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return Object(h.eb)(e)}}]),n}(F);return e.\u0275fac=function(t){return new(t||e)(h.Tb(l.e))},e.\u0275prov=Object(h.Fb)({factory:function(){return q(Object(h.Tb)(h.o))},token:e,providedIn:"root"}),e}(),U=[{provide:h.B,useValue:l.K},{provide:h.C,useValue:function(){f.makeCurrent(),y.init()},multi:!0},{provide:l.e,useFactory:function(){return Object(h.sb)(document),document},deps:[]}],V=Object(h.Q)(h.V,"browser",U),H=[[],{provide:h.Y,useValue:"root"},{provide:h.m,useFactory:function(){return new h.m},deps:[]},{provide:v,useClass:M,multi:!0,deps:[l.e,h.z,h.B]},{provide:v,useClass:L,multi:!0,deps:[l.e]},[],{provide:N,useClass:N,deps:[g,w,h.c]},{provide:h.E,useExisting:N},{provide:E,useExisting:w},{provide:w,useClass:w,deps:[l.e]},{provide:h.L,useClass:h.L,deps:[h.z]},{provide:g,useClass:g,deps:[v,h.z]},[]],z=function(){var e=function(){function e(t){if(Object(o.a)(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(s.a)(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:h.c,useValue:t.appId},{provide:p,useExisting:h.c},m]}}}]),e}();return e.\u0275mod=h.Hb({type:e}),e.\u0275inj=h.Gb({factory:function(t){return new(t||e)(h.Tb(e,12))},providers:H,imports:[l.c,h.f]}),e}();"undefined"!=typeof window&&window},"eY+9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},ecGF:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return h}));var r=function(){},i=function(){},a=function(){},o=function(){},s=function(){},u=function(){},c=function(){},l=function(){},h=function(){}},egf4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n("bI4O"),i=n("jg4I"),a=n("2kYt"),o=n("miYd"),s=n("EM62"),u=n("qUoL"),c=function(){var e=function(){function e(t,n,i){Object(r.a)(this,e),this.el=t,this.zone=n,this.config=i}return Object(i.a)(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.config&&this.config.ripple&&this.zone.runOutsideAngular((function(){e.create(),e.mouseDownListener=e.onMouseDown.bind(e),e.el.nativeElement.addEventListener("mousedown",e.mouseDownListener)}))}},{key:"onMouseDown",value:function(e){var t=this.getInk();if(t&&"none"!==getComputedStyle(t,null).display){if(o.a.removeClass(t,"p-ink-active"),!o.a.getHeight(t)&&!o.a.getWidth(t)){var n=Math.max(o.a.getOuterWidth(this.el.nativeElement),o.a.getOuterHeight(this.el.nativeElement));t.style.height=n+"px",t.style.width=n+"px"}var r=o.a.getOffset(this.el.nativeElement),i=e.pageX-r.left+document.body.scrollTop-o.a.getWidth(t)/2,a=e.pageY-r.top+document.body.scrollLeft-o.a.getHeight(t)/2;t.style.top=a+"px",t.style.left=i+"px",o.a.addClass(t,"p-ink-active")}}},{key:"getInk",value:function(){for(var e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}},{key:"resetInk",value:function(){var e=this.getInk();e&&o.a.removeClass(e,"p-ink-active")}},{key:"onAnimationEnd",value:function(e){o.a.removeClass(e.currentTarget,"p-ink-active")}},{key:"create",value:function(){var e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}},{key:"remove",value:function(){var e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),e.remove())}},{key:"ngOnDestroy",value:function(){this.config&&this.config.ripple&&this.remove()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Jb(s.l),s.Jb(s.z),s.Jb(u.d,8))},e.\u0275dir=s.Eb({type:e,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,t){2&e&&s.Bb("p-ripple",!0)}}),e}(),l=function(){var e=function e(){Object(r.a)(this,e)};return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e}()},"f7+R":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return E})),n.d(t,"p",(function(){return w}));var r=n("jg4I"),i=n("bI4O"),a=function e(){Object(i.a)(this,e)},o=function e(){Object(i.a)(this,e)},s="*";function u(e,t){return{type:7,name:e,definitions:t,options:{}}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function h(e){return{type:6,styles:e,offset:null}}function f(e,t,n){return{type:0,name:e,styles:t,options:n}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:e,options:t}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:e}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:e,options:t}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:e,animation:t,options:n}}function g(e){Promise.resolve(null).then(e)}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(i.a)(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return Object(r.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;g((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),E=function(){function e(t){var n=this;Object(i.a)(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,a=0,o=0,s=this.players.length;0==s?g((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==s&&n._onFinish()})),e.onDestroy((function(){++a==s&&n._onDestroy()})),e.onStart((function(){++o==s&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return Object(r.a)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),w="!"},g3OH:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(){var n=e.call(this)||this;return n.name="ReturningStatementNotSupportedError",Object.setPrototypeOf(n,t.prototype),n.message="OUTPUT or RETURNING clause only supported by Microsoft SQL Server or PostgreSQL databases.",n}return r.d(t,e),t}(Error)},g6G6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("IdLP"),i=n("gBlb"),a=n("3lSR"),o=n("ckkg");function s(){for(var e=Number.POSITIVE_INFINITY,t=null,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var c=s[s.length-1];return Object(i.a)(c)?(t=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(e=s.pop())):"number"==typeof c&&(e=s.pop()),null===t&&1===s.length&&s[0]instanceof r.a?s[0]:Object(a.a)(e)(Object(o.a)(s,t))}},gB9Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.sha1=function(e){var t,n,r,i,a,o,s,u,c,l=function(e,t){return e<<t|e>>>32-t},h=function(e){var t,n="";for(t=7;t>=0;t--)n+=(e>>>4*t&15).toString(16);return n},f=new Array(80),d=1732584193,p=4023233417,m=2562383102,y=271733878,v=3285377520,g=(e=encodeURIComponent(e)).length,b=[];for(n=0;n<g-3;n+=4)r=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),b.push(r);switch(g%4){case 0:n=2147483648;break;case 1:n=e.charCodeAt(g-1)<<24|8388608;break;case 2:n=e.charCodeAt(g-2)<<24|e.charCodeAt(g-1)<<16|32768;break;case 3:n=e.charCodeAt(g-3)<<24|e.charCodeAt(g-2)<<16|e.charCodeAt(g-1)<<8|128}for(b.push(n);b.length%16!=14;)b.push(0);for(b.push(g>>>29),b.push(g<<3&4294967295),t=0;t<b.length;t+=16){for(n=0;n<16;n++)f[n]=b[t+n];for(n=16;n<=79;n++)f[n]=l(f[n-3]^f[n-8]^f[n-14]^f[n-16],1);for(i=d,a=p,o=m,s=y,u=v,n=0;n<=19;n++)c=l(i,5)+(a&o|~a&s)+u+f[n]+1518500249&4294967295,u=s,s=o,o=l(a,30),a=i,i=c;for(n=20;n<=39;n++)c=l(i,5)+(a^o^s)+u+f[n]+1859775393&4294967295,u=s,s=o,o=l(a,30),a=i,i=c;for(n=40;n<=59;n++)c=l(i,5)+(a&o|a&s|o&s)+u+f[n]+2400959708&4294967295,u=s,s=o,o=l(a,30),a=i,i=c;for(n=60;n<=79;n++)c=l(i,5)+(a^o^s)+u+f[n]+3395469782&4294967295,u=s,s=o,o=l(a,30),a=i,i=c;d=d+i&4294967295,p=p+a&4294967295,m=m+o&4294967295,y=y+s&4294967295,v=v+u&4294967295}return(c=h(d)+h(p)+h(m)+h(y)+h(v)).toLowerCase()},e.uuid4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e}()},gBlb:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},gCgJ:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},gFhw:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("D57K"),i=n("HVZQ"),a=n("W6vy"),o=n("mj34"),s=n("n+lo"),u=n("qOrW"),c=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new s.a(n),n}return r.d(t,e),t.prototype.commitTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,e.prototype.commitTransaction.call(this)];case 1:return t.sent(),[4,this.driver.autoSave()];case 2:return t.sent(),[2]}}))}))},t.prototype.query=function(e,t){var n=this;if(this.isReleased)throw new a.a;return new Promise((function(i,a){return r.b(n,void 0,void 0,(function(){var n,o,s,c,l,h,f;return r.e(this,(function(r){n=this.driver.databaseConnection,this.driver.connection.logger.logQuery(e,t,this),o=+new Date;try{for((s=n.prepare(e)).bind(t),c=this.driver.connection.options.maxQueryExecutionTime,l=+new Date,h=l-o,c&&h>c&&this.driver.connection.logger.logQuerySlow(h,e,t,this),f=[];s.step();)f.push(s.getAsObject());s.free(),i(f)}catch(d){s&&s.free(),this.driver.connection.logger.logQueryError(d,e,t,this),a(new u.a(e,t,d))}return[2]}))}))}))},t}(o.a),l=n("tnr/"),h=n("GhIi"),f=n("qDrx"),d=n("h5d3"),p=function(e){function t(t){var n=e.call(this,t)||this;if(n.options.autoSave&&!n.options.location&&!n.options.autoSaveCallback)throw new h.a("location or autoSaveCallback");return n.loadDependencies(),n}return r.d(t,e),t.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){switch(t.label){case 0:return e=this,[4,this.createDatabaseConnection()];case 1:return e.databaseConnection=t.sent(),[2]}}))}))},t.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){return[2,new Promise((function(t,n){try{e.queryRunner=void 0,e.databaseConnection.close(),t()}catch(r){n(r)}}))]}))}))},t.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),this.queryRunner||(this.queryRunner=new c(this)),this.queryRunner},t.prototype.load=function(e,t){return void 0===t&&(t=!0),r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){switch(r.label){case 0:if("string"!=typeof e)return[3,8];if("node"!==f.a.type)return[3,1];if(f.a.fileExist(e))return n=f.a.readFileSync(e),[2,this.createDatabaseConnectionWithImport(n)];if(t)throw new Error("File "+e+" does not exist");return[2,this.createDatabaseConnectionWithImport()];case 1:return i=null,this.options.useLocalForage?window.localforage?[4,window.localforage.getItem(e)]:[3,3]:[3,5];case 2:return i=r.sent(),[3,4];case 3:throw new Error("localforage is not defined - please import localforage.js into your site");case 4:return[3,6];case 5:i=f.a.getGlobalVariable().localStorage.getItem(e),r.label=6;case 6:if(null!=i)return[2,this.createDatabaseConnectionWithImport(JSON.parse(i))];if(t)throw new Error("File "+e+" does not exist");return[2,this.createDatabaseConnectionWithImport()];case 7:return[3,9];case 8:return[2,this.createDatabaseConnectionWithImport(e)];case 9:return[2]}}))}))},t.prototype.save=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:if(!e&&!this.options.location)throw new Error("No location is set, specify a location parameter or add the location option to your configuration");if(t="",e?t=e:this.options.location&&(t=this.options.location),"node"!==f.a.type)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),n=new Buffer(this.databaseConnection.export()),[4,f.a.writeFile(t,n)];case 2:return r.sent(),[3,4];case 3:throw i=r.sent(),new Error("Could not save database, error: "+i);case 4:return[3,10];case 5:return a=this.databaseConnection.export(),o=[].slice.call(a),this.options.useLocalForage?window.localforage?[4,window.localforage.setItem(t,JSON.stringify(o))]:[3,7]:[3,9];case 6:return r.sent(),[3,8];case 7:throw new Error("localforage is not defined - please import localforage.js into your site");case 8:return[3,10];case 9:f.a.getGlobalVariable().localStorage.setItem(t,JSON.stringify(o)),r.label=10;case 10:return[2]}}))}))},t.prototype.autoSave=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return this.options.autoSave?this.options.autoSaveCallback?[4,this.options.autoSaveCallback(this.export())]:[3,2]:[3,4];case 1:return e.sent(),[3,4];case 2:return[4,this.save()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))},t.prototype.export=function(){return this.databaseConnection.export()},t.prototype.createGeneratedMap=function(e,t){var n=this,r=e.generatedColumns.reduce((function(e,t){if(t.isPrimary&&"increment"===t.generationStrategy){var r="SELECT last_insert_rowid()";try{var i=n.databaseConnection.exec(r);return n.connection.logger.logQuery(r),d.a.mergeDeep(e,t.createValueMap(i[0].values[0][0]))}catch(a){n.connection.logger.logQueryError(a,r,[])}}return e}),{});return Object.keys(r).length>0?r:void 0},t.prototype.createDatabaseConnection=function(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)},t.prototype.createDatabaseConnectionWithImport=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return"function"==typeof this.sqlite.Database?(n=this.sqlite,[3,3]):[3,1];case 1:return[4,this.sqlite(this.options.sqlJsConfig)];case 2:n=r.sent(),r.label=3;case 3:return t=n,this.databaseConnection=e&&e.length>0?new t.Database(e):new t.Database,[2,new Promise((function(e,t){try{i.databaseConnection.exec("PRAGMA foreign_keys = ON;"),e(i.databaseConnection)}catch(n){t(n)}}))]}}))}))},t.prototype.loadDependencies=function(){if("browser"===f.a.type)this.sqlite=window.SQL;else try{this.sqlite=f.a.load("sql.js")}catch(e){throw new l.a("sql.js","sql.js")}},t}(i.a)},gtRQ:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},guqX:function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n("KucK"),t.sha1=n("9TIw"),t.sha224=n("Wtu2"),t.sha256=n("KLYN"),t.sha384=n("k/xG"),t.sha512=n("aLd+")},h33d:function(e,t,n){"use strict";n.r(t),n.d(t,"SelectQueryBuilder",(function(){return S}));var r=n("D57K"),i=n("ecGF"),a=n("h5d3"),o=n("BIia"),s=n("/eLe"),u=function(){function e(e,t,n,r,i){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=n,this.rawRelationCountResults=r,this.queryRunner=i}return e.prototype.transform=function(e,t){var n=this,r=this.group(e,t),i=[];return r.forEach((function(e){var r=n.transformRawResultsGroup(e,t);void 0!==r&&i.push(r)})),i},e.prototype.group=function(e,t){var n=this,i=new Map,a=[];return a.push.apply(a,r.i("view"===t.metadata.tableType?t.metadata.columns.map((function(e){return s.a.buildColumnAlias(n.driver,t.name,e.databaseName)})):t.metadata.primaryColumns.map((function(e){return s.a.buildColumnAlias(n.driver,t.name,e.databaseName)})))),e.forEach((function(e){var t=a.map((function(t){var n=e[t];return Buffer.isBuffer(n)?n.toString("hex"):n})).join("_");if(t){var n=i.get(t);n?n.push(e):i.set(t,[e])}})),i},e.prototype.transformRawResultsGroup=function(e,t){var n=this,r=t.metadata;if(r.discriminatorColumn){var i=e.map((function(e){return e[s.a.buildColumnAlias(n.driver,t.name,t.metadata.discriminatorColumn.databaseName)]})),a=r.childEntityMetadatas.find((function(e){return!!i.find((function(t){return t===e.discriminatorValue}))}));a&&(r=a)}var o=-1!==this.expressionMap.options.indexOf("create-pojo")?{}:r.create(this.queryRunner),u=this.transformColumns(e,t,o,r),c=this.transformJoins(e,o,t,r),l=this.transformRelationIds(e,t,o,r),h=this.transformRelationCounts(e,t,o);return u||0===r.primaryColumns.filter((function(e){return!1===e.isVirtual})).length&&(c||l||h)?o:void 0},e.prototype.transformColumns=function(e,t,n,r){var i=this,a=!1;return r.columns.forEach((function(o){if(!(r.childEntityMetadatas.length>0&&-1!==r.childEntityMetadatas.map((function(e){return e.target})).indexOf(o.target))){var u=e[0][s.a.buildColumnAlias(i.driver,t.name,o.databaseName)];void 0===u||o.isVirtual||i.expressionMap.selects.find((function(e){return e.selection===t.name||e.selection===t.name+"."+o.propertyPath}))&&(o.setEntityValue(n,i.driver.prepareHydratedValue(u,o)),null!==u&&(a=!0))}})),a},e.prototype.transformJoins=function(e,t,n,r){var i=this,a=!1;return this.expressionMap.joinAttributes.forEach((function(o){if(o.metadata&&o.isSelected&&(!o.relation||r.relations.find((function(e){return e===o.relation})))){if(o.mapToProperty){if(o.mapToPropertyParentAlias!==n.name)return}else if(!o.relation||o.parentAlias!==n.name||o.relationPropertyPath!==o.relation.propertyPath)return;var s=i.transform(e,o.alias);s=o.isMany?s:s[0],void 0!==(s=o.isMany||void 0!==s?s:null)&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=s:o.relation.setEntityValue(t,s),a=!0)}})),a},e.prototype.transformRelationIds=function(e,t,n,r){var i=this,s=!1;return this.rawRelationIdResults.forEach((function(r){if(r.relationIdAttribute.parentAlias===t.name){var u=r.relationIdAttribute.relation,c=i.createValueMapFromJoinColumns(u,r.relationIdAttribute.parentAlias,e);if(null!=c){var l=r.results.map((function(e){var t=i.extractEntityPrimaryIds(u,e);if(!1!==o.a.compareIds(t,c)){var n,s=(n=u.isManyToOne||u.isOneToOneOwner?u.joinColumns.map((function(e){return e})):u.isOneToMany||u.isOneToOneNotOwner?u.inverseEntityMetadata.primaryColumns.map((function(e){return e})):u.isOwning?u.inverseJoinColumns.map((function(e){return e})):u.inverseRelation.joinColumns.map((function(e){return e}))).reduce((function(t,n){var r=e[n.databaseName];return u.isOneToMany||u.isOneToOneNotOwner?(n.referencedColumn&&(r=n.referencedColumn.createValueMap(r)),a.a.mergeDeep(t,n.createValueMap(r))):(n.referencedColumn.referencedColumn&&(r=n.referencedColumn.referencedColumn.createValueMap(r)),a.a.mergeDeep(t,n.referencedColumn.createValueMap(r)))}),{});return 1===n.length&&!1===r.relationIdAttribute.disableMixedMap?u.isOneToMany||u.isOneToOneNotOwner?n[0].getEntityValue(s):n[0].referencedColumn.getEntityValue(s):s}})).filter((function(e){return e})),h=r.relationIdAttribute.mapToPropertyPropertyPath.split("."),f=function e(t,n,r){var i=t.shift();return i&&0===t.length?(n[i]=r,n):i&&t.length>0?void e(t,n[i],r):n};u.isOneToOne||u.isManyToOne?void 0!==l[0]&&(f(h,n,l[0]),s=!0):(f(h,n,l),l.length>0&&(s=!0))}}})),s},e.prototype.transformRelationCounts=function(e,t,n){var r=this,i=!1;return this.rawRelationCountResults.filter((function(e){return e.relationCountAttribute.parentAlias===t.name})).forEach((function(a){var o=a.relationCountAttribute.relation,u=e[0][s.a.buildColumnAlias(r.driver,t.name,o.isOneToMany?o.inverseRelation.joinColumns[0].referencedColumn.databaseName:o.isOwning?o.joinColumns[0].referencedColumn.databaseName:o.inverseRelation.joinColumns[0].referencedColumn.databaseName)];null!=u&&(n[a.relationCountAttribute.mapToPropertyPropertyName]=0,a.results.filter((function(e){return e.parentId===u})).forEach((function(e){n[a.relationCountAttribute.mapToPropertyPropertyName]=parseInt(e.cnt),i=!0})))})),i},e.prototype.createValueMapFromJoinColumns=function(e,t,n){var r=this;return(e.isManyToOne||e.isOneToOneOwner?e.entityMetadata.primaryColumns.map((function(e){return e})):e.isOneToMany||e.isOneToOneNotOwner?e.inverseRelation.joinColumns.map((function(e){return e})):e.isOwning?e.joinColumns.map((function(e){return e})):e.inverseRelation.inverseJoinColumns.map((function(e){return e}))).reduce((function(i,a){return n.forEach((function(n){i[a.databaseName]=r.driver.prepareHydratedValue(e.isManyToOne||e.isOneToOneOwner?n[s.a.buildColumnAlias(r.driver,t,a.databaseName)]:n[s.a.buildColumnAlias(r.driver,t,a.referencedColumn.databaseName)],a)})),i}),{})},e.prototype.extractEntityPrimaryIds=function(e,t){return(e.isManyToOne||e.isOneToOneOwner?e.entityMetadata.primaryColumns.map((function(e){return e})):e.isOneToMany||e.isOneToOneNotOwner?e.inverseRelation.joinColumns.map((function(e){return e})):e.isOwning?e.joinColumns.map((function(e){return e})):e.inverseRelation.inverseJoinColumns.map((function(e){return e}))).reduce((function(e,n){return e[n.databaseName]=t[n.databaseName],e}),{})},e}(),c=function(e){function t(){var n=e.call(this)||this;return n.name="PessimisticLockTransactionRequiredError",Object.setPrototypeOf(n,t.prototype),n.message="An open transaction is required for pessimistic lock.",n}return r.d(t,e),t}(Error),l=function(e){function t(n){var r=e.call(this)||this;return r.name="NoVersionOrUpdateDateColumnError",Object.setPrototypeOf(r,t.prototype),r.message="Entity "+n+" does not have version or update date columns.",r}return r.d(t,e),t}(Error),h=function(e){function t(n,r,i){var a=e.call(this)||this;return a.name="OptimisticLockVersionMismatchError",Object.setPrototypeOf(a,t.prototype),a.message="The optimistic lock on entity "+n+" failed, version "+r+" was expected, but is actually "+i+".",a}return r.d(t,e),t}(Error),f=function(e){function t(){var n=e.call(this)||this;return n.name="OptimisticLockCanNotBeUsedError",Object.setPrototypeOf(n,t.prototype),n.message="The optimistic lock can be used only with getOne() method.",n}return r.d(t,e),t}(Error),d=n("PVwi"),p=n("oxA/"),m=n("q+tU"),y=function(){function e(e,t,n){this.connection=e,this.queryRunner=t,this.relationIdAttributes=n}return e.prototype.load=function(e){return r.b(this,void 0,void 0,(function(){var t,n=this;return r.e(this,(function(i){return t=this.relationIdAttributes.map((function(t){return r.b(n,void 0,void 0,(function(){var n,i,a,o,u,c,l,h,f,d,p,m,y,v,g,b,E,w,O,C,T,_=this;return r.e(this,(function(A){switch(A.label){case 0:if(!t.relation.isManyToOne&&!t.relation.isOneToOneOwner)return[3,1];if(t.queryBuilderFactory)throw new Error("Additional condition can not be used with ManyToOne or OneToOne owner relations.");return T=e.map((function(e){var n={};return t.relation.joinColumns.forEach((function(r){n[r.databaseName]=_.connection.driver.prepareHydratedValue(e[s.a.buildColumnAlias(_.connection.driver,t.parentAlias,r.databaseName)],r.referencedColumn)})),t.relation.entityMetadata.primaryColumns.forEach((function(r){n[r.databaseName]=_.connection.driver.prepareHydratedValue(e[s.a.buildColumnAlias(_.connection.driver,t.parentAlias,r.databaseName)],r)})),n})),[2,{relationIdAttribute:t,results:T}];case 1:return t.relation.isOneToMany||t.relation.isOneToOneNotOwner?(i=(n=t.relation).isOwning?n.joinColumns:n.inverseRelation.joinColumns,a=n.inverseEntityMetadata.target,o=n.inverseEntityMetadata.tableName,u=t.alias||o,c={},(O=e.map((function(e,n){return i.map((function(r){var i=r.databaseName+n;return c[i]=e[s.a.buildColumnAlias(_.connection.driver,t.parentAlias,r.referencedColumn.databaseName)],u+"."+r.propertyPath+" = :"+i})).join(" AND ")})).map((function(e){return"("+e+")"})).join(" OR "))?(l=this.connection.createQueryBuilder(this.queryRunner),i.forEach((function(e){l.addSelect(u+"."+e.propertyPath,e.databaseName)})),n.inverseRelation.entityMetadata.primaryColumns.forEach((function(e){l.addSelect(u+"."+e.propertyPath,e.databaseName)})),l.from(a,u).where("("+O+")").setParameters(c),t.queryBuilderFactory&&t.queryBuilderFactory(l),[4,l.getRawMany()]):[2,{relationIdAttribute:t,results:[]}]):[3,3];case 2:return(T=A.sent()).forEach((function(e){i.forEach((function(t){e[t.databaseName]=_.connection.driver.prepareHydratedValue(e[t.databaseName],t.referencedColumn)})),n.inverseRelation.entityMetadata.primaryColumns.forEach((function(t){e[t.databaseName]=_.connection.driver.prepareHydratedValue(e[t.databaseName],t)}))})),[2,{relationIdAttribute:t,results:T}];case 3:return f=(h=t.relation).isOwning?h.joinColumns:h.inverseRelation.inverseJoinColumns,d=h.isOwning?h.inverseJoinColumns:h.inverseRelation.joinColumns,p=t.junctionAlias,m=t.joinInverseSideMetadata.tableName,y=t.alias||m,v=h.isOwning?h.junctionEntityMetadata.tableName:h.inverseRelation.junctionEntityMetadata.tableName,0===(g=e.map((function(e){return f.reduce((function(n,r){return n[r.propertyPath]=e[s.a.buildColumnAlias(_.connection.driver,t.parentAlias,r.referencedColumn.databaseName)],n}),{})}))).length?[2,{relationIdAttribute:t,results:[]}]:(b={},E=g.map((function(e,t){return Object.keys(e).map((function(n){var r=n+t;return b[r]=e[n],p+"."+n+" = :"+r})).join(" AND ")})),w=d.map((function(e){return p+"."+e.propertyPath+" = "+y+"."+e.referencedColumn.propertyPath})).join(" AND "),O=E.map((function(e){return"("+e+" AND "+w+")"})).join(" OR "),C=this.connection.createQueryBuilder(this.queryRunner),d.forEach((function(e){C.addSelect(p+"."+e.propertyPath,e.databaseName).addOrderBy(p+"."+e.propertyPath)})),f.forEach((function(e){C.addSelect(p+"."+e.propertyPath,e.databaseName).addOrderBy(p+"."+e.propertyPath)})),C.from(m,y).innerJoin(v,p,O).setParameters(b),t.queryBuilderFactory&&t.queryBuilderFactory(C),[4,C.getRawMany()]);case 4:return(T=A.sent()).forEach((function(e){r.i(f,d).forEach((function(t){e[t.databaseName]=_.connection.driver.prepareHydratedValue(e[t.databaseName],t.referencedColumn)}))})),[2,{relationIdAttribute:t,results:T}]}}))}))})),[2,Promise.all(t)]}))}))},e}(),v=function(){function e(e){this.expressionMap=e}return e.prototype.transform=function(){var e=this;this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach((function(t){var n=e.metadataToAttribute(e.expressionMap.mainAlias.name,t);e.expressionMap.relationIdAttributes.push(n)})),this.expressionMap.joinAttributes.forEach((function(t){t.metadata&&!t.metadata.isJunction&&t.metadata.relationIds.forEach((function(n){var r=e.metadataToAttribute(t.alias.name,n);e.expressionMap.relationIdAttributes.push(r)}))}))},e.prototype.metadataToAttribute=function(e,t){return new p.a(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})},e}(),g=function(){function e(e,t,n){this.connection=e,this.queryRunner=t,this.relationCountAttributes=n}return e.prototype.load=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i=this;return r.e(this,(function(a){return t=function(e,t,n){return n.indexOf(e)===t},n=this.relationCountAttributes.map((function(n){return r.b(i,void 0,void 0,(function(){var i,a,o,s,u,c,l,h,f,d,p,m,y,v,g,b,E,w;return r.e(this,(function(r){switch(r.label){case 0:return n.relation.isOneToMany?(o=(a=(i=n.relation).inverseRelation).joinColumns[0].referencedColumn.propertyName,s=i.inverseEntityMetadata.target,y=i.inverseEntityMetadata.tableName,v=n.alias||y,u=a.propertyName,0===(p=(p=e.map((function(e){return e[n.parentAlias+"_"+o]})).filter((function(e){return!!e}))).filter(t)).length?[2,{relationCountAttribute:n,results:[]}]:((E=this.connection.createQueryBuilder(this.queryRunner)).select(v+"."+u,"parentId").addSelect("COUNT(*)","cnt").from(s,v).where(v+"."+u+" IN (:...ids)").addGroupBy(v+"."+u).setParameter("ids",p),n.queryBuilderFactory&&n.queryBuilderFactory(E),c={relationCountAttribute:n},[4,E.getRawMany()])):[3,2];case 1:return[2,(c.results=r.sent(),c)];case 2:return h=void 0,f=void 0,d=void 0,n.relation.isOwning?(l=n.relation.joinColumns[0].referencedColumn.databaseName,h=n.relation.inverseJoinColumns[0].referencedColumn.databaseName,f=n.relation.junctionEntityMetadata.columns[0],d=n.relation.junctionEntityMetadata.columns[1]):(l=n.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,h=n.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,f=n.relation.junctionEntityMetadata.columns[1],d=n.relation.junctionEntityMetadata.columns[0]),0===(p=(p=e.map((function(e){return e[n.parentAlias+"_"+l]})).filter((function(e){return!!e}))).filter(t)).length?[2,{relationCountAttribute:n,results:[]}]:(y=n.joinInverseSideMetadata.tableName,v=n.alias||y,g=n.relation.junctionEntityMetadata.tableName,b=(m=n.junctionAlias)+"."+f.propertyName+" IN ("+p.map((function(e){return isNaN(e)?"'"+e+"'":e}))+") AND "+m+"."+d.propertyName+" = "+v+"."+h,(E=this.connection.createQueryBuilder(this.queryRunner)).select(m+"."+f.propertyName,"parentId").addSelect("COUNT("+E.escape(v)+"."+E.escape(h)+")","cnt").from(y,v).innerJoin(g,m,b).addGroupBy(m+"."+f.propertyName),n.queryBuilderFactory&&n.queryBuilderFactory(E),w={relationCountAttribute:n},[4,E.getRawMany()]);case 3:return[2,(w.results=r.sent(),w)]}}))}))})),[2,Promise.all(n)]}))}))},e}(),b=function(){function e(e){this.expressionMap=e}return e.prototype.transform=function(){var e=this;this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach((function(t){var n=e.metadataToAttribute(e.expressionMap.mainAlias.name,t);e.expressionMap.relationCountAttributes.push(n)})),this.expressionMap.joinAttributes.forEach((function(t){t.metadata&&!t.metadata.isJunction&&t.metadata.relationCounts.forEach((function(n){var r=e.metadataToAttribute(t.alias.name,n);e.expressionMap.relationCountAttributes.push(r)}))}))},e.prototype.metadataToAttribute=function(e,t){return new m.a(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})},e}(),E=n("DC8z"),w=function(e){function t(){var n=e.call(this)||this;return n.name="LockNotSupportedOnGivenDriverError",Object.setPrototypeOf(n,t.prototype),n.message="Locking not supported on given driver.",n}return r.d(t,e),t}(Error),O=n("HVZQ"),C=function(e){function t(){var n=e.call(this)||this;return n.name="OffsetWithoutLimitNotSupportedError",Object.setPrototypeOf(n,t.prototype),n.message="RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).",n}return r.d(t,e),t}(Error),T=n("2ELk"),_=n("PFrq"),A=n("u6gj"),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.getQuery=function(){var e=this.createSelectExpression();return e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e=(e+=this.createLockExpression()).trim(),this.expressionMap.subQuery&&(e="("+e+")"),e},t.prototype.subQuery=function(){var e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.expressionMap.parentQueryBuilder=this,e},t.prototype.select=function(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map((function(e){return{selection:e}}));else if(e instanceof Function){var n=e(this.subQuery());this.setParameters(n.getParameters()),this.expressionMap.selects.push({selection:n.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this},t.prototype.addSelect=function(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map((function(e){return{selection:e}})));else if(e instanceof Function){var n=e(this.subQuery());this.setParameters(n.getParameters()),this.expressionMap.selects.push({selection:n.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this},t.prototype.distinct=function(e){return void 0===e&&(e=!0),this.expressionMap.selectDistinct=e,this},t.prototype.distinctOn=function(e){return this.expressionMap.selectDistinctOn=e,this},t.prototype.from=function(e,t){var n=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(n),this},t.prototype.addFrom=function(e,t){var n=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(n),this},t.prototype.innerJoin=function(e,t,n,r){return void 0===n&&(n=""),this.join("INNER",e,t,n,r),this},t.prototype.leftJoin=function(e,t,n,r){return void 0===n&&(n=""),this.join("LEFT",e,t,n,r),this},t.prototype.innerJoinAndSelect=function(e,t,n,r){return void 0===n&&(n=""),this.addSelect(t),this.innerJoin(e,t,n,r),this},t.prototype.leftJoinAndSelect=function(e,t,n,r){return void 0===n&&(n=""),this.addSelect(t),this.leftJoin(e,t,n,r),this},t.prototype.innerJoinAndMapMany=function(e,t,n,r,i){return void 0===r&&(r=""),this.addSelect(n),this.join("INNER",t,n,r,i,e,!0),this},t.prototype.innerJoinAndMapOne=function(e,t,n,r,i){return void 0===r&&(r=""),this.addSelect(n),this.join("INNER",t,n,r,i,e,!1),this},t.prototype.leftJoinAndMapMany=function(e,t,n,r,i){return void 0===r&&(r=""),this.addSelect(n),this.join("LEFT",t,n,r,i,e,!0),this},t.prototype.leftJoinAndMapOne=function(e,t,n,r,i){return void 0===r&&(r=""),this.addSelect(n),this.join("LEFT",t,n,r,i,e,!1),this},t.prototype.loadRelationIdAndMap=function(e,t,n,r){var i=new p.a(this.expressionMap);return i.mapToProperty=e,i.relationName=t,"string"==typeof n&&(i.alias=n),n instanceof Object&&n.disableMixedMap&&(i.disableMixedMap=!0),i.queryBuilderFactory=r,this.expressionMap.relationIdAttributes.push(i),i.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:i.junctionAlias,metadata:i.relation.junctionEntityMetadata}),this},t.prototype.loadRelationCountAndMap=function(e,t,n,r){var i=new m.a(this.expressionMap);return i.mapToProperty=e,i.relationName=t,i.alias=n,i.queryBuilderFactory=r,this.expressionMap.relationCountAttributes.push(i),this.expressionMap.createAlias({type:"other",name:i.junctionAlias}),i.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:i.junctionAlias,metadata:i.relation.junctionEntityMetadata}),this},t.prototype.loadAllRelationIds=function(e){var t=this;return this.expressionMap.mainAlias.metadata.relations.forEach((function(n){void 0!==e&&void 0!==e.relations&&-1===e.relations.indexOf(n.propertyPath)||t.loadRelationIdAndMap(t.expressionMap.mainAlias.name+"."+n.propertyPath,t.expressionMap.mainAlias.name+"."+n.propertyPath,e)})),this},t.prototype.where=function(e,t){this.expressionMap.wheres=[];var n=this.computeWhereParameter(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this},t.prototype.andWhere=function(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.orWhere=function(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.whereInIds=function(e){return this.where(this.createWhereIdsExpression(e))},t.prototype.andWhereInIds=function(e){return this.andWhere(this.createWhereIdsExpression(e))},t.prototype.orWhereInIds=function(e){return this.orWhere(this.createWhereIdsExpression(e))},t.prototype.having=function(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this},t.prototype.andHaving=function(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this},t.prototype.orHaving=function(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this},t.prototype.groupBy=function(e){return this.expressionMap.groupBys=e?[e]:[],this},t.prototype.addGroupBy=function(e){return this.expressionMap.groupBys.push(e),this},t.prototype.orderBy=function(e,t,n){var r,i;if(void 0===t&&(t="ASC"),void 0!==t&&"ASC"!==t&&"DESC"!==t)throw new Error('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(void 0!==n&&"NULLS FIRST"!==n&&"NULLS LAST"!==n)throw new Error('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return this.expressionMap.orderBys=e?e instanceof Object?e:n?((r={})[e]={order:t,nulls:n},r):((i={})[e]=t,i):{},this},t.prototype.addOrderBy=function(e,t,n){if(void 0===t&&(t="ASC"),void 0!==t&&"ASC"!==t&&"DESC"!==t)throw new Error('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(void 0!==n&&"NULLS FIRST"!==n&&"NULLS LAST"!==n)throw new Error('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return this.expressionMap.orderBys[e]=n?{order:t,nulls:n}:t,this},t.prototype.limit=function(e){if(this.expressionMap.limit=this.normalizeNumber(e),void 0!==this.expressionMap.limit&&isNaN(this.expressionMap.limit))throw new Error('Provided "limit" value is not a number. Please provide a numeric value.');return this},t.prototype.offset=function(e){if(this.expressionMap.offset=this.normalizeNumber(e),void 0!==this.expressionMap.offset&&isNaN(this.expressionMap.offset))throw new Error('Provided "offset" value is not a number. Please provide a numeric value.');return this},t.prototype.take=function(e){if(this.expressionMap.take=this.normalizeNumber(e),void 0!==this.expressionMap.take&&isNaN(this.expressionMap.take))throw new Error('Provided "take" value is not a number. Please provide a numeric value.');return this},t.prototype.skip=function(e){if(this.expressionMap.skip=this.normalizeNumber(e),void 0!==this.expressionMap.skip&&isNaN(this.expressionMap.skip))throw new Error('Provided "skip" value is not a number. Please provide a numeric value.');return this},t.prototype.setLock=function(e,t){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this},t.prototype.withDeleted=function(){return this.expressionMap.withDeleted=!0,this},t.prototype.getRawOne=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return[4,this.getRawMany()];case 1:return[2,e.sent()[0]]}}))}))},t.prototype.getRawMany=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i;return r.e(this,(function(r){switch(r.label){case 0:if("optimistic"===this.expressionMap.lockMode)throw new f;this.expressionMap.queryEntity=!1,e=this.obtainQueryRunner(),t=!1,r.label=1;case 1:return r.trys.push([1,7,12,15]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:r.sent(),t=!0,r.label=3;case 3:return[4,this.loadRawResults(e)];case 4:return n=r.sent(),t?[4,e.commitTransaction()]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2,n];case 7:if(i=r.sent(),!t)return[3,11];r.label=8;case 8:return r.trys.push([8,10,,11]),[4,e.rollbackTransaction()];case 9:case 10:return r.sent(),[3,11];case 11:throw i;case 12:return e===this.queryRunner?[3,14]:[4,e.release()];case 13:r.sent(),r.label=14;case 14:return[7];case 15:return[2]}}))}))},t.prototype.getRawAndEntities=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i;return r.e(this,(function(r){switch(r.label){case 0:e=this.obtainQueryRunner(),t=!1,r.label=1;case 1:return r.trys.push([1,7,12,15]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:r.sent(),t=!0,r.label=3;case 3:return this.expressionMap.queryEntity=!0,[4,this.executeEntitiesAndRawResults(e)];case 4:return n=r.sent(),t?[4,e.commitTransaction()]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2,n];case 7:if(i=r.sent(),!t)return[3,11];r.label=8;case 8:return r.trys.push([8,10,,11]),[4,e.rollbackTransaction()];case 9:case 10:return r.sent(),[3,11];case 11:throw i;case 12:return e===this.queryRunner?[3,14]:[4,e.release()];case 13:r.sent(),r.label=14;case 14:return[7];case 15:return[2]}}))}))},t.prototype.getOne=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.getRawAndEntities()];case 1:if(e=r.sent(),(t=e.entities[0])&&"optimistic"===this.expressionMap.lockMode&&this.expressionMap.lockVersion)if(n=this.expressionMap.mainAlias.metadata,this.expressionMap.lockVersion instanceof Date){if((i=n.updateDateColumn.getEntityValue(t)).getTime()!==this.expressionMap.lockVersion.getTime())throw new h(n.name,this.expressionMap.lockVersion,i)}else if((i=n.versionColumn.getEntityValue(t))!==this.expressionMap.lockVersion)throw new h(n.name,this.expressionMap.lockVersion,i);return[2,t]}}))}))},t.prototype.getMany=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if("optimistic"===this.expressionMap.lockMode)throw new f;return[4,this.getRawAndEntities()];case 1:return[2,e.sent().entities]}}))}))},t.prototype.getCount=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i;return r.e(this,(function(r){switch(r.label){case 0:if("optimistic"===this.expressionMap.lockMode)throw new f;e=this.obtainQueryRunner(),t=!1,r.label=1;case 1:return r.trys.push([1,7,12,15]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:r.sent(),t=!0,r.label=3;case 3:return this.expressionMap.queryEntity=!1,[4,this.executeCountQuery(e)];case 4:return n=r.sent(),t?[4,e.commitTransaction()]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2,n];case 7:if(i=r.sent(),!t)return[3,11];r.label=8;case 8:return r.trys.push([8,10,,11]),[4,e.rollbackTransaction()];case 9:case 10:return r.sent(),[3,11];case 11:throw i;case 12:return e===this.queryRunner?[3,14]:[4,e.release()];case 13:r.sent(),r.label=14;case 14:return[7];case 15:return[2]}}))}))},t.prototype.getManyAndCount=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:if("optimistic"===this.expressionMap.lockMode)throw new f;e=this.obtainQueryRunner(),t=!1,r.label=1;case 1:return r.trys.push([1,8,13,16]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:r.sent(),t=!0,r.label=3;case 3:return this.expressionMap.queryEntity=!0,[4,this.executeEntitiesAndRawResults(e)];case 4:return n=r.sent(),this.expressionMap.queryEntity=!1,[4,this.executeCountQuery(e)];case 5:return i=r.sent(),a=[n.entities,i],t?[4,e.commitTransaction()]:[3,7];case 6:r.sent(),r.label=7;case 7:return[2,a];case 8:if(o=r.sent(),!t)return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,e.rollbackTransaction()];case 10:case 11:return r.sent(),[3,12];case 12:throw o;case 13:return e===this.queryRunner?[3,15]:[4,e.release()];case 14:r.sent(),r.label=15;case 15:return[7];case 16:return[2]}}))}))},t.prototype.stream=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o,s,u,c=this;return r.e(this,(function(l){switch(l.label){case 0:this.expressionMap.queryEntity=!1,e=r.g(this.getQueryAndParameters(),2),t=e[0],n=e[1],i=this.obtainQueryRunner(),a=!1,l.label=1;case 1:return l.trys.push([1,6,11,14]),!0!==this.expressionMap.useTransaction||!1!==i.isTransactionActive?[3,3]:[4,i.startTransaction()];case 2:l.sent(),a=!0,l.label=3;case 3:return o=function(){if(i!==c.queryRunner)return i.release()},s=i.stream(t,n,o,o),a?[4,i.commitTransaction()]:[3,5];case 4:l.sent(),l.label=5;case 5:return[2,s];case 6:if(u=l.sent(),!a)return[3,10];l.label=7;case 7:return l.trys.push([7,9,,10]),[4,i.rollbackTransaction()];case 8:case 9:return l.sent(),[3,10];case 10:throw u;case 11:return i===this.queryRunner?[3,13]:[4,i.release()];case 12:l.sent(),l.label=13;case 13:return[7];case 14:return[2]}}))}))},t.prototype.cache=function(e,t){return"boolean"==typeof e?this.expressionMap.cache=e:"number"==typeof e?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):"string"!=typeof e&&"number"!=typeof e||(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this},t.prototype.setOption=function(e){return this.expressionMap.options.push(e),this},t.prototype.join=function(e,t,n,r,i,a,o){this.setParameters(i||{});var s=new d.a(this.connection,this.expressionMap);if(s.direction=e,s.mapToProperty=a,s.isMappingMany=o,s.entityOrProperty=t,s.condition=r,this.expressionMap.joinAttributes.push(s),s.metadata)s.alias=this.expressionMap.createAlias({type:"join",name:n,metadata:s.metadata}),s.relation&&s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata});else{var u="";if(t instanceof Function){var c=t(this.subQuery());this.setParameters(c.getParameters()),u=c.getQuery()}else u=t;var l=t instanceof Function||"("===t.substr(0,1)&&")"===t.substr(-1);s.alias=this.expressionMap.createAlias({type:"join",name:n,tablePath:!1===l?t:void 0,subQuery:!0===l?u:void 0})}},t.prototype.createSelectExpression=function(){var e=this;if(!this.expressionMap.mainAlias)throw new Error("Cannot build query because main alias is not set (call qb#from method)");var t=[],n=[];if(this.expressionMap.mainAlias.hasMetadata){var a=this.expressionMap.mainAlias.metadata;t.push.apply(t,r.i(this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,a))),n.push.apply(n,r.i(this.findEntityColumnSelects(this.expressionMap.mainAlias.name,a)))}this.expressionMap.joinAttributes.forEach((function(i){if(i.metadata)t.push.apply(t,r.i(e.buildEscapedEntityColumnSelects(i.alias.name,i.metadata))),n.push.apply(n,r.i(e.findEntityColumnSelects(i.alias.name,i.metadata)));else if(e.expressionMap.selects.some((function(e){return e.selection===i.alias.name}))){t.push({selection:e.escape(i.alias.name)+".*"});var a=e.expressionMap.selects.find((function(e){return e.selection===i.alias.name}));n.push(a)}})),this.expressionMap.selects.filter((function(e){return-1===n.indexOf(e)})).forEach((function(n){return t.push({selection:e.replacePropertyNames(n.selection),aliasName:n.aliasName})})),0===t.length&&t.push({selection:"*"});var o="";if(this.connection.driver instanceof i.i)switch(this.expressionMap.lockMode){case"pessimistic_read":o=" WITH (HOLDLOCK, ROWLOCK)";break;case"pessimistic_write":o=" WITH (UPDLOCK, ROWLOCK)";break;case"dirty_read":o=" WITH (NOLOCK)"}var s=this.expressionMap.aliases.filter((function(e){return"from"===e.type&&(e.tablePath||e.subQuery)})).map((function(t){return t.subQuery?t.subQuery+" "+e.escape(t.name):e.getTableName(t.tablePath)+" "+e.escape(t.name)}));return this.createSelectDistinctExpression()+t.map((function(t){return t.selection+(t.aliasName?" AS "+e.escape(t.aliasName):"")})).join(", ")+" FROM "+s.join(", ")+o},t.prototype.createSelectDistinctExpression=function(){var e=this,t=this.expressionMap,n=t.selectDistinct,r=t.selectDistinctOn,a="SELECT ";return this.connection.driver instanceof i.g&&r.length>0?a="SELECT DISTINCT ON ("+r.map((function(t){return e.replacePropertyNames(t)})).join(", ")+") ":n&&(a="SELECT DISTINCT "),a},t.prototype.createJoinExpression=function(){var e=this;return this.expressionMap.joinAttributes.map((function(t){var n=t.relation,r=t.tablePath,i=t.alias.name,a=t.condition?" AND ("+t.condition+")":"",o=t.parentAlias;if(!o||!n){var s=t.alias.subQuery?t.alias.subQuery:e.getTableName(r);return" "+t.direction+" JOIN "+s+" "+e.escape(i)+(t.condition?" ON "+e.replacePropertyNames(t.condition):"")}if(n.isManyToOne||n.isOneToOneOwner){var u=n.joinColumns.map((function(e){return i+"."+e.referencedColumn.propertyPath+"="+o+"."+n.propertyPath+"."+e.referencedColumn.propertyPath})).join(" AND ");return" "+t.direction+" JOIN "+e.getTableName(r)+" "+e.escape(i)+" ON "+e.replacePropertyNames(u+a)}if(n.isOneToMany||n.isOneToOneNotOwner)return u=n.inverseRelation.joinColumns.map((function(e){return i+"."+n.inverseRelation.propertyPath+"."+e.referencedColumn.propertyPath+"="+o+"."+e.referencedColumn.propertyPath})).join(" AND ")," "+t.direction+" JOIN "+e.getTableName(r)+" "+e.escape(i)+" ON "+e.replacePropertyNames(u+a);var c=n.junctionEntityMetadata.tablePath,l=t.junctionAlias,h="",f="";return n.isOwning?(h=n.joinColumns.map((function(e){return l+"."+e.propertyPath+"="+o+"."+e.referencedColumn.propertyPath})).join(" AND "),f=n.inverseJoinColumns.map((function(e){return i+"."+e.referencedColumn.propertyPath+"="+l+"."+e.propertyPath})).join(" AND ")):(h=n.inverseRelation.inverseJoinColumns.map((function(e){return l+"."+e.propertyPath+"="+o+"."+e.referencedColumn.propertyPath})).join(" AND "),f=n.inverseRelation.joinColumns.map((function(e){return i+"."+e.referencedColumn.propertyPath+"="+l+"."+e.propertyPath})).join(" AND "))," "+t.direction+" JOIN "+e.getTableName(c)+" "+e.escape(l)+" ON "+e.replacePropertyNames(h)+" "+t.direction+" JOIN "+e.getTableName(r)+" "+e.escape(i)+" ON "+e.replacePropertyNames(f+a)})).join(" ")},t.prototype.createGroupByExpression=function(){return this.expressionMap.groupBys&&this.expressionMap.groupBys.length?" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", ")):""},t.prototype.createOrderByExpression=function(){var e=this,t=this.expressionMap.allOrderBys;return Object.keys(t).length>0?" ORDER BY "+Object.keys(t).map((function(n){return"string"==typeof t[n]?e.replacePropertyNames(n)+" "+t[n]:e.replacePropertyNames(n)+" "+t[n].order+" "+t[n].nulls})).join(", "):""},t.prototype.createLimitOffsetExpression=function(){var e=this.expressionMap.offset,t=this.expressionMap.limit;if(e||t||0!==this.expressionMap.joinAttributes.length||(e=this.expressionMap.skip,t=this.expressionMap.take),this.connection.driver instanceof i.i){var n="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(n=" ORDER BY (SELECT NULL)"),t&&e)return n+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return n+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return n+" OFFSET "+e+" ROWS"}else if(this.connection.driver instanceof i.e||this.connection.driver instanceof A.a||this.connection.driver instanceof i.h){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new C}else if(this.connection.driver instanceof O.a){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if(this.connection.driver instanceof i.f){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""},t.prototype.createLockExpression=function(){var e=this.connection.driver;switch(this.expressionMap.lockMode){case"pessimistic_read":if(e instanceof i.e||e instanceof A.a)return" LOCK IN SHARE MODE";if(e instanceof i.g)return" FOR SHARE";if(e instanceof i.f)return" FOR UPDATE";if(e instanceof i.i)return"";throw new w;case"pessimistic_write":if(e instanceof i.e||e instanceof A.a||e instanceof i.g||e instanceof i.f)return" FOR UPDATE";if(e instanceof i.i)return"";throw new w;default:return""}},t.prototype.createHavingExpression=function(){var e=this;if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";var t=this.expressionMap.havings.map((function(t,n){switch(t.type){case"and":return(n>0?"AND ":"")+e.replacePropertyNames(t.condition);case"or":return(n>0?"OR ":"")+e.replacePropertyNames(t.condition);default:return e.replacePropertyNames(t.condition)}})).join(" ");return t.length?" HAVING "+t:""},t.prototype.buildEscapedEntityColumnSelects=function(e,t){var n=this,a=this.expressionMap.selects.some((function(t){return t.selection===e})),o=[];if(a&&o.push.apply(o,r.i(t.columns.filter((function(e){return!0===e.isSelect})))),o.push.apply(o,r.i(t.columns.filter((function(t){return n.expressionMap.selects.some((function(n){return n.selection===e+"."+t.propertyPath}))})))),0===o.length)return[];var u=this.expressionMap.queryEntity?t.primaryColumns.filter((function(e){return-1===o.indexOf(e)})):[];return r.i(o,u).map((function(t){var r=n.expressionMap.selects.find((function(n){return n.selection===e+"."+t.propertyPath})),o=n.escape(e)+"."+n.escape(t.databaseName);return-1!==n.connection.driver.spatialTypes.indexOf(t.type)&&((n.connection.driver instanceof i.e||n.connection.driver instanceof A.a)&&(o=(n.connection.driver.options.legacySpatialSupport?"AsText":"ST_AsText")+"("+o+")"),n.connection.driver instanceof i.g&&(o="ST_AsGeoJSON("+o+")::json"),n.connection.driver instanceof i.i&&(o+=".ToString()")),{selection:o,aliasName:r&&r.aliasName?r.aliasName:s.a.buildColumnAlias(n.connection.driver,e,t.databaseName),virtual:r?!0===r.virtual:!a}}))},t.prototype.findEntityColumnSelects=function(e,t){var n=this.expressionMap.selects.find((function(t){return t.selection===e}));return n?[n]:this.expressionMap.selects.filter((function(n){return t.columns.some((function(t){return n.selection===e+"."+t.propertyPath}))}))},t.prototype.executeCountQuery=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o=this;return r.e(this,(function(r){switch(r.label){case 0:return t=this.expressionMap.mainAlias.metadata,n=this.escape(this.expressionMap.mainAlias.name),i=t.hasMultiplePrimaryKeys?this.connection.driver instanceof O.a?"COUNT(DISTINCT("+t.primaryColumns.map((function(e,t){var r=o.escape(e.databaseName);return n+"."+r})).join(" || ")+')) as "cnt"':"COUNT(DISTINCT(CONCAT("+t.primaryColumns.map((function(e,t){var r=o.escape(e.databaseName);return n+"."+r})).join(", ")+'))) as "cnt"':"COUNT(DISTINCT("+t.primaryColumns.map((function(e,t){var r=o.escape(e.databaseName);return n+"."+r})).join(", ")+')) as "cnt"',[4,this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(i).setOption("disable-global-order").loadRawResults(e)];case 1:return(a=r.sent())&&a[0]&&a[0].cnt?[2,parseInt(a[0].cnt)]:[2,0]}}))}))},t.prototype.executeEntitiesAndRawResults=function(e){return r.b(this,void 0,void 0,(function(){var n,i,a,o,h,f,d,p,m,E,w,O,C,_,A,S,N,k,j=this;return r.e(this,(function(x){switch(x.label){case 0:if(!this.expressionMap.mainAlias)throw new Error('Alias is not set. Use "from" method to set an alias.');if(("pessimistic_read"===this.expressionMap.lockMode||"pessimistic_write"===this.expressionMap.lockMode)&&!e.isTransactionActive)throw new c;if("optimistic"===this.expressionMap.lockMode&&!(n=this.expressionMap.mainAlias.metadata).versionColumn&&!n.updateDateColumn)throw new l(n.name);return i=new y(this.connection,e,this.expressionMap.relationIdAttributes),a=new g(this.connection,e,this.expressionMap.relationCountAttributes),new v(this.expressionMap).transform(),new b(this.expressionMap).transform(),o=[],h=[],(this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0?(f=r.g(this.createOrderByCombinedWithSelectExpression("distinctAlias"),2),d=f[0],p=f[1],E=this.expressionMap.mainAlias.name,w=(m=this.expressionMap.mainAlias.metadata).primaryColumns.map((function(e){var t=j.escape("distinctAlias"),n=j.escape(s.a.buildColumnAlias(j.connection.driver,E,e.databaseName));return p[n]||(p[n]="ASC"),t+"."+n+' as "ids_'+s.a.buildColumnAlias(j.connection.driver,E,e.databaseName)+'"'})),[4,new t(this.connection,e).select("DISTINCT "+w.join(", ")).addSelect(d).from("("+this.clone().orderBy().getQuery()+")","distinctAlias").offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(p).cache(this.expressionMap.cache?this.expressionMap.cache:this.expressionMap.cacheId,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany()]):[3,4];case 1:return(o=x.sent()).length>0?(O="",C={},m.hasMultiplePrimaryKeys?O=o.map((function(e,t){return m.primaryColumns.map((function(n){var r="orm_distinct_ids_"+t+"_"+n.databaseName;return C[r]=e["ids_"+E+"_"+n.databaseName],E+"."+n.propertyPath+"=:"+r})).join(" AND ")})).join(" OR "):(_=o.map((function(e){return e["ids_"+s.a.buildColumnAlias(j.connection.driver,E,m.primaryColumns[0].databaseName)]}))).every((function(e){return"number"==typeof e}))?O=E+"."+m.primaryColumns[0].propertyPath+" IN ("+_.join(", ")+")":(C.orm_distinct_ids=_,O=E+"."+m.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)"),[4,this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:O}).setParameters(C).loadRawResults(e)]):[3,3];case 2:o=x.sent(),x.label=3;case 3:return[3,6];case 4:return[4,this.loadRawResults(e)];case 5:o=x.sent(),x.label=6;case 6:return o.length>0?[4,i.load(o)]:[3,10];case 7:return A=x.sent(),[4,a.load(o)];case 8:return S=x.sent(),N=new u(this.expressionMap,this.connection.driver,A,S,this.queryRunner),h=N.transform(o,this.expressionMap.mainAlias),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(k=new T.a,e.broadcaster.broadcastLoadEventsForAll(k,this.expressionMap.mainAlias.metadata,h),k.promises.length>0?[4,Promise.all(k.promises)]:[3,10]):[3,10];case 9:x.sent(),x.label=10;case 10:return[2,{raw:o,entities:h}]}}))}))},t.prototype.createOrderByCombinedWithSelectExpression=function(e){var t=this,n=this.expressionMap.allOrderBys,i=Object.keys(n).map((function(n){if(-1!==n.indexOf(".")){var i=r.g(n.split("."),2),a=i[0],o=i[1],u=t.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyName(o);return t.escape(e)+"."+t.escape(s.a.buildColumnAlias(t.connection.driver,a,u.databaseName))}return t.expressionMap.selects.find((function(e){return e.selection===n||e.aliasName===n}))?t.escape(e)+"."+n:""})).join(", "),a={};return Object.keys(n).forEach((function(i){if(-1!==i.indexOf(".")){var o=r.g(i.split("."),2),u=o[0],c=o[1],l=t.expressionMap.findAliasByName(u).metadata.findColumnWithPropertyName(c);a[t.escape(e)+"."+t.escape(s.a.buildColumnAlias(t.connection.driver,u,l.databaseName))]=n[i]}else t.expressionMap.selects.find((function(e){return e.selection===i||e.aliasName===i}))?a[t.escape(e)+"."+i]=n[i]:a[i]=n[i]})),[i,a]},t.prototype.loadRawResults=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u;return r.e(this,(function(c){switch(c.label){case 0:return t=r.g(this.getQueryAndParameters(),2),i=t[1],a=(n=t[0])+" -- PARAMETERS: "+JSON.stringify(i),o="object"==typeof this.connection.options.cache?this.connection.options.cache:{},s=void 0,this.connection.queryResultCache&&(this.expressionMap.cache||o.alwaysEnabled)?[4,this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:a,duration:this.expressionMap.cacheDuration||o.duration||1e3},e)]:[3,2];case 1:if((s=c.sent())&&!this.connection.queryResultCache.isExpired(s))return[2,JSON.parse(s.result)];c.label=2;case 2:return[4,e.query(n,i)];case 3:return u=c.sent(),this.connection.queryResultCache&&(this.expressionMap.cache||o.alwaysEnabled)?[4,this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:a,time:(new Date).getTime(),duration:this.expressionMap.cacheDuration||o.duration||1e3,result:JSON.stringify(u)},s,e)]:[3,5];case 4:c.sent(),c.label=5;case 5:return[2,u]}}))}))},t.prototype.mergeExpressionMap=function(e){return _.a.assign(this.expressionMap,e),this},t.prototype.normalizeNumber=function(e){return"number"==typeof e||null==e?e:Number(e)},t.prototype.obtainQueryRunner=function(){return this.queryRunner||this.connection.createQueryRunner("slave")},t}(E.a)},h5d3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(){}return e.chunk=function(e,t){return Array.from(Array(Math.ceil(e.length/t)),(function(n,r){return e.slice(r*t,r*t+t)}))},e.splitClassesAndStrings=function(e){return[e.filter((function(e){return"string"!=typeof e})),e.filter((function(e){return"string"==typeof e}))]},e.groupBy=function(e,t){return e.reduce((function(e,n){var r=t(n),i=e.find((function(e){return e.id===r}));return i||e.push(i={id:r,items:[]}),i.items.push(n),e}),[])},e.uniq=function(e,t){return e.reduce((function(e,n){var r=!1;if(t instanceof Function){var i=t(n);r=!!e.find((function(e){return t(e)===i}))}else r="string"==typeof t?!!e.find((function(e){return e[t]===n[t]})):-1!==e.indexOf(n);return r||e.push(n),e}),[])},e.isObject=function(e){return e&&"object"==typeof e&&!Array.isArray(e)},e.mergeDeep=function(e){for(var t,n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(!i.length)return e;var o=i.shift();if(this.isObject(e)&&this.isObject(o))for(var s in o){var u=o[s];u instanceof Promise||(!this.isObject(u)||u instanceof Map||u instanceof Set||u instanceof Date||u instanceof Buffer||u instanceof RegExp?Object.assign(e,((n={})[s]=u,n)):(e[s]||Object.assign(e,((t={})[s]=Object.create(Object.getPrototypeOf(u)),t)),this.mergeDeep(e[s],u)))}return this.mergeDeep.apply(this,r.i([e],i))},e.deepCompare=function(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(arguments.length<1)return!0;for(e=1,t=arguments.length;e<t;e++)if(!this.compare2Objects([],[],arguments[0],arguments[e]))return!1;return!0},e.toBoolean=function(e){return"boolean"==typeof e?e:"string"==typeof e?"true"===e||"1"===e:"number"==typeof e&&e>0},e.zipObject=function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})},e.isArraysEqual=function(e,t){return e.length===t.length&&e.every((function(e){return-1!==t.indexOf(e)}))},e.compare2Objects=function(e,t,n,r){var i;if(Number.isNaN(n)&&Number.isNaN(r))return!0;if(n===r)return!0;if(null===n||null===r||void 0===n||void 0===r)return!1;if(("function"==typeof n.equals||n.equals instanceof Function)&&n.equals(r))return!0;if("function"==typeof n&&"function"==typeof r||n instanceof Date&&r instanceof Date||n instanceof RegExp&&r instanceof RegExp||n instanceof String&&r instanceof String||n instanceof Number&&r instanceof Number)return n.toString()===r.toString();if(!(n instanceof Object&&r instanceof Object))return!1;if(n.isPrototypeOf(r)||r.isPrototypeOf(n))return!1;if(n.constructor!==r.constructor)return!1;if(n.prototype!==r.prototype)return!1;if(e.indexOf(n)>-1||t.indexOf(r)>-1)return!1;for(i in r){if(r.hasOwnProperty(i)!==n.hasOwnProperty(i))return!1;if(typeof r[i]!=typeof n[i])return!1}for(i in n){if(r.hasOwnProperty(i)!==n.hasOwnProperty(i))return!1;if(typeof r[i]!=typeof n[i])return!1;switch(typeof n[i]){case"object":case"function":if(e.push(n),t.push(r),!this.compare2Objects(e,t,n[i],r[i]))return!1;e.pop(),t.pop();break;default:if(n[i]!==r[i])return!1}}return!0},e}()},"i9P/":function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},i9xl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("IdLP"),i=n("GoAz"),a=n("6Oco");function o(e){return new r.a((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(i.a)(n):Object(a.b)()).subscribe(t)}))}},jEQi:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(){function e(e){this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}return e.prototype.clone=function(){return new e({name:this.name,columnNames:r.i(this.columnNames),referencedColumnNames:r.i(this.referencedColumnNames),referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})},e.create=function(t){return new e({name:t.name,columnNames:t.columnNames,referencedColumnNames:t.referencedColumnNames,referencedTableName:t.referencedTablePath,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable})},e}()},jIqt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("qZtG"),i=n("gBlb");function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return Object(i.a)(a)?(t.pop(),function(e){return Object(r.a)(t,e,a)}):function(e){return Object(r.a)(t,e)}}},jg4I:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},"k/xG":function(e,t,n){var r=n("qW1w"),i=n("aLd+"),a=n("4rhd"),o=n("KLyV").Buffer,s=new Array(160);function u(){this.init(),this._w=s,a.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=o.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},kAlA:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("D57K"),i=n("rE0Y"),a=n("xynt"),o=n("70di"),s=n("jEQi"),u=n("QADp"),c=n("OfrW"),l=n("ukWd"),h=n("ecGF"),f=n("/0jE"),d=n("ACIq"),p=n("XJG8"),m=n("c2R3"),y=n("u6gj"),v=function(){function e(e){this.connection=e}return e.prototype.build=function(){return r.b(this,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){switch(n.label){case 0:return this.queryRunner=this.connection.createQueryRunner("master"),this.connection.driver instanceof i.a?[3,2]:[4,this.queryRunner.startTransaction()];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,12,18,20]),e=this.entityToSyncMetadatas.map((function(e){return e.tablePath})),this.viewEntityToSyncMetadatas.length>0?[4,this.createTypeormMetadataTable()]:[3,4];case 3:n.sent(),n.label=4;case 4:return[4,this.queryRunner.getTables(e)];case 5:return n.sent(),[4,this.queryRunner.getViews([])];case 6:return n.sent(),[4,this.executeSchemaSyncOperationsInProperOrder()];case 7:return n.sent(),this.connection.queryResultCache?[4,this.connection.queryResultCache.synchronize(this.queryRunner)]:[3,9];case 8:n.sent(),n.label=9;case 9:return this.connection.driver instanceof i.a?[3,11]:[4,this.queryRunner.commitTransaction()];case 10:n.sent(),n.label=11;case 11:return[3,20];case 12:t=n.sent(),n.label=13;case 13:return n.trys.push([13,16,,17]),this.connection.driver instanceof i.a?[3,15]:[4,this.queryRunner.rollbackTransaction()];case 14:n.sent(),n.label=15;case 15:return[3,17];case 16:return n.sent(),[3,17];case 17:throw t;case 18:return[4,this.queryRunner.release()];case 19:return n.sent(),[7];case 20:return[2]}}))}))},e.prototype.log=function(){return r.b(this,void 0,void 0,(function(){var e;return r.e(this,(function(t){switch(t.label){case 0:this.queryRunner=this.connection.createQueryRunner("master"),t.label=1;case 1:return t.trys.push([1,,9,11]),e=this.entityToSyncMetadatas.map((function(e){return e.tablePath})),this.viewEntityToSyncMetadatas.length>0?[4,this.createTypeormMetadataTable()]:[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.queryRunner.getTables(e)];case 4:return t.sent(),[4,this.queryRunner.getViews([])];case 5:return t.sent(),this.queryRunner.enableSqlMemory(),[4,this.executeSchemaSyncOperationsInProperOrder()];case 6:return t.sent(),this.connection.queryResultCache?[4,this.connection.queryResultCache.synchronize(this.queryRunner)]:[3,8];case 7:t.sent(),t.label=8;case 8:return[2,this.queryRunner.getMemorySql()];case 9:return this.queryRunner.disableSqlMemory(),[4,this.queryRunner.release()];case 10:return t.sent(),[7];case 11:return[2]}}))}))},Object.defineProperty(e.prototype,"entityToSyncMetadatas",{get:function(){return this.connection.entityMetadatas.filter((function(e){return e.synchronize&&"entity-child"!==e.tableType&&"view"!==e.tableType}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewEntityToSyncMetadatas",{get:function(){return this.connection.entityMetadatas.filter((function(e){return"view"===e.tableType&&e.synchronize}))},enumerable:!0,configurable:!0}),e.prototype.executeSchemaSyncOperationsInProperOrder=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return[4,this.dropOldViews()];case 1:return e.sent(),[4,this.dropOldForeignKeys()];case 2:return e.sent(),[4,this.dropOldIndices()];case 3:return e.sent(),[4,this.dropOldChecks()];case 4:return e.sent(),[4,this.dropOldExclusions()];case 5:return e.sent(),[4,this.dropCompositeUniqueConstraints()];case 6:return e.sent(),[4,this.renameColumns()];case 7:return e.sent(),[4,this.createNewTables()];case 8:return e.sent(),[4,this.dropRemovedColumns()];case 9:return e.sent(),[4,this.addNewColumns()];case 10:return e.sent(),[4,this.updatePrimaryKeys()];case 11:return e.sent(),[4,this.updateExistColumns()];case 12:return e.sent(),[4,this.createNewIndices()];case 13:return e.sent(),[4,this.createNewChecks()];case 14:return e.sent(),[4,this.createNewExclusions()];case 15:return e.sent(),[4,this.createCompositeUniqueConstraints()];case 16:return e.sent(),[4,this.createForeignKeys()];case 17:return e.sent(),[4,this.createViews()];case 18:return e.sent(),[2]}}))}))},e.prototype.dropOldForeignKeys=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=e.foreignKeys.filter((function(e){var n=t.foreignKeys.find((function(t){return g(e,t)}));return!n||n.onDelete&&n.onDelete!==e.onDelete||n.onUpdate&&n.onUpdate!==e.onUpdate}))).length?[2]:(this.connection.logger.logSchemaBuild("dropping old foreign keys of "+e.name+": "+n.map((function(e){return e.name})).join(", ")),[4,this.queryRunner.dropForeignKeys(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.renameTables=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){return r.e(this,(function(e){return[2]}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.renameColumns=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a,o=this;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?t.columns.length!==e.columns.length||0===(n=t.columns.filter((function(t){return!e.columns.find((function(e){return e.name===t.databaseName&&e.type===o.connection.driver.normalizeType(t)&&e.isNullable===t.isNullable&&e.isUnique===o.connection.driver.normalizeIsUnique(t)}))}))).length||n.length>1||0===(i=e.columns.filter((function(e){return!t.columns.find((function(t){return t.databaseName===e.name&&o.connection.driver.normalizeType(t)===e.type&&t.isNullable===e.isNullable&&o.connection.driver.normalizeIsUnique(t)===e.isUnique}))}))).length||i.length>1?[2]:((a=i[0].clone()).name=n[0].databaseName,this.connection.logger.logSchemaBuild('renaming column "'+i[0].name+'" in to "'+a.name+'"'),[4,this.queryRunner.renameColumn(e,i[0],a)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropOldIndices=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n,i=this;return r.e(this,(function(a){switch(a.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?(n=e.indices.filter((function(e){var n=t.indices.find((function(t){return t.name===e.name}));return!n||!1!==n.synchronize&&(n.isUnique!==e.isUnique||n.isSpatial!==e.isSpatial||n.isFulltext!==e.isFulltext||n.columns.length!==e.columnNames.length||!n.columns.every((function(t){return-1!==e.columnNames.indexOf(t.databaseName)})))})).map((function(t){return r.b(i,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return this.connection.logger.logSchemaBuild('dropping an index: "'+t.name+'" from table '+e.name),[4,this.queryRunner.dropIndex(e,t)];case 1:return n.sent(),[2]}}))}))})),[4,Promise.all(n)]):[2];case 1:return a.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropOldChecks=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return this.connection.driver instanceof h.e||this.connection.driver instanceof y.a?[2]:[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=e.checks.filter((function(e){return!t.checks.find((function(t){return t.name===e.name}))}))).length?[2]:(this.connection.logger.logSchemaBuild("dropping old check constraint: "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' from table "'+e.name+'"'),[4,this.queryRunner.dropCheckConstraints(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropCompositeUniqueConstraints=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=e.uniques.filter((function(e){return e.columnNames.length>1&&!t.uniques.find((function(t){return t.name===e.name}))}))).length?[2]:(this.connection.logger.logSchemaBuild("dropping old unique constraint: "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' from table "'+e.name+'"'),[4,this.queryRunner.dropUniqueConstraints(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropOldExclusions=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return this.connection.driver instanceof h.g?[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=e.exclusions.filter((function(e){return!t.exclusions.find((function(t){return t.name===e.name}))}))).length?[2]:(this.connection.logger.logSchemaBuild("dropping old exclusion constraint: "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' from table "'+e.name+'"'),[4,this.queryRunner.dropExclusionConstraints(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))]:[2];case 1:return t.sent(),[2]}}))}))},e.prototype.createNewTables=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n=this;return r.e(this,(function(r){switch(r.label){case 0:return this.queryRunner.loadedTables.find((function(e){var r=n.connection.driver.buildTableName(t.tableName,t.schema||n.connection.driver.options.schema,t.database&&t.database!==n.connection.driver.database?t.database:void 0);return e.name===r}))?[2]:(this.connection.logger.logSchemaBuild("creating a new table: "+t.tablePath),e=a.a.create(t,this.connection.driver),[4,this.queryRunner.createTable(e,!1,!1)]);case 1:return r.sent(),this.queryRunner.loadedTables.push(e),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.createViews=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.viewEntityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n=this;return r.e(this,(function(r){switch(r.label){case 0:return this.queryRunner.loadedViews.find((function(e){var r=n.connection.driver.buildTableName(t.tableName,t.schema||n.connection.driver.options.schema,t.database&&t.database!==n.connection.driver.database?t.database:void 0),i="string"==typeof e.expression?e.expression.trim():e.expression(n.connection).getQuery(),a="string"==typeof t.expression?t.expression.trim():t.expression(n.connection).getQuery();return e.name===r&&i===a}))?[2]:(this.connection.logger.logSchemaBuild("creating a new view: "+t.tablePath),e=m.a.create(t,this.connection.driver),[4,this.queryRunner.createView(e)]);case 1:return r.sent(),this.queryRunner.loadedViews.push(e),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropOldViews=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.queryRunner.loadedViews,(function(t){return r.b(e,void 0,void 0,(function(){var e=this;return r.e(this,(function(n){switch(n.label){case 0:return this.viewEntityToSyncMetadatas.find((function(n){var r=e.connection.driver.buildTableName(n.tableName,n.schema||e.connection.driver.options.schema,n.database&&n.database!==e.connection.driver.database?n.database:void 0),i="string"==typeof t.expression?t.expression.trim():t.expression(e.connection).getQuery(),a="string"==typeof n.expression?n.expression.trim():n.expression(e.connection).getQuery();return t.name===r&&i===a}))?[2]:(this.connection.logger.logSchemaBuild("dropping an old view: "+t.name),[4,this.queryRunner.dropView(t)]);case 1:return n.sent(),this.queryRunner.loadedViews.splice(this.queryRunner.loadedViews.indexOf(t),1),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropRemovedColumns=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=e.columns.filter((function(e){return!t.columns.find((function(t){return t.databaseName===e.name}))}))).length?[2]:(this.connection.logger.logSchemaBuild("columns dropped in "+e.name+": "+n.map((function(e){return e.name})).join(", ")),[4,this.queryRunner.dropColumns(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.addNewColumns=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=t.columns.filter((function(t){return!e.columns.find((function(e){return e.name===t.databaseName}))}))).length?[2]:(i=this.metadataColumnsToTableColumnOptions(n),0===(a=i.map((function(e){return new o.a(e)}))).length?[2]:(this.connection.logger.logSchemaBuild("new columns added: "+n.map((function(e){return e.databaseName})).join(", ")),[4,this.queryRunner.addColumns(e,a)])):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.updatePrimaryKeys=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a=this;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?(n=t.columns.filter((function(e){return e.isPrimary})),e.columns.filter((function(e){return e.isPrimary})).length!==n.length&&n.length>1?(i=n.map((function(e){return new o.a(l.a.createTableColumnOptions(e,a.connection.driver))})),[4,this.queryRunner.updatePrimaryKeys(e,i)]):[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.updateExistColumns=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n,i,a=this;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=this.connection.driver.findChangedColumns(e.columns,t.columns)).length?[2]:[4,c.a.runInSequence(n,(function(e){return a.dropColumnReferencedForeignKeys(t.tablePath,e.databaseName)}))]:[2];case 1:return r.sent(),[4,c.a.runInSequence(n,(function(e){return a.dropColumnCompositeIndices(t.tablePath,e.databaseName)}))];case 2:return r.sent(),this.connection.driver instanceof h.e||this.connection.driver instanceof y.a?[3,4]:[4,c.a.runInSequence(n,(function(e){return a.dropColumnCompositeUniques(t.tablePath,e.databaseName)}))];case 3:r.sent(),r.label=4;case 4:return 0===(i=n.map((function(t){var n=e.columns.find((function(e){return e.name===t.databaseName})),r=l.a.createTableColumnOptions(t,a.connection.driver);return{oldColumn:n,newColumn:new o.a(r)}}))).length?[2]:(this.connection.logger.logSchemaBuild('columns changed in "'+e.name+'". updating: '+n.map((function(e){return e.databaseName})).join(", ")),[4,this.queryRunner.changeColumns(e,i)]);case 5:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.createNewIndices=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=t.indices.filter((function(t){return!e.indices.find((function(e){return e.name===t.name}))&&!0===t.synchronize})).map((function(e){return u.a.create(e)}))).length?[2]:(this.connection.logger.logSchemaBuild("adding new indices "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' in table "'+e.name+'"'),[4,this.queryRunner.createIndices(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.createNewChecks=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return this.connection.driver instanceof h.e||this.connection.driver instanceof y.a?[2]:[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=t.checks.filter((function(t){return!e.checks.find((function(e){return e.name===t.name}))})).map((function(e){return d.a.create(e)}))).length?[2]:(this.connection.logger.logSchemaBuild("adding new check constraints: "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' in table "'+e.name+'"'),[4,this.queryRunner.createCheckConstraints(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.createCompositeUniqueConstraints=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=t.uniques.filter((function(t){return t.columns.length>1&&!e.uniques.find((function(e){return e.name===t.name}))})).map((function(e){return f.a.create(e)}))).length?[2]:(this.connection.logger.logSchemaBuild("adding new unique constraints: "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' in table "'+e.name+'"'),[4,this.queryRunner.createUniqueConstraints(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.createNewExclusions=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return this.connection.driver instanceof h.g?[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=t.exclusions.filter((function(t){return!e.exclusions.find((function(e){return e.name===t.name}))})).map((function(e){return p.a.create(e)}))).length?[2]:(this.connection.logger.logSchemaBuild("adding new exclusion constraints: "+n.map((function(e){return'"'+e.name+'"'})).join(", ")+' in table "'+e.name+'"'),[4,this.queryRunner.createExclusionConstraints(e,n)]):[2];case 1:return r.sent(),[2]}}))}))}))]:[2];case 1:return t.sent(),[2]}}))}))},e.prototype.createForeignKeys=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return[4,c.a.runInSequence(this.entityToSyncMetadatas,(function(t){return r.b(e,void 0,void 0,(function(){var e,n,i;return r.e(this,(function(r){switch(r.label){case 0:return(e=this.queryRunner.loadedTables.find((function(e){return e.name===t.tablePath})))?0===(n=t.foreignKeys.filter((function(t){return!e.foreignKeys.find((function(e){return g(e,t)}))}))).length?[2]:(i=n.map((function(e){return s.a.create(e)})),this.connection.logger.logSchemaBuild("creating a foreign keys: "+n.map((function(e){return e.name})).join(", ")+' on table "'+e.name+'"'),[4,this.queryRunner.createForeignKeys(e,i)]):[2];case 1:return r.sent(),[2]}}))}))}))];case 1:return t.sent(),[2]}}))}))},e.prototype.dropColumnReferencedForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return(n=this.queryRunner.loadedTables.find((function(t){return t.name===e})))?(i=[],(a=n.foreignKeys.find((function(e){return-1!==e.columnNames.indexOf(t)})))&&((o=n.clone()).foreignKeys=[a],i.push(o),n.removeForeignKey(a)),this.queryRunner.loadedTables.forEach((function(n){var r=n.foreignKeys.filter((function(n){return n.referencedTableName===e&&-1!==n.referencedColumnNames.indexOf(t)}));if(r.length>0){var a=n.clone();a.foreignKeys=r,i.push(a),r.forEach((function(e){return n.removeForeignKey(e)}))}})),i.length>0?[4,c.a.runInSequence(i,(function(e){return s.connection.logger.logSchemaBuild("dropping related foreign keys of "+e.name+": "+e.foreignKeys.map((function(e){return e.name})).join(", ")),s.queryRunner.dropForeignKeys(e,e.foreignKeys)}))]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.dropColumnCompositeIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){switch(r.label){case 0:return(n=this.queryRunner.loadedTables.find((function(t){return t.name===e})))?0===(i=n.indices.filter((function(e){return e.columnNames.length>1&&-1!==e.columnNames.indexOf(t)}))).length?[2]:(this.connection.logger.logSchemaBuild('dropping related indices of "'+e+'"."'+t+'": '+i.map((function(e){return e.name})).join(", ")),[4,this.queryRunner.dropIndices(n,i)]):[2];case 1:return r.sent(),[2]}}))}))},e.prototype.dropColumnCompositeUniques=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i;return r.e(this,(function(r){switch(r.label){case 0:return(n=this.queryRunner.loadedTables.find((function(t){return t.name===e})))?0===(i=n.uniques.filter((function(e){return e.columnNames.length>1&&-1!==e.columnNames.indexOf(t)}))).length?[2]:(this.connection.logger.logSchemaBuild('dropping related unique constraints of "'+e+'"."'+t+'": '+i.map((function(e){return e.name})).join(", ")),[4,this.queryRunner.dropUniqueConstraints(n,i)]):[2];case 1:return r.sent(),[2]}}))}))},e.prototype.metadataColumnsToTableColumnOptions=function(e){var t=this;return e.map((function(e){return l.a.createTableColumnOptions(e,t.connection.driver)}))},e.prototype.createTypeormMetadataTable=function(){return r.b(this,void 0,void 0,(function(){var e,t;return r.e(this,(function(n){switch(n.label){case 0:return t=this.connection.driver.buildTableName("typeorm_metadata",(e=this.connection.driver.options).schema,e.database),[4,this.queryRunner.createTable(new a.a({name:t,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0}]}),!0)];case 1:return n.sent(),[2]}}))}))},e}();function g(e,t){return e.name===t.name&&e.referencedTableName===t.referencedTablePath}},kuMc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("pBDD"),u=n("mW0F");function c(e){return function(t){return t.lift(new l(e))}}var l=function(){function e(t){Object(a.a)(this,e),this.notifier=t}return Object(o.a)(e,[{key:"call",value:function(e,t){var n=new h(e),r=Object(u.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),h=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).seenValue=!1,r}return Object(o.a)(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(s.a)},l5L1:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("guqX");function i(e,t){return void 0===t&&(t=!1),e.replace(/^([A-Z])|[\s-_](\w)/g,(function(e,n,r,i){return!0===t&&0===i?n:r?r.toUpperCase():n.toLowerCase()}))}function a(e){return e.replace(/(?:([a-z])([A-Z]))|(?:((?!^)[A-Z])([a-z]))/g,"$1_$3$2$4").toLowerCase()}function o(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function s(e,t){void 0===t&&(t={});var n=t.segmentLength,r=void 0===n?4:n,i=t.separator,a=void 0===i?"__":i,o=t.termLength,s=void 0===o?2:o;return e.split(a).reduce((function(e,t){var n=t.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),i=n.length>1?s:r,a=n.map((function(e){return e.substr(0,i)})).join("");return e.push(a),e}),[]).join(a)}function u(e,t){void 0===t&&(t={});var n=r("sha256");n.update(e,"utf8");var i=n.digest("hex");return t.length?i.slice(0,t.length):i}},lu7F:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return w})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return C})),n.d(t,"v",(function(){return T})),n.d(t,"w",(function(){return _})),n.d(t,"x",(function(){return A})),n.d(t,"y",(function(){return S}));var r={prefix:"fas",iconName:"arrow-circle-left",icon:[512,512,[],"f0a8","M256 504C119 504 8 393 8 256S119 8 256 8s248 111 248 248-111 248-248 248zm28.9-143.6L209.4 288H392c13.3 0 24-10.7 24-24v-16c0-13.3-10.7-24-24-24H209.4l75.5-72.4c9.7-9.3 9.9-24.8.4-34.3l-11-10.9c-9.4-9.4-24.6-9.4-33.9 0L107.7 239c-9.4 9.4-9.4 24.6 0 33.9l132.7 132.7c9.4 9.4 24.6 9.4 33.9 0l11-10.9c9.5-9.5 9.3-25-.4-34.3z"]},i={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},a={prefix:"fas",iconName:"caret-square-down",icon:[448,512,[],"f150","M448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zM92.5 220.5l123 123c4.7 4.7 12.3 4.7 17 0l123-123c7.6-7.6 2.2-20.5-8.5-20.5H101c-10.7 0-16.1 12.9-8.5 20.5z"]},o={prefix:"fas",iconName:"chalkboard-teacher",icon:[640,512,[],"f51c","M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"]},s={prefix:"fas",iconName:"chart-bar",icon:[512,512,[],"f080","M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"]},u={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},c={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]},l={prefix:"fas",iconName:"cogs",icon:[640,512,[],"f085","M512.1 191l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0L552 6.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zm-10.5-58.8c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.7-82.4 14.3-52.8 52.8zM386.3 286.1l33.7 16.8c10.1 5.8 14.5 18.1 10.5 29.1-8.9 24.2-26.4 46.4-42.6 65.8-7.4 8.9-20.2 11.1-30.3 5.3l-29.1-16.8c-16 13.7-34.6 24.6-54.9 31.7v33.6c0 11.6-8.3 21.6-19.7 23.6-24.6 4.2-50.4 4.4-75.9 0-11.5-2-20-11.9-20-23.6V418c-20.3-7.2-38.9-18-54.9-31.7L74 403c-10 5.8-22.9 3.6-30.3-5.3-16.2-19.4-33.3-41.6-42.2-65.7-4-10.9.4-23.2 10.5-29.1l33.3-16.8c-3.9-20.9-3.9-42.4 0-63.4L12 205.8c-10.1-5.8-14.6-18.1-10.5-29 8.9-24.2 26-46.4 42.2-65.8 7.4-8.9 20.2-11.1 30.3-5.3l29.1 16.8c16-13.7 34.6-24.6 54.9-31.7V57.1c0-11.5 8.2-21.5 19.6-23.5 24.6-4.2 50.5-4.4 76-.1 11.5 2 20 11.9 20 23.6v33.6c20.3 7.2 38.9 18 54.9 31.7l29.1-16.8c10-5.8 22.9-3.6 30.3 5.3 16.2 19.4 33.2 41.6 42.1 65.8 4 10.9.1 23.2-10 29.1l-33.7 16.8c3.9 21 3.9 42.5 0 63.5zm-117.6 21.1c59.2-77-28.7-164.9-105.7-105.7-59.2 77 28.7 164.9 105.7 105.7zm243.4 182.7l-8.2 14.3c-3 5.3-9.4 7.5-15.1 5.4-11.8-4.4-22.6-10.7-32.1-18.6-4.6-3.8-5.8-10.5-2.8-15.7l8.2-14.3c-6.9-8-12.3-17.3-15.9-27.4h-16.5c-6 0-11.2-4.3-12.2-10.3-2-12-2.1-24.6 0-37.1 1-6 6.2-10.4 12.2-10.4h16.5c3.6-10.1 9-19.4 15.9-27.4l-8.2-14.3c-3-5.2-1.9-11.9 2.8-15.7 9.5-7.9 20.4-14.2 32.1-18.6 5.7-2.1 12.1.1 15.1 5.4l8.2 14.3c10.5-1.9 21.2-1.9 31.7 0l8.2-14.3c3-5.3 9.4-7.5 15.1-5.4 11.8 4.4 22.6 10.7 32.1 18.6 4.6 3.8 5.8 10.5 2.8 15.7l-8.2 14.3c6.9 8 12.3 17.3 15.9 27.4h16.5c6 0 11.2 4.3 12.2 10.3 2 12 2.1 24.6 0 37.1-1 6-6.2 10.4-12.2 10.4h-16.5c-3.6 10.1-9 19.4-15.9 27.4l8.2 14.3c3 5.2 1.9 11.9-2.8 15.7-9.5 7.9-20.4 14.2-32.1 18.6-5.7 2.1-12.1-.1-15.1-5.4l-8.2-14.3c-10.4 1.9-21.2 1.9-31.7 0zM501.6 431c38.5 29.6 82.4-14.3 52.8-52.8-38.5-29.6-82.4 14.3-52.8 52.8z"]},h={prefix:"fas",iconName:"compress",icon:[448,512,[],"f066","M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"]},f={prefix:"fas",iconName:"diagnoses",icon:[640,512,[],"f470","M496 256c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm-176-80c48.5 0 88-39.5 88-88S368.5 0 320 0s-88 39.5-88 88 39.5 88 88 88zM59.8 364c10.2 15.3 29.3 17.8 42.9 9.8 16.2-9.6 56.2-31.7 105.3-48.6V416h224v-90.7c49.1 16.8 89.1 39 105.3 48.6 13.6 8 32.7 5.3 42.9-9.8l17.8-26.7c8.8-13.2 7.6-34.6-10-45.1-11.9-7.1-29.7-17-51.1-27.4-28.1 46.1-99.4 17.8-87.7-35.1C409.3 217.2 365.1 208 320 208c-57 0-112.9 14.5-160 32.2-.2 40.2-47.6 63.3-79.2 36-11.2 6-21.3 11.6-28.7 16-17.6 10.5-18.8 31.8-10 45.1L59.8 364zM368 344c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-96-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-160 8c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm512 192H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16z"]},d={prefix:"fas",iconName:"digital-tachograph",icon:[640,512,[],"f566","M608 96H32c-17.67 0-32 14.33-32 32v256c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V128c0-17.67-14.33-32-32-32zM304 352c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-8c0-4.42 3.58-8 8-8h224c4.42 0 8 3.58 8 8v8zM72 288v-16c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H80c-4.42 0-8-3.58-8-8zm64 0v-16c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8zm64 0v-16c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8zm64 0v-16c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8zm40-64c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-48c0-8.84 7.16-16 16-16h208c8.84 0 16 7.16 16 16v48zm272 128c0 4.42-3.58 8-8 8H344c-4.42 0-8-3.58-8-8v-8c0-4.42 3.58-8 8-8h224c4.42 0 8 3.58 8 8v8z"]},p={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},m={prefix:"fas",iconName:"eraser",icon:[512,512,[],"f12d","M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"]},y={prefix:"fas",iconName:"expand",icon:[448,512,[],"f065","M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"]},v={prefix:"fas",iconName:"file-import",icon:[512,512,[],"f56f","M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"]},g={prefix:"fas",iconName:"parachute-box",icon:[512,512,[],"f4cd","M511.9 175c-9.1-75.6-78.4-132.4-158.3-158.7C390 55.7 416 116.9 416 192h28.1L327.5 321.5c-2.5-.6-4.8-1.5-7.5-1.5h-48V192h112C384 76.8 315.1 0 256 0S128 76.8 128 192h112v128h-48c-2.7 0-5 .9-7.5 1.5L67.9 192H96c0-75.1 26-136.3 62.4-175.7C78.5 42.7 9.2 99.5.1 175c-1.1 9.1 6.8 17 16 17h8.7l136.7 151.9c-.7 2.6-1.6 5.2-1.6 8.1v128c0 17.7 14.3 32 32 32h128c17.7 0 32-14.3 32-32V352c0-2.9-.9-5.4-1.6-8.1L487.1 192h8.7c9.3 0 17.2-7.8 16.1-17z"]},b={prefix:"fas",iconName:"people-carry",icon:[640,512,[],"f4ce","M128 96c26.5 0 48-21.5 48-48S154.5 0 128 0 80 21.5 80 48s21.5 48 48 48zm384 0c26.5 0 48-21.5 48-48S538.5 0 512 0s-48 21.5-48 48 21.5 48 48 48zm125.7 372.1l-44-110-41.1 46.4-2 18.2 27.7 69.2c5 12.5 17 20.1 29.7 20.1 4 0 8-.7 11.9-2.3 16.4-6.6 24.4-25.2 17.8-41.6zm-34.2-209.8L585 178.1c-4.6-20-18.6-36.8-37.5-44.9-18.5-8-39-6.7-56.1 3.3-22.7 13.4-39.7 34.5-48.1 59.4L432 229.8 416 240v-96c0-8.8-7.2-16-16-16H240c-8.8 0-16 7.2-16 16v96l-16.1-10.2-11.3-33.9c-8.3-25-25.4-46-48.1-59.4-17.2-10-37.6-11.3-56.1-3.3-18.9 8.1-32.9 24.9-37.5 44.9l-18.4 80.2c-4.6 20 .7 41.2 14.4 56.7l67.2 75.9 10.1 92.6C130 499.8 143.8 512 160 512c1.2 0 2.3-.1 3.5-.2 17.6-1.9 30.2-17.7 28.3-35.3l-10.1-92.8c-1.5-13-6.9-25.1-15.6-35l-43.3-49 17.6-70.3 6.8 20.4c4.1 12.5 11.9 23.4 24.5 32.6l51.1 32.5c4.6 2.9 12.1 4.6 17.2 5h160c5.1-.4 12.6-2.1 17.2-5l51.1-32.5c12.6-9.2 20.4-20 24.5-32.6l6.8-20.4 17.6 70.3-43.3 49c-8.7 9.9-14.1 22-15.6 35l-10.1 92.8c-1.9 17.6 10.8 33.4 28.3 35.3 1.2.1 2.3.2 3.5.2 16.1 0 30-12.1 31.8-28.5l10.1-92.6 67.2-75.9c13.6-15.5 19-36.7 14.4-56.7zM46.3 358.1l-44 110c-6.6 16.4 1.4 35 17.8 41.6 16.8 6.6 35.1-1.7 41.6-17.8l27.7-69.2-2-18.2-41.1-46.4z"]},E={prefix:"fas",iconName:"person-booth",icon:[576,512,[],"f756","M192 496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V320h-64v176zm32-272h-50.9l-45.2-45.3C115.8 166.6 99.7 160 82.7 160H64c-17.1 0-33.2 6.7-45.3 18.8C6.7 190.9 0 207 0 224.1L.2 320 0 480c0 17.7 14.3 32 31.9 32 17.6 0 32-14.3 32-32l.1-100.7c.9.5 1.6 1.3 2.5 1.7l29.1 43v56c0 17.7 14.3 32 32 32s32-14.3 32-32v-56.5c0-9.9-2.3-19.8-6.7-28.6l-41.2-61.3V253l20.9 20.9c9.1 9.1 21.1 14.1 33.9 14.1H224c17.7 0 32-14.3 32-32s-14.3-32-32-32zM64 128c26.5 0 48-21.5 48-48S90.5 32 64 32 16 53.5 16 80s21.5 48 48 48zm224-96l31.5 223.1-30.9 154.6c-4.3 21.6 13 38.3 31.4 38.3 15.2 0 28-9.1 32.3-30.4.9 16.9 14.6 30.4 31.7 30.4 17.7 0 32-14.3 32-32 0 17.7 14.3 32 32 32s32-14.3 32-32V0H288v32zm-96 0v160h64V0h-32c-17.7 0-32 14.3-32 32zM544 0h-32v496c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V32c0-17.7-14.3-32-32-32z"]},w={prefix:"fas",iconName:"plus-square",icon:[448,512,[],"f0fe","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-32 252c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92H92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"]},O={prefix:"fas",iconName:"save",icon:[448,512,[],"f0c7","M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"]},C={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},T={prefix:"fas",iconName:"sitemap",icon:[640,512,[],"f0e8","M128 352H32c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm-24-80h192v48h48v-48h192v48h48v-57.59c0-21.17-17.23-38.41-38.41-38.41H344v-64h40c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H256c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h40v64H94.41C73.23 224 56 241.23 56 262.41V320h48v-48zm264 80h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zm240 0h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"]},_={prefix:"fas",iconName:"tasks",icon:[512,512,[],"f0ae","M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"]},A={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},S={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"]}},"mPN/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("MDuR");function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,o=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw a}}}}},mW0F:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("r9RI"),i=n("1MAX"),a=n("IdLP");function o(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(e,n,o);if(!s.closed)return t instanceof a.a?t.subscribe(s):Object(i.a)(t)(s)}},mWib:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe"),u=n("Efrr");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;return function(n){return n.lift(new l(e,t))}}var l=function(){function e(t,n){Object(a.a)(this,e),this.dueTime=t,this.scheduler=n}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.dueTime,this.scheduler))}}]),e}(),h=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this,e)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return Object(o.a)(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(f,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(s.a);function f(e){e.debouncedNext()}},mawV:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("3lSR");function i(){return Object(r.a)(1)}},miYd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("mPN/"),i=n("bI4O"),a=n("jg4I"),o=function(){var e=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"addClass",value:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t}},{key:"addMultipleClasses",value:function(e,t){if(e.classList)for(var n=t.split(" "),r=0;r<n.length;r++)e.classList.add(n[r]);else for(var i=t.split(" "),a=0;a<i.length;a++)e.className+=" "+i[a]}},{key:"removeClass",value:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"hasClass",value:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}},{key:"siblings",value:function(e){return Array.prototype.filter.call(e.parentNode.children,(function(t){return t!==e}))}},{key:"find",value:function(e,t){return Array.from(e.querySelectorAll(t))}},{key:"findSingle",value:function(e,t){return e?e.querySelector(t):null}},{key:"index",value:function(e){for(var t=e.parentNode.childNodes,n=0,r=0;r<t.length;r++){if(t[r]==e)return n;1==t[r].nodeType&&n++}return-1}},{key:"indexWithinGroup",value:function(e,t){for(var n=e.parentNode?e.parentNode.childNodes:[],r=0,i=0;i<n.length;i++){if(n[i]==e)return r;n[i].attributes&&n[i].attributes[t]&&1==n[i].nodeType&&r++}return-1}},{key:"relativePosition",value:function(e,t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=t.offsetHeight,o=t.getBoundingClientRect(),s=this.getViewport();o.top+a+i.height>s.height?(n=-1*i.height,e.style.transformOrigin="bottom",o.top+n<0&&(n=-1*o.top)):(n=a,e.style.transformOrigin="top"),r=i.width>s.width?-1*o.left:o.left+i.width>s.width?-1*(o.left+i.width-s.width):0,e.style.top=n+"px",e.style.left=r+"px"}},{key:"absolutePosition",value:function(e,t){var n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),a=i.height,o=i.width,s=t.offsetHeight,u=t.offsetWidth,c=t.getBoundingClientRect(),l=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),f=this.getViewport();c.top+s+a>f.height?(n=c.top+l-a,e.style.transformOrigin="bottom",n<0&&(n=l)):(n=s+c.top+l,e.style.transformOrigin="top"),r=c.left+o>f.width?Math.max(0,c.left+h+u-o):c.left+h,e.style.top=n+"px",e.style.left=r+"px"}},{key:"getHiddenElementOuterHeight",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementOuterWidth",value:function(e){e.style.visibility="hidden",e.style.display="block";var t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}},{key:"getHiddenElementDimensions",value:function(e){var t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}},{key:"scrollInView",value:function(e,t){var n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),a=i?parseFloat(i):0,o=e.getBoundingClientRect(),s=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-a,u=e.scrollTop,c=e.clientHeight,l=this.getOuterHeight(t);s<0?e.scrollTop=u+s:s+l>c&&(e.scrollTop=u+s-c+l)}},{key:"fadeIn",value:function(e,t){e.style.opacity=0;var n=+new Date,r=0;!function i(){r=+e.style.opacity.replace(",",".")+((new Date).getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))}()}},{key:"fadeOut",value:function(e,t){var n=1,r=50/t,i=setInterval((function(){(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n}),50)}},{key:"getWindowScrollTop",value:function(){var e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},{key:"matches",value:function(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}},{key:"getOuterWidth",value:function(e,t){var n=e.offsetWidth;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginLeft)+parseFloat(r.marginRight)}return n}},{key:"getHorizontalPadding",value:function(e){var t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}},{key:"getHorizontalMargin",value:function(e){var t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}},{key:"innerWidth",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))}},{key:"width",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight))}},{key:"getInnerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom))}},{key:"getOuterHeight",value:function(e,t){var n=e.offsetHeight;if(t){var r=getComputedStyle(e);n+=parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}},{key:"getHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t-(parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth))}},{key:"getWidth",value:function(e){var t=e.offsetWidth,n=getComputedStyle(e);return t-(parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth))}},{key:"getViewport",value:function(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}},{key:"getOffset",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}},{key:"replaceElementWith",value:function(e,t){var n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(t,e)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIE",value:function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"appendChild",value:function(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}}},{key:"removeChild",value:function(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}}},{key:"isElement",value:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}},{key:"calculateScrollbarWidth",value:function(e){if(e){var t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var n=document.createElement("div");n.className="p-scrollbar-measure",document.body.appendChild(n);var r=n.offsetWidth-n.clientWidth;return document.body.removeChild(n),this.calculatedScrollbarWidth=r,r}},{key:"calculateScrollbarHeight",value:function(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;var e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);var t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}},{key:"getBrowser",value:function(){if(!this.browser){var e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}},{key:"isInteger",value:function(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},{key:"isHidden",value:function(e){return null===e.offsetParent}},{key:"getFocusableElements",value:function(t){var n,i=e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), \n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),a=[],o=Object(r.a)(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}return a}}]),e}();return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e}()},mj34:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("D57K"),i=n("5W/B"),a=n("rH6E"),o=n("70di"),s=n("nobI"),u=n("xynt"),c=n("QADp"),l=n("jEQi"),h=n("c2R3"),f=n("E0Rv"),d=n("/0jE"),p=n("EKKg"),m=n("h5d3"),y=n("ACIq"),v=function(e){function t(){return e.call(this)||this}return r.d(t,e),t.prototype.connect=function(){return Promise.resolve(this.driver.databaseConnection)},t.prototype.release=function(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()},t.prototype.startTransaction=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:if(this.isTransactionActive)throw new i.a;if(this.isTransactionActive=!0,!e)return[3,4];if("READ UNCOMMITTED"!==e&&"SERIALIZABLE"!==e)throw new Error("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");return"READ UNCOMMITTED"!==e?[3,2]:[4,this.query("PRAGMA read_uncommitted = true")];case 1:return t.sent(),[3,4];case 2:return[4,this.query("PRAGMA read_uncommitted = false")];case 3:t.sent(),t.label=4;case 4:return[4,this.query("BEGIN TRANSACTION")];case 5:return t.sent(),[2]}}))}))},t.prototype.commitTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isTransactionActive)throw new a.a;return[4,this.query("COMMIT")];case 1:return e.sent(),this.isTransactionActive=!1,[2]}}))}))},t.prototype.rollbackTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isTransactionActive)throw new a.a;return[4,this.query("ROLLBACK")];case 1:return e.sent(),this.isTransactionActive=!1,[2]}}))}))},t.prototype.stream=function(e,t,n,r){throw new Error("Stream is not supported by sqlite driver.")},t.prototype.getDatabases=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve([])]}))}))},t.prototype.getSchemas=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve([])]}))}))},t.prototype.hasDatabase=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve(!1)]}))}))},t.prototype.hasSchema=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("This driver does not support table schemas")}))}))},t.prototype.hasTable=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query('SELECT * FROM "sqlite_master" WHERE "type" = \'table\' AND "name" = \''+(e instanceof u.a?e.name:e)+"'")];case 1:return[2,!!t.sent().length]}}))}))},t.prototype.hasColumn=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.query('PRAGMA table_info("'+(e instanceof u.a?e.name:e)+'")')];case 1:return[2,!!n.sent().find((function(e){return e.name===t}))]}}))}))},t.prototype.createDatabase=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve()]}))}))},t.prototype.dropDatabase=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve()]}))}))},t.prototype.createSchema=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve()]}))}))},t.prototype.dropSchema=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve()]}))}))},t.prototype.createTable=function(e,t,n,i){return void 0===t&&(t=!1),void 0===n&&(n=!0),void 0===i&&(i=!0),r.b(this,void 0,void 0,(function(){var a,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return a=[],o=[],t?[4,this.hasTable(e)]:[3,2];case 1:if(r.sent())return[2,Promise.resolve()];r.label=2;case 2:return a.push(this.createTableSql(e,n)),o.push(this.dropTableSql(e)),i&&e.indices.forEach((function(t){t.name||(t.name=s.connection.namingStrategy.indexName(e.name,t.columnNames,t.where)),a.push(s.createIndexSql(e,t)),o.push(s.dropIndexSql(t))})),[4,this.executeQueries(a,o)];case 3:return r.sent(),[2]}}))}))},t.prototype.dropTable=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!0),r.b(this,void 0,void 0,(function(){var a,o,s,c,l,h=this;return r.e(this,(function(r){switch(r.label){case 0:return t?[4,this.hasTable(e)]:[3,2];case 1:if(!r.sent())return[2,Promise.resolve()];r.label=2;case 2:return a=n,e instanceof u.a?(s=e,[3,5]):[3,3];case 3:return[4,this.getCachedTable(e)];case 4:s=r.sent(),r.label=5;case 5:return o=s,c=[],l=[],i&&o.indices.forEach((function(e){c.push(h.dropIndexSql(e)),l.push(h.createIndexSql(o,e))})),c.push(this.dropTableSql(o,t)),l.push(this.createTableSql(o,a)),[4,this.executeQueries(c,l)];case 6:return r.sent(),[2]}}))}))},t.prototype.createView=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:return n=[],(t=[]).push(this.createViewSql(e)),t.push(this.insertViewDefinitionSql(e)),n.push(this.dropViewSql(e)),n.push(this.deleteViewDefinitionSql(e)),[4,this.executeQueries(t,n)];case 1:return r.sent(),[2]}}))}))},t.prototype.dropView=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.getCachedView(e instanceof h.a?e.name:e)];case 1:return t=r.sent(),i=[],(n=[]).push(this.deleteViewDefinitionSql(t)),n.push(this.dropViewSql(t)),i.push(this.insertViewDefinitionSql(t)),i.push(this.createViewSql(t)),[4,this.executeQueries(n,i)];case 2:return r.sent(),[2]}}))}))},t.prototype.renameTable=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,c=this;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return(a=(n=i).clone()).name=t,o=new f.a('ALTER TABLE "'+n.name+'" RENAME TO "'+t+'"'),s=new f.a('ALTER TABLE "'+t+'" RENAME TO "'+n.name+'"'),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.name=a.name,a.uniques.forEach((function(e){e.name=c.connection.namingStrategy.uniqueConstraintName(a,e.columnNames)})),a.foreignKeys.forEach((function(e){e.name=c.connection.namingStrategy.foreignKeyName(a,e.columnNames,e.referencedTableName,e.referencedColumnNames)})),a.indices.forEach((function(e){e.name=c.connection.namingStrategy.indexName(a,e.columnNames,e.where)})),[4,this.recreateTable(a,n)];case 5:return r.sent(),[2]}}))}))},t.prototype.addColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(n=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:n=r.sent(),r.label=3;case 3:return[2,this.addColumns(n,[t])]}}))}))},t.prototype.addColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.addColumn(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.renameColumn=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,s,c;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(a=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:a=r.sent(),r.label=3;case 3:if(i=a,!(s=t instanceof o.a?t:i.columns.find((function(e){return e.name===t}))))throw new Error('Column "'+t+'" was not found in the "'+i.name+'" table.');return c=void 0,n instanceof o.a?c=n:(c=s.clone()).name=n,[2,this.changeColumn(i,s,c)]}}))}))},t.prototype.changeColumn=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(a=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:a=r.sent(),r.label=3;case 3:if(i=a,!(s=t instanceof o.a?t:i.columns.find((function(e){return e.name===t}))))throw new Error('Column "'+t+'" was not found in the "'+i.name+'" table.');return[4,this.changeColumns(i,[{oldColumn:s,newColumn:n}])];case 4:return r.sent(),[2]}}))}))},t.prototype.changeColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o=this;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){e.newColumn.name!==e.oldColumn.name&&(a.findColumnUniques(e.oldColumn).forEach((function(t){t.columnNames.splice(t.columnNames.indexOf(e.oldColumn.name),1),t.columnNames.push(e.newColumn.name),t.name=o.connection.namingStrategy.uniqueConstraintName(a,t.columnNames)})),a.findColumnForeignKeys(e.oldColumn).forEach((function(t){t.columnNames.splice(t.columnNames.indexOf(e.oldColumn.name),1),t.columnNames.push(e.newColumn.name),t.name=o.connection.namingStrategy.foreignKeyName(a,t.columnNames,t.referencedTableName,t.referencedColumnNames)})),a.findColumnIndices(e.oldColumn).forEach((function(t){t.columnNames.splice(t.columnNames.indexOf(e.oldColumn.name),1),t.columnNames.push(e.newColumn.name),t.name=o.connection.namingStrategy.indexName(a,t.columnNames,t.where)})));var t=a.columns.find((function(t){return t.name===e.oldColumn.name}));t&&(a.columns[a.columns.indexOf(t)]=e.newColumn)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.dropColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof o.a?t:n.findColumnByName(t)))throw new Error('Column "'+t+'" was not found in table "'+n.name+'"');return[4,this.dropColumns(n,[a])];case 4:return r.sent(),[2]}}))}))},t.prototype.dropColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){a.removeColumn(e),a.findColumnUniques(e).forEach((function(e){return a.removeUniqueConstraint(e)})),a.findColumnIndices(e).forEach((function(e){return a.removeIndex(e)})),a.findColumnForeignKeys(e).forEach((function(e){return a.removeForeignKey(e)}))})),[4,this.recreateTable(a,n)];case 4:return r.sent(),t.forEach((function(e){n.removeColumn(e),n.findColumnUniques(e).forEach((function(e){return n.removeUniqueConstraint(e)})),n.findColumnIndices(e).forEach((function(e){return n.removeIndex(e)})),n.findColumnForeignKeys(e).forEach((function(e){return n.removeForeignKey(e)}))})),[2]}}))}))},t.prototype.createPrimaryKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return(a=(n=i).clone()).columns.forEach((function(e){t.find((function(t){return t===e.name}))&&(e.isPrimary=!0)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),n.columns.forEach((function(e){t.find((function(t){return t===e.name}))&&(e.isPrimary=!0)})),[2]}}))}))},t.prototype.updatePrimaryKeys=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return e.sent(),[2]}}))}))},t.prototype.dropPrimaryKey=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(n=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:n=r.sent(),r.label=3;case 3:return(i=(t=n).clone()).primaryColumns.forEach((function(e){e.isPrimary=!1})),[4,this.recreateTable(i,t)];case 4:return r.sent(),t.primaryColumns.forEach((function(e){e.isPrimary=!1})),[2]}}))}))},t.prototype.createUniqueConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.createUniqueConstraints(e,[t])];case 1:return n.sent(),[2]}}))}))},t.prototype.createUniqueConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.addUniqueConstraint(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.dropUniqueConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof d.a?t:n.uniques.find((function(e){return e.name===t}))))throw new Error("Supplied unique constraint was not found in table "+n.name);return[4,this.dropUniqueConstraints(n,[a])];case 4:return r.sent(),[2]}}))}))},t.prototype.dropUniqueConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.removeUniqueConstraint(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.createCheckConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.createCheckConstraints(e,[t])];case 1:return n.sent(),[2]}}))}))},t.prototype.createCheckConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.addCheckConstraint(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.dropCheckConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof y.a?t:n.checks.find((function(e){return e.name===t}))))throw new Error("Supplied check constraint was not found in table "+n.name);return[4,this.dropCheckConstraints(n,[a])];case 4:return r.sent(),[2]}}))}))},t.prototype.dropCheckConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.removeCheckConstraint(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.createExclusionConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("Sqlite does not support exclusion constraints.")}))}))},t.prototype.createExclusionConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("Sqlite does not support exclusion constraints.")}))}))},t.prototype.dropExclusionConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("Sqlite does not support exclusion constraints.")}))}))},t.prototype.dropExclusionConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("Sqlite does not support exclusion constraints.")}))}))},t.prototype.createForeignKey=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(n){switch(n.label){case 0:return[4,this.createForeignKeys(e,[t])];case 1:return n.sent(),[2]}}))}))},t.prototype.createForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.addForeignKey(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.dropForeignKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof l.a?t:n.foreignKeys.find((function(e){return e.name===t}))))throw new Error("Supplied foreign key was not found in table "+n.name);return[4,this.dropForeignKeys(e,[a])];case 4:return r.sent(),[2]}}))}))},t.prototype.dropForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),t.forEach((function(e){return a.removeForeignKey(e)})),[4,this.recreateTable(a,n)];case 4:return r.sent(),[2]}}))}))},t.prototype.createIndex=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.indexName(n.name,t.columnNames,t.where)),a=this.createIndexSql(n,t),o=this.dropIndexSql(t),[4,this.executeQueries(a,o)];case 4:return r.sent(),n.addIndex(t),[2]}}))}))},t.prototype.createIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.createIndex(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.dropIndex=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof c.a?t:n.indices.find((function(e){return e.name===t}))))throw new Error("Supplied index was not found in table "+n.name);return o=this.dropIndexSql(a),s=this.createIndexSql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeIndex(a),[2]}}))}))},t.prototype.dropIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.dropIndex(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.clearTable=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query('DELETE FROM "'+e+'"')];case 1:return t.sent(),[2]}}))}))},t.prototype.clearDatabase=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.query("PRAGMA foreign_keys = OFF;")];case 1:return r.sent(),[4,this.startTransaction()];case 2:r.sent(),r.label=3;case 3:return r.trys.push([3,9,14,16]),[4,this.query("SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'")];case 4:return e=r.sent(),[4,Promise.all(e.map((function(e){return i.query(e.query)})))];case 5:return r.sent(),[4,this.query("SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'")];case 6:return t=r.sent(),[4,Promise.all(t.map((function(e){return i.query(e.query)})))];case 7:return r.sent(),[4,this.commitTransaction()];case 8:return r.sent(),[3,16];case 9:n=r.sent(),r.label=10;case 10:return r.trys.push([10,12,,13]),[4,this.rollbackTransaction()];case 11:case 12:return r.sent(),[3,13];case 13:throw n;case 14:return[4,this.query("PRAGMA foreign_keys = ON;")];case 15:return r.sent(),[7];case 16:return[2]}}))}))},t.prototype.loadViews=function(e){return r.b(this,void 0,void 0,(function(){var t,n;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.hasTable(this.getTypeormMetadataTableName())];case 1:return r.sent()?(t=e.map((function(e){return"'"+e+"'"})).join(", "),n='SELECT "t".* FROM "'+this.getTypeormMetadataTableName()+'" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = \'view\' WHERE "t"."type" = \'VIEW\'',t.length>0&&(n+=' AND "t"."name" IN ('+t+")"),[4,this.query(n)]):[2,Promise.resolve([])];case 2:return[2,r.sent().map((function(e){var t=new h.a;return t.name=e.name,t.expression=e.value,t}))]}}))}))},t.prototype.loadTables=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a=this;return r.e(this,(function(s){switch(s.label){case 0:return e&&e.length?(t=e.map((function(e){return"'"+e+"'"})).join(", "),[4,this.query('SELECT * FROM "sqlite_master" WHERE "type" = \'table\' AND "name" IN ('+t+")")]):[2,[]];case 1:return n=s.sent(),[4,this.query('SELECT * FROM "sqlite_master" WHERE "type" = \'index\' AND "tbl_name" IN ('+t+")")];case 2:return i=s.sent(),n&&n.length?[2,Promise.all(n.map((function(e){return r.b(a,void 0,void 0,(function(){var t,n,a,s,h,f,p,v,g,b,E,w,O,C,T,_,A,S,N=this;return r.e(this,(function(k){switch(k.label){case 0:return t=new u.a({name:e.name}),n=e.sql,[4,Promise.all([this.query('PRAGMA table_info("'+e.name+'")'),this.query('PRAGMA index_list("'+e.name+'")'),this.query('PRAGMA foreign_key_list("'+e.name+'")')])];case 1:return a=r.g.apply(void 0,[k.sent(),3]),s=a[0],h=a[1],f=a[2],p=void 0,-1!==(g=(v=e.sql).toUpperCase().indexOf("AUTOINCREMENT"))&&(p=v.substr(0,g),b=p.lastIndexOf(","),E=p.lastIndexOf("("),-1!==b?p=(p=(p=p.substr(b)).substr(0,p.lastIndexOf('"'))).substr(p.indexOf('"')+1):-1!==E&&(p=(p=(p=p.substr(E)).substr(0,p.lastIndexOf('"'))).substr(p.indexOf('"')+1))),t.columns=s.map((function(e){var t=new o.a;if(t.name=e.name,t.type=e.type.toLowerCase(),t.default=null!=e.dflt_value?e.dflt_value:void 0,t.isNullable=0===e.notnull,t.isPrimary=e.pk>0,t.comment="",t.isGenerated=p===e.name,t.isGenerated&&(t.generationStrategy="increment"),"varchar"===t.type){var r=n.match(new RegExp('"('+t.name+")\" varchar CHECK\\s*\\(\\s*\\1\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)"));r&&(t.type="simple-enum",t.enum=r[2].substr(1,r[2].length-2).split("','"))}var i=t.type.indexOf("(");if(-1!==i){var a=t.type.substr(0,i);if(N.driver.withLengthColumnTypes.find((function(e){return e===a}))){var s=parseInt(t.type.substring(i+1,t.type.length-1));s&&(t.length=s.toString(),t.type=a)}}return t})),w=m.a.uniq(f,(function(e){return e.id})),t.foreignKeys=w.map((function(e){var n=f.filter((function(t){return t.id===e.id&&t.table===e.table})),r=n.map((function(e){return e.from})),i=n.map((function(e){return e.to})),a=N.connection.namingStrategy.foreignKeyName(t,r,e.referencedTableName,e.referencedColumnNames);return new l.a({name:a,columnNames:r,referencedTableName:e.table,referencedColumnNames:i,onDelete:e.on_delete,onUpdate:e.on_update})})),O=h.filter((function(e){return"u"===e.origin})).map((function(e){return e.name})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return r.b(N,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return n=h.find((function(t){return t.name===e})),[4,this.query('PRAGMA index_info("'+n.name+'")')];case 1:return i=r.sent(),1===(a=i.sort((function(e,t){return parseInt(e.seqno)-parseInt(t.seqno)})).map((function(e){return e.name}))).length&&(o=t.columns.find((function(e){return!!a.find((function(t){return t===e.name}))})))&&(o.isUnique=!0),[2,new d.a({name:this.connection.namingStrategy.uniqueConstraintName(t,a),columnNames:a})]}}))}))})),C=t,[4,Promise.all(O)];case 2:for(C.uniques=k.sent(),_=/CONSTRAINT "([^"]*)" CHECK (\(.*?\))([,]|[)]$)/g;null!==(T=_.exec(n));)t.checks.push(new y.a({name:T[1],expression:T[2]}));return A=h.filter((function(e){return"c"===e.origin})).map((function(e){return e.name})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return r.b(N,void 0,void 0,(function(){var n,a,o,s,u;return r.e(this,(function(r){switch(r.label){case 0:return n=i.find((function(t){return t.name===e})),a=/WHERE (.*)/.exec(n.sql),o=h.find((function(t){return t.name===e})),[4,this.query('PRAGMA index_info("'+o.name+'")')];case 1:return s=r.sent(),u=s.sort((function(e,t){return parseInt(e.seqno)-parseInt(t.seqno)})).map((function(e){return e.name})),[2,new c.a({table:t,name:o.name,columnNames:u,isUnique:"1"===o.unique||1===o.unique,where:a?a[1]:void 0})]}}))}))})),[4,Promise.all(A)];case 3:return S=k.sent(),t.indices=S.filter((function(e){return!!e})),[2,t]}}))}))})))]:[2,[]]}}))}))},t.prototype.createTableSql=function(e,t){var n=this,r=e.columns.filter((function(e){return e.isPrimary})),i=r.find((function(e){return e.isGenerated&&"increment"===e.generationStrategy})),a=r.length>1;if(a&&i)throw new Error("Sqlite does not support AUTOINCREMENT on composite primary key");var o=e.columns.map((function(e){return n.buildCreateColumnSql(e,a)})).join(", "),s='CREATE TABLE "'+e.name+'" ('+o;e.columns.filter((function(e){return e.isUnique})).forEach((function(t){e.uniques.some((function(e){return 1===e.columnNames.length&&e.columnNames[0]===t.name}))||e.uniques.push(new d.a({name:n.connection.namingStrategy.uniqueConstraintName(e.name,[t.name]),columnNames:[t.name]}))})),e.uniques.length>0&&(s+=", "+e.uniques.map((function(t){return'CONSTRAINT "'+(t.name?t.name:n.connection.namingStrategy.uniqueConstraintName(e.name,t.columnNames))+'" UNIQUE ('+t.columnNames.map((function(e){return'"'+e+'"'})).join(", ")+")"})).join(", ")),e.checks.length>0&&(s+=", "+e.checks.map((function(t){return'CONSTRAINT "'+(t.name?t.name:n.connection.namingStrategy.checkConstraintName(e.name,t.expression))+'" CHECK ('+t.expression+")"})).join(", ")),e.foreignKeys.length>0&&t&&(s+=", "+e.foreignKeys.map((function(t){var r=t.columnNames.map((function(e){return'"'+e+'"'})).join(", ");t.name||(t.name=n.connection.namingStrategy.foreignKeyName(e.name,t.columnNames,t.referencedTableName,t.referencedColumnNames));var i=t.referencedColumnNames.map((function(e){return'"'+e+'"'})).join(", "),a='CONSTRAINT "'+t.name+'" FOREIGN KEY ('+r+') REFERENCES "'+t.referencedTableName+'" ('+i+")";return t.onDelete&&(a+=" ON DELETE "+t.onDelete),t.onUpdate&&(a+=" ON UPDATE "+t.onUpdate),a})).join(", ")),r.length>1&&(s+=", PRIMARY KEY ("+r.map((function(e){return'"'+e.name+'"'})).join(", ")+")"),s+=")";var u=this.connection.entityMetadatas.find((function(t){return t.tableName===e.name}));return u&&u.withoutRowid&&(s+=" WITHOUT ROWID"),new f.a(s)},t.prototype.dropTableSql=function(e,t){var n=e instanceof u.a?e.name:e;return new f.a(t?'DROP TABLE IF EXISTS "'+n+'"':'DROP TABLE "'+n+'"')},t.prototype.createViewSql=function(e){return new f.a("string"==typeof e.expression?'CREATE VIEW "'+e.name+'" AS '+e.expression:'CREATE VIEW "'+e.name+'" AS '+e.expression(this.connection).getQuery())},t.prototype.insertViewDefinitionSql=function(e){var t="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery(),n=r.g(this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({type:"VIEW",name:e.name,value:t}).getQueryAndParameters(),2);return new f.a(n[0],n[1])},t.prototype.dropViewSql=function(e){return new f.a('DROP VIEW "'+(e instanceof h.a?e.name:e)+'"')},t.prototype.deleteViewDefinitionSql=function(e){var t=e instanceof h.a?e.name:e,n=this.connection.createQueryBuilder(),i=r.g(n.delete().from(this.getTypeormMetadataTableName()).where(n.escape("type")+" = 'VIEW'").andWhere(n.escape("name")+" = :name",{name:t}).getQueryAndParameters(),2);return new f.a(i[0],i[1])},t.prototype.createIndexSql=function(e,t){var n=t.columnNames.map((function(e){return'"'+e+'"'})).join(", ");return new f.a("CREATE "+(t.isUnique?"UNIQUE ":"")+'INDEX "'+t.name+'" ON "'+e.name+'" ('+n+") "+(t.where?"WHERE "+t.where:""))},t.prototype.dropIndexSql=function(e){return new f.a('DROP INDEX "'+(e instanceof c.a?e.name:e)+'"')},t.prototype.buildCreateColumnSql=function(e,t){var n='"'+e.name+'"';return n+=e instanceof s.a?" "+this.driver.normalizeType(e):" "+this.connection.driver.createFullType(e),e.enum&&(n+=" CHECK( "+e.name+" IN ("+e.enum.map((function(e){return"'"+e+"'"})).join(",")+") )"),e.isPrimary&&!t&&(n+=" PRIMARY KEY"),!0===e.isGenerated&&"increment"===e.generationStrategy&&(n+=" AUTOINCREMENT"),e.collation&&(n+=" COLLATE "+e.collation),!0!==e.isNullable&&(n+=" NOT NULL"),null!=e.default&&(n+=" DEFAULT ("+e.default+")"),n},t.prototype.recreateTable=function(e,t,n){return void 0===n&&(n=!0),r.b(this,void 0,void 0,(function(){var i,a,o,s,u=this;return r.e(this,(function(r){switch(r.label){case 0:return i=[],a=[],t.indices.forEach((function(e){i.push(u.dropIndexSql(e)),a.push(u.createIndexSql(t,e))})),e.name="temporary_"+e.name,i.push(this.createTableSql(e,!0)),a.push(this.dropTableSql(e)),n&&(o=e.columns.map((function(e){return'"'+e.name+'"'})).join(", "),s=t.columns.map((function(e){return'"'+e.name+'"'})).join(", "),t.columns.length<e.columns.length?o=e.columns.filter((function(e){return t.columns.find((function(t){return t.name===e.name}))})).map((function(e){return'"'+e.name+'"'})).join(", "):t.columns.length>e.columns.length&&(s=t.columns.filter((function(t){return e.columns.find((function(e){return e.name===t.name}))})).map((function(e){return'"'+e.name+'"'})).join(", ")),i.push(new f.a('INSERT INTO "'+e.name+'"('+o+") SELECT "+s+' FROM "'+t.name+'"')),a.push(new f.a('INSERT INTO "'+t.name+'"('+s+") SELECT "+o+' FROM "'+e.name+'"'))),i.push(this.dropTableSql(t)),a.push(this.createTableSql(t,!0)),i.push(new f.a('ALTER TABLE "'+e.name+'" RENAME TO "'+t.name+'"')),a.push(new f.a('ALTER TABLE "'+t.name+'" RENAME TO "'+e.name+'"')),e.name=t.name,e.indices.forEach((function(t){t.name||(t.name=u.connection.namingStrategy.indexName(e.name,t.columnNames,t.where)),i.push(u.createIndexSql(e,t)),a.push(u.dropIndexSql(t))})),[4,this.executeQueries(i,a)];case 1:return r.sent(),this.replaceCachedTable(t,e),[2]}}))}))},t}(p.a)},"n+lo":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){this.queryRunner=e}return e.prototype.broadcastBeforeInsertEvent=function(e,t,n){var r=this;n&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((function(i){if(r.isAllowedSubscriber(i,t.target)&&i.beforeInsert){var a=i.beforeInsert({connection:r.queryRunner.connection,queryRunner:r.queryRunner,manager:r.queryRunner.manager,entity:n,metadata:t});a instanceof Promise&&e.promises.push(a),e.count++}}))},e.prototype.broadcastBeforeUpdateEvent=function(e,t,n,r,i,a){var o=this;n&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((function(s){if(o.isAllowedSubscriber(s,t.target)&&s.beforeUpdate){var u=s.beforeUpdate({connection:o.queryRunner.connection,queryRunner:o.queryRunner,manager:o.queryRunner.manager,entity:n,metadata:t,databaseEntity:r,updatedColumns:i||[],updatedRelations:a||[]});u instanceof Promise&&e.promises.push(u),e.count++}}))},e.prototype.broadcastBeforeRemoveEvent=function(e,t,n,r){var i=this;n&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((function(a){if(i.isAllowedSubscriber(a,t.target)&&a.beforeRemove){var o=a.beforeRemove({connection:i.queryRunner.connection,queryRunner:i.queryRunner,manager:i.queryRunner.manager,entity:n,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r)});o instanceof Promise&&e.promises.push(o),e.count++}}))},e.prototype.broadcastAfterInsertEvent=function(e,t,n){var r=this;n&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((function(i){if(r.isAllowedSubscriber(i,t.target)&&i.afterInsert){var a=i.afterInsert({connection:r.queryRunner.connection,queryRunner:r.queryRunner,manager:r.queryRunner.manager,entity:n,metadata:t});a instanceof Promise&&e.promises.push(a),e.count++}}))},e.prototype.broadcastAfterUpdateEvent=function(e,t,n,r,i,a){var o=this;n&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((function(s){if(o.isAllowedSubscriber(s,t.target)&&s.afterUpdate){var u=s.afterUpdate({connection:o.queryRunner.connection,queryRunner:o.queryRunner,manager:o.queryRunner.manager,entity:n,metadata:t,databaseEntity:r,updatedColumns:i||[],updatedRelations:a||[]});u instanceof Promise&&e.promises.push(u),e.count++}}))},e.prototype.broadcastAfterRemoveEvent=function(e,t,n,r){var i=this;n&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((function(a){if(i.isAllowedSubscriber(a,t.target)&&a.afterRemove){var o=a.afterRemove({connection:i.queryRunner.connection,queryRunner:i.queryRunner,manager:i.queryRunner.manager,entity:n,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r)});o instanceof Promise&&e.promises.push(o),e.count++}}))},e.prototype.broadcastLoadEventsForAll=function(e,t,n){var r=this;n.forEach((function(n){n instanceof Promise||(t.relations.length&&t.relations.forEach((function(t){if(!t.isLazy||n.hasOwnProperty(t.propertyName)){var i=t.getEntityValue(n);i instanceof Object&&r.broadcastLoadEventsForAll(e,t.inverseEntityMetadata,Array.isArray(i)?i:[i])}})),t.afterLoadListeners.length&&t.afterLoadListeners.forEach((function(t){if(t.isAllowed(n)){var r=t.execute(n);r instanceof Promise&&e.promises.push(r),e.count++}})),r.queryRunner.connection.subscribers.length&&r.queryRunner.connection.subscribers.forEach((function(i){if(r.isAllowedSubscriber(i,t.target)&&i.afterLoad){var a=i.afterLoad(n,{connection:r.queryRunner.connection,queryRunner:r.queryRunner,manager:r.queryRunner.manager,entity:n,metadata:t});a instanceof Promise&&e.promises.push(a),e.count++}})))}))},e.prototype.isAllowedSubscriber=function(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)},e}()},nIj0:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return Qe})),n.d(t,"c",(function(){return Ve})),n.d(t,"d",(function(){return Pe})),n.d(t,"e",(function(){return We})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return xe})),n.d(t,"k",(function(){return Ke})),n.d(t,"l",(function(){return D})),n.d(t,"m",(function(){return Me}));var r=n("uWoz"),i=n("mPN/"),a=n("K8MB"),o=n("Qvxn"),s=n("sTvq"),u=n("bI4O"),c=n("jg4I"),l=n("EM62"),h=n("2kYt"),f=n("P4Xx"),d=n("GoAz"),p=n("YtkY"),m=new l.q("NgValueAccessor"),y={provide:m,useExisting:Object(l.S)((function(){return v})),multi:!0},v=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l))},e.\u0275dir=l.Eb({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&l.Xb("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[l.xb([y])]}),e}(),g={provide:m,useExisting:Object(l.S)((function(){return E})),multi:!0},b=new l.q("CompositionEventMode"),E=function(){var e=function(){function e(t,n,r){var i;Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Object(h.L)()?Object(h.L)().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l),l.Jb(b,8))},e.\u0275dir=l.Eb({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&l.Xb("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[l.xb([g])]}),e}(),w=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l.Eb({type:e}),e}(),O=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(w);return e.\u0275fac=function(t){return C(t||e)},e.\u0275dir=l.Eb({type:e,features:[l.vb]}),e}(),C=l.Rb(O);function T(){throw new Error("unimplemented")}var _=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(c.a)(n,[{key:"validator",get:function(){return T()}},{key:"asyncValidator",get:function(){return T()}}]),n}(w),A=function(){function e(t){Object(u.a)(this,e),this._cd=t}return Object(c.a)(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),S=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return n}(A);return e.\u0275fac=function(t){return new(t||e)(l.Jb(_,2))},e.\u0275dir=l.Eb({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&l.Bb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[l.vb]}),e}(),N=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return n}(A);return e.\u0275fac=function(t){return new(t||e)(l.Jb(O,2))},e.\u0275dir=l.Eb({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&l.Bb("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[l.vb]}),e}();function k(e){return null==e||0===e.length}function j(e){return null!=e&&"number"==typeof e.length}var x=new l.q("NgValidators"),M=new l.q("NgAsyncValidators"),R=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,D=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,null,[{key:"min",value:function(e){return function(t){if(k(t.value)||k(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(k(t.value)||k(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return k(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return k(e.value)||R.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){return k(t.value)||!j(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"maxLength",value:function(e){return function(t){return j(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(k(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(P);return 0==t.length?null:function(e){return L(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(P);return 0==t.length?null:function(e){var n=function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(I);return Object(f.a)(n).pipe(Object(p.a)(L))}}}]),e}();function P(e){return null!=e}function I(e){var t=Object(l.qb)(e)?Object(d.a)(e):e;if(!Object(l.pb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function L(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function F(e){return e.validate?function(t){return e.validate(t)}:e}function q(e){return e.validate?function(t){return e.validate(t)}:e}var B={provide:m,useExisting:Object(l.S)((function(){return U})),multi:!0},U=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l))},e.\u0275dir=l.Eb({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&l.Xb("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[l.xb([B])]}),e}(),V={provide:m,useExisting:Object(l.S)((function(){return z})),multi:!0},H=function(){var e=function(){function e(){Object(u.a)(this,e),this._accessors=[]}return Object(c.a)(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac}),e}(),z=function(){var e=function(){function e(t,n,r,i){Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(_),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l),l.Jb(H),l.Jb(l.r))},e.\u0275dir=l.Eb({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&l.Xb("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l.xb([V])]}),e}(),Q={provide:m,useExisting:Object(l.S)((function(){return W})),multi:!0},W=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return Object(c.a)(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l))},e.\u0275dir=l.Eb({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&l.Xb("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[l.xb([Q])]}),e}(),K='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',G='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',J='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Y=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(K))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(G,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(J))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(K))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(G))}},{key:"arrayParentException",value:function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ".concat('\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });'))}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,".\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in Angular v7.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),Z={provide:m,useExisting:Object(l.S)((function(){return X})),multi:!0},X=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return Object(c.a)(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l))},e.\u0275dir=l.Eb({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&l.Xb("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[l.xb([Z])]}),e}(),$={provide:m,useExisting:Object(l.S)((function(){return ee})),multi:!0},ee=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Object.is}return Object(c.a)(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,a=0;a<i.length;a++){var o=i.item(a),s=t._getOptionValue(o.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=t._getOptionValue(l.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Jb(l.D),l.Jb(l.l))},e.\u0275dir=l.Eb({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&l.Xb("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[l.xb([$])]}),e}();function te(e,t){return[].concat(Object(a.a)(t.path),[e])}function ne(e,t){e||oe(t,"Cannot find control with"),t.valueAccessor||oe(t,"No value accessor for form control with"),e.validator=D.compose([e.validator,t.validator]),e.asyncValidator=D.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&re(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&re(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function re(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ie(e,t){null==e&&oe(t,"Cannot find control with"),e.validator=D.compose([e.validator,t.validator]),e.asyncValidator=D.composeAsync([e.asyncValidator,t.asyncValidator])}function ae(e){return oe(e,"There is no FormControl instance attached to form control element with")}function oe(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function se(e){return null!=e?D.compose(e.map(F)):null}function ue(e){return null!=e?D.composeAsync(e.map(q)):null}function ce(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}var le=[v,W,U,X,ee,z];function he(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function fe(e,t){if(!t)return null;Array.isArray(t)||oe(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var a;t.constructor===E?n=t:(a=t,le.some((function(e){return a.constructor===e}))?(r&&oe(e,"More than one built-in value accessor matches form control with"),r=t):(i&&oe(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(oe(e,"No valid value accessor for form control with"),null)}function de(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function pe(e){var t=ye(e)?e.validators:e;return Array.isArray(t)?se(t):t||null}function me(e,t){var n=ye(t)?t.asyncValidators:e;return Array.isArray(n)?ue(n):n||null}function ye(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ve=function(){function e(t,n){Object(u.a)(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object(c.a)(e,[{key:"setValidators",value:function(e){this.validator=pe(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=me(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=I(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach((function(e){r=r instanceof be?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Ee&&r.at(e)||null})),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new l.n,this.statusChanges=new l.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){ye(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),ge=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return Object(u.a)(this,n),(e=t.call(this,pe(i),me(a,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return Object(c.a)(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ve),be=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var a;return Object(u.a)(this,n),(a=t.call(this,pe(r),me(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return Object(c.a)(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof ge?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++)if(this.controls[t[e]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(ve),Ee=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var a;return Object(u.a)(this,n),(a=t.call(this,pe(r),me(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return Object(c.a)(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof ge?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=Object(i.a)(this.controls);try{for(t.s();!(e=t.n()).done;)if(e.value.enabled)return!1}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(ve),we={provide:O,useExisting:Object(l.S)((function(){return Ce}))},Oe=function(){return Promise.resolve(null)}(),Ce=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new l.n,i.form=new be({},se(e),ue(r)),i}return Object(c.a)(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Oe.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ne(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Oe.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),de(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;Oe.then((function(){var n=t._findContainer(e.path),r=new be({});ie(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Oe.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Oe.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,he(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(O);return e.\u0275fac=function(t){return new(t||e)(l.Jb(x,10),l.Jb(M,10))},e.\u0275dir=l.Eb({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&l.Xb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.xb([we]),l.vb]}),e}(),Te=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return te(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return se(this._validators)}},{key:"asyncValidator",get:function(){return ue(this._asyncValidators)}}]),n}(O);return e.\u0275fac=function(t){return _e(t||e)},e.\u0275dir=l.Eb({type:e,features:[l.vb]}),e}(),_e=l.Rb(Te),Ae=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(K,"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ").concat('\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(G,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(J))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(G,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(J))}}]),e}(),Se={provide:O,useExisting:Object(l.S)((function(){return Ne}))},Ne=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var a;return Object(u.a)(this,n),(a=t.call(this))._parent=e,a._validators=r,a._asyncValidators=i,a}return Object(c.a)(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof Ce||Ae.modelGroupParentException()}}]),n}(Te);return e.\u0275fac=function(t){return new(t||e)(l.Jb(O,5),l.Jb(x,10),l.Jb(M,10))},e.\u0275dir=l.Eb({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[l.xb([Se]),l.vb]}),e}(),ke={provide:_,useExisting:Object(l.S)((function(){return xe}))},je=function(){return Promise.resolve(null)}(),xe=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,i,a,o){var s;return Object(u.a)(this,n),(s=t.call(this)).control=new ge,s._registered=!1,s.update=new l.n,s._parent=e,s._rawValidators=i||[],s._rawAsyncValidators=a||[],s.valueAccessor=fe(Object(r.a)(s),o),s}return Object(c.a)(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),ce(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ne(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Ne)&&this._parent instanceof Te?Ae.formGroupNameException():this._parent instanceof Ne||this._parent instanceof Ce||Ae.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ae.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;je.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;je.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?te(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return se(this._rawValidators)}},{key:"asyncValidator",get:function(){return ue(this._rawAsyncValidators)}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(l.Jb(O,9),l.Jb(x,10),l.Jb(M,10),l.Jb(m,10))},e.\u0275dir=l.Eb({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.xb([ke]),l.vb,l.wb]}),e}(),Me=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=l.Eb({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),Re=new l.q("NgModelWithFormControlWarning"),De={provide:O,useExisting:Object(l.S)((function(){return Pe}))},Pe=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r){var i;return Object(u.a)(this,n),(i=t.call(this))._validators=e,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new l.n,i}return Object(c.a)(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return ne(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){de(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);ie(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);ie(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,he(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return ae(t)})),t.valueAccessor.registerOnTouched((function(){return ae(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&ne(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=se(this._validators);this.form.validator=D.compose([this.form.validator,e]);var t=ue(this._asyncValidators);this.form.asyncValidator=D.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Y.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(O);return e.\u0275fac=function(t){return new(t||e)(l.Jb(x,10),l.Jb(M,10))},e.\u0275dir=l.Eb({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&l.Xb("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.xb([De]),l.vb,l.wb]}),e}(),Ie={provide:O,useExisting:Object(l.S)((function(){return Le}))},Le=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var a;return Object(u.a)(this,n),(a=t.call(this))._parent=e,a._validators=r,a._asyncValidators=i,a}return Object(c.a)(n,[{key:"_checkParentType",value:function(){Be(this._parent)&&Y.groupParentException()}}]),n}(Te);return e.\u0275fac=function(t){return new(t||e)(l.Jb(O,13),l.Jb(x,10),l.Jb(M,10))},e.\u0275dir=l.Eb({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[l.xb([Ie]),l.vb]}),e}(),Fe={provide:O,useExisting:Object(l.S)((function(){return qe}))},qe=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var a;return Object(u.a)(this,n),(a=t.call(this))._parent=e,a._validators=r,a._asyncValidators=i,a}return Object(c.a)(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){Be(this._parent)&&Y.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return te(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return se(this._validators)}},{key:"asyncValidator",get:function(){return ue(this._asyncValidators)}}]),n}(O);return e.\u0275fac=function(t){return new(t||e)(l.Jb(O,13),l.Jb(x,10),l.Jb(M,10))},e.\u0275dir=l.Eb({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[l.xb([Fe]),l.vb]}),e}();function Be(e){return!(e instanceof Le||e instanceof Pe||e instanceof qe)}var Ue={provide:_,useExisting:Object(l.S)((function(){return Ve}))},Ve=function(){var e=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,i,a,o,s){var c;return Object(u.a)(this,n),(c=t.call(this))._ngModelWarningConfig=s,c._added=!1,c.update=new l.n,c._ngModelWarningSent=!1,c._parent=e,c._rawValidators=i||[],c._rawAsyncValidators=a||[],c.valueAccessor=fe(Object(r.a)(c),o),c}return Object(c.a)(n,[{key:"ngOnChanges",value:function(e){var t,r;this._added||this._setUpControl(),ce(e,this.viewModel)&&("formControlName",t=n,this,r=this._ngModelWarningConfig,Object(l.U)()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Y.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof Le)&&this._parent instanceof Te?Y.ngModelGroupException():this._parent instanceof Le||this._parent instanceof Pe||this._parent instanceof qe||Y.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){Y.disabledAttrWarning()}},{key:"path",get:function(){return te(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return se(this._rawValidators)}},{key:"asyncValidator",get:function(){return ue(this._rawAsyncValidators)}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(l.Jb(O,13),l.Jb(x,10),l.Jb(M,10),l.Jb(m,10),l.Jb(Re,8))},e.\u0275dir=l.Eb({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.xb([Ue]),l.vb,l.wb]}),e._ngModelWarningSentOnce=!1,e}(),He=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)}}),e}();function ze(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}var Qe=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,a=void 0;return null!=t&&(ze(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,a=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new be(n,{asyncValidators:i,updateOn:a,validators:r})}},{key:"control",value:function(e,t,n){return new ge(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new Ee(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof ge||e instanceof be||e instanceof Ee?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Fb({token:e,factory:e.\u0275fac}),e}(),We=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},providers:[H],imports:[He]}),e}(),Ke=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(c.a)(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Re,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},providers:[Qe,H],imports:[He]}),e}()},nobI:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("D57K"),i=n("h5d3"),a=n("ecGF"),o=n("OfrW"),s=n("0rEu"),u=n("bo9S"),c=function(){function e(e){this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.comment="",this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),null===e.args.options.default&&(this.isNullable=!0),void 0!==e.args.options.nullable&&(this.isNullable=e.args.options.nullable),void 0!==e.args.options.select&&(this.isSelect=e.args.options.select),void 0!==e.args.options.insert&&(this.isInsert=e.args.options.insert),void 0!==e.args.options.update&&(this.isUpdate=e.args.options.update),void 0!==e.args.options.readonly&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),void 0!==e.args.options.default&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),null!=e.args.options.scale&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),void 0!==e.args.options.precision&&(this.precision=e.args.options.precision),e.args.options.enum&&(this.enum=e.args.options.enum instanceof Object&&!Array.isArray(e.args.options.enum)?Object.keys(e.args.options.enum).filter((function(e){return isNaN(+e)})).map((function(t){return e.args.options.enum[t]})):e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtual="virtual"===e.args.mode,this.isTreeLevel="treeLevel"===e.args.mode,this.isCreateDate="createDate"===e.args.mode,this.isUpdateDate="updateDate"===e.args.mode,this.isDeleteDate="deleteDate"===e.args.mode,this.isVersion="version"===e.args.mode,this.isObjectId="objectId"===e.args.mode),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),void 0!==e.args.options.srid&&(this.srid=e.args.options.srid),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=function(){return e.connection.driver.mappedDataTypes.createDateDefault}),void 0===this.precision&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=function(){return e.connection.driver.mappedDataTypes.updateDateDefault}),void 0===this.precision&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),void 0===this.precision&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}return e.prototype.createValueMap=function(e,t){var n,i=this;return void 0===t&&(t=!1),this.embeddedMetadata?function n(r,a){var o=r.shift();return o?(a[o]={},n(r,a[o]),a):("increment"!==i.generationStrategy&&"rowid"!==i.generationStrategy||"bigint"!==i.type||(e=String(e)),a[t?i.databaseName:i.propertyName]=e,a)}(r.i(this.embeddedMetadata.parentPropertyNames),{}):("increment"!==this.generationStrategy&&"rowid"!==this.generationStrategy||"bigint"!==this.type||(e=String(e)),(n={})[t?this.databaseName:this.propertyName]=e,n)},e.prototype.getEntityValueMap=function(e,t){var n,a,o=this;if(this.embeddedMetadata)return function e(t,n,r){var i=t.shift();if(void 0===n)return r;if(i){var a={};return e(t,n[i],a),Object.keys(a).length>0&&(r[i]=a),r}return void 0!==n[o.propertyName]&&(r[o.propertyName]=n[o.propertyName]),r}(r.i(this.embeddedMetadata.parentPropertyNames),e,s={}),Object.keys(s).length>0?s:void 0;if(this.relationMetadata&&e[this.propertyName]&&e[this.propertyName]instanceof Object){var s=this.relationMetadata.joinColumns.reduce((function(t,n){var r=n.referencedColumn.getEntityValueMap(e[o.propertyName]);return void 0===r?t:i.a.mergeDeep(t,r)}),{});return Object.keys(s).length>0?((n={})[this.propertyName]=s,n):void 0}return void 0!==e[this.propertyName]?((a={})[this.propertyName]=e[this.propertyName],a):void 0},e.prototype.getEntityValue=function(e,t){if(void 0===t&&(t=!1),null!=e){var n=void 0;if(this.embeddedMetadata){var i=function e(t,n){var r=t.shift();return r&&n?e(t,n[r]):n}(r.i(this.embeddedMetadata.parentPropertyNames),e);i&&(n=this.relationMetadata&&this.referencedColumn?(a=this.relationMetadata.getEntityValue(i))&&a instanceof Object&&!(a instanceof s.a)?this.referencedColumn.getEntityValue(o.a.extractValue(a)):i[this.propertyName]&&i[this.propertyName]instanceof Object&&!(i[this.propertyName]instanceof s.a)?this.referencedColumn.getEntityValue(o.a.extractValue(i[this.propertyName])):o.a.extractValue(i[this.propertyName]):this.referencedColumn?this.referencedColumn.getEntityValue(o.a.extractValue(i[this.propertyName])):o.a.extractValue(i[this.propertyName]))}else{var a;n=this.relationMetadata&&this.referencedColumn?!((a=this.relationMetadata.getEntityValue(e))&&a instanceof Object)||a instanceof s.a||a instanceof Function?!(e[this.propertyName]&&e[this.propertyName]instanceof Object)||e[this.propertyName]instanceof s.a||e[this.propertyName]instanceof Function?e[this.propertyName]:this.referencedColumn.getEntityValue(o.a.extractValue(e[this.propertyName])):this.referencedColumn.getEntityValue(o.a.extractValue(a)):this.referencedColumn?this.referencedColumn.getEntityValue(o.a.extractValue(e[this.propertyName])):e[this.propertyName]}return t&&this.transformer&&(n=u.a.transformTo(this.transformer,n)),n}},e.prototype.setEntityValue=function(e,t){var n=this;if(this.embeddedMetadata)return function e(r,i){var a=r.shift();return a?(i[a.propertyName]||(i[a.propertyName]=a.create()),e(r,i[a.propertyName]),i):(i[n.propertyName]=t,i)}(r.i(this.embeddedMetadata.embeddedMetadataTree),e);e[this.propertyName]=t},e.prototype.build=function(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this},e.prototype.buildPropertyPath=function(){var e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e},e.prototype.buildDatabasePath=function(){var e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e},e.prototype.buildDatabaseName=function(e){var t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return e.driver instanceof a.a&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)},e}()},ns0p:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,"a",(function(){return c}));var a={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e,t){i(1,arguments);var n=t||{},a=null==n.additionalDigits?2:r(n.additionalDigits);if(2!==a&&1!==a&&0!==a)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var o,s=l(e);if(s.date){var u=h(s.date,a);o=f(u.restDateString,u.year)}if(isNaN(o)||!o)return new Date(NaN);var c,d=o.getTime(),m=0;if(s.time&&(m=p(s.time),isNaN(m)||null===m))return new Date(NaN);if(!s.timezone){var v=new Date(d+m),g=new Date(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate(),v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds());return g.setFullYear(v.getUTCFullYear()),g}return c=y(s.timezone),isNaN(c)?new Date(NaN):new Date(d+m+c)}function l(e){var t,n={},r=e.split(a.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],a.timeZoneDelimiter.test(n.date)&&(n.date=e.split(a.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=a.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}function h(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var i=r[1]&&parseInt(r[1]),a=r[2]&&parseInt(r[2]);return{year:null==a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}function f(e,t){if(null===t)return null;var n=e.match(o);if(!n)return null;var r=!!n[4],i=d(n[1]),a=d(n[2])-1,s=d(n[3]),u=d(n[4]),c=d(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,u,c)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*(t-1)+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}(t,u,c):new Date(NaN);var l=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(v[t]||(g(e)?29:28))}(t,a,s)&&function(e,t){return t>=1&&t<=(g(e)?366:365)}(t,i)?(l.setUTCFullYear(t,a,Math.max(i,s)),l):new Date(NaN)}function d(e){return e?parseInt(e):1}function p(e){var t=e.match(s);if(!t)return null;var n=m(t[1]),r=m(t[2]),i=m(t[3]);return function(e,t,n){return 24===e?0===t&&0===n:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i)?36e5*n+6e4*r+1e3*i:NaN}function m(e){return e&&parseFloat(e.replace(",","."))||0}function y(e){if("Z"===e)return 0;var t=e.match(u);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(36e5*r+6e4*i):NaN}var v=[31,null,31,30,31,30,31,31,30,31,30,31];function g(e){return e%400==0||e%4==0&&e%100}},oRLA:function(e,t,n){"use strict";n.r(t),n.d(t,"InsertQueryBuilder",(function(){return v}));var r=n("D57K"),i=n("rE0Y"),a=n("ecGF"),o=n("DC8z"),s=n("gB9Z"),u=n("qB/C"),c=n("g3OH"),l=function(e){function t(){var n=e.call(this)||this;return n.name="InsertValuesMissingError",Object.setPrototypeOf(n,t.prototype),n.message='Cannot perform insert query because values are not defined. Call "qb.values(...)" method to specify inserted values.',n}return r.d(t,e),t}(Error),h=n("qNyv"),f=n("HVZQ"),d=n("gFhw"),p=n("2ELk"),m=n("2p4/"),y=n("u6gj"),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.d(t,e),t.prototype.getQuery=function(){return this.createInsertExpression().trim()},t.prototype.execute=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,o,s,c,l,f,m,y,v,g,b,E=this;return r.e(this,(function(w){switch(w.label){case 0:e=this.obtainQueryRunner(),t=!1,w.label=1;case 1:return w.trys.push([1,13,18,23]),!0!==this.expressionMap.useTransaction||!1!==e.isTransactionActive?[3,3]:[4,e.startTransaction()];case 2:w.sent(),t=!0,w.label=3;case 3:return n=this.getValueSets(),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(i=new p.a,n.forEach((function(t){e.broadcaster.broadcastBeforeInsertEvent(i,E.expressionMap.mainAlias.metadata,t)})),i.promises.length>0?[4,Promise.all(i.promises)]:[3,5]):[3,5];case 4:w.sent(),w.label=5;case 5:return o=null,s=null,c=new h.a(e,this.expressionMap),!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata&&(this.expressionMap.extraReturningColumns=c.getInsertionReturningColumns(),this.expressionMap.extraReturningColumns.length>0&&this.connection.driver instanceof a.i&&(o=this.connection.driver.buildTableVariableDeclaration("@OutputTable",this.expressionMap.extraReturningColumns),s="SELECT * FROM @OutputTable")),l=r.g(this.getQueryAndParameters(),2),f=l[0],m=l[1],y=new u.a,v=y,[4,e.query([o,f,s].filter((function(e){return null!=e})).join(";\n\n"),m)];case 6:return v.raw=w.sent(),!0===this.expressionMap.updateEntity&&this.expressionMap.mainAlias.hasMetadata?[4,c.insert(y,n)]:[3,8];case 7:w.sent(),w.label=8;case 8:return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(g=new p.a,n.forEach((function(t){e.broadcaster.broadcastAfterInsertEvent(g,E.expressionMap.mainAlias.metadata,t)})),g.promises.length>0?[4,Promise.all(g.promises)]:[3,10]):[3,10];case 9:w.sent(),w.label=10;case 10:return t?[4,e.commitTransaction()]:[3,12];case 11:w.sent(),w.label=12;case 12:return[2,y];case 13:if(b=w.sent(),!t)return[3,17];w.label=14;case 14:return w.trys.push([14,16,,17]),[4,e.rollbackTransaction()];case 15:case 16:return w.sent(),[3,17];case 17:throw b;case 18:return e===this.queryRunner?[3,20]:[4,e.release()];case 19:w.sent(),w.label=20;case 20:return this.connection.driver instanceof d.a&&!e.isTransactionActive?[4,this.connection.driver.autoSave()]:[3,22];case 21:w.sent(),w.label=22;case 22:return[7];case 23:return[2]}}))}))},t.prototype.into=function(e,t){var n=this.createFromAlias(e=e instanceof m.a?e.options.name:e);return this.expressionMap.setMainAlias(n),this.expressionMap.insertColumns=t||[],this},t.prototype.values=function(e){return this.expressionMap.valuesSet=e,this},t.prototype.output=function(e){return this.returning(e)},t.prototype.returning=function(e){if(!this.connection.driver.isReturningSqlSupported())throw new c.a;return this.expressionMap.returning=e,this},t.prototype.updateEntity=function(e){return this.expressionMap.updateEntity=e,this},t.prototype.onConflict=function(e){return this.expressionMap.onConflict=e,this},t.prototype.orIgnore=function(e){return void 0===e&&(e=!0),this.expressionMap.onIgnore=e,this},t.prototype.orUpdate=function(e){return this.expressionMap.onUpdate={},e&&Array.isArray(e.conflict_target)&&(this.expressionMap.onUpdate.conflict=" ( "+e.conflict_target.join(", ")+" ) "),e&&"string"==typeof e.conflict_target&&(this.expressionMap.onUpdate.conflict=" ON CONSTRAINT "+e.conflict_target+" "),e&&Array.isArray(e.columns)&&(this.expressionMap.onUpdate.columns=e.columns.map((function(e){return e+" = :"+e})).join(", ")),e&&Array.isArray(e.overwrite)&&(this.connection.driver instanceof a.e||this.connection.driver instanceof y.a?this.expressionMap.onUpdate.overwrite=e.overwrite.map((function(e){return e+" = VALUES("+e+")"})).join(", "):(this.connection.driver instanceof a.g||this.connection.driver instanceof f.a||this.connection.driver instanceof i.a)&&(this.expressionMap.onUpdate.overwrite=e.overwrite.map((function(e){return e+" = EXCLUDED."+e})).join(", "))),this},t.prototype.createInsertExpression=function(){var e=this.getTableName(this.getMainTableName()),t=this.createValuesExpression(),n=this.createReturningExpression(),r=this.createColumnNamesExpression(),o="INSERT ";if((this.connection.driver instanceof a.e||this.connection.driver instanceof y.a)&&(o+=this.expressionMap.onIgnore?" IGNORE ":""),o+="INTO "+e,r?o+="("+r+")":!t&&(this.connection.driver instanceof a.e||this.connection.driver instanceof y.a)&&(o+="()"),n&&this.connection.driver instanceof a.i&&(o+=" OUTPUT "+n),o+=t?" VALUES "+t:this.connection.driver instanceof a.e||this.connection.driver instanceof y.a?" VALUES ()":" DEFAULT VALUES",this.connection.driver instanceof a.g||this.connection.driver instanceof f.a||this.connection.driver instanceof i.a){if(o+=this.expressionMap.onIgnore?" ON CONFLICT DO NOTHING ":"",o+=this.expressionMap.onConflict?" ON CONFLICT "+this.expressionMap.onConflict:"",this.expressionMap.onUpdate){var s=this.expressionMap.onUpdate,u=s.conflict;o+=(l=s.columns)?" ON CONFLICT "+u+" DO UPDATE SET "+l:"",o+=(c=s.overwrite)?" ON CONFLICT "+u+" DO UPDATE SET "+c:""}}else if((this.connection.driver instanceof a.e||this.connection.driver instanceof y.a)&&this.expressionMap.onUpdate){var c,l,h=this.expressionMap.onUpdate;o+=(l=h.columns)?" ON DUPLICATE KEY UPDATE "+l:"",o+=(c=h.overwrite)?" ON DUPLICATE KEY UPDATE "+c:""}return n&&(this.connection.driver instanceof a.g||this.connection.driver instanceof a.f||this.connection.driver instanceof i.a)&&(o+=" RETURNING "+n),o},t.prototype.getInsertedColumns=function(){var e=this;return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.columns.filter((function(t){return e.expressionMap.insertColumns.length?-1!==e.expressionMap.insertColumns.indexOf(t.propertyPath):!!t.isInsert&&(!t.isGenerated||"increment"!==t.generationStrategy||e.connection.driver instanceof a.f||e.connection.driver instanceof f.a||e.connection.driver instanceof a.e||e.connection.driver instanceof y.a)})):[]},t.prototype.createColumnNamesExpression=function(){var e=this,t=this.getInsertedColumns();if(t.length>0)return t.map((function(t){return e.escape(t.databaseName)})).join(", ");if(!this.expressionMap.mainAlias.hasMetadata&&!this.expressionMap.insertColumns.length){var n=this.getValueSets();if(1===n.length)return Object.keys(n[0]).map((function(t){return e.escape(t)})).join(", ")}return this.expressionMap.insertColumns.map((function(t){return e.escape(t)})).join(", ")},t.prototype.createValuesExpression=function(){var e=this,t=this.getValueSets(),n=this.getInsertedColumns();if(n.length>0){var r="",i=Object.keys(this.expressionMap.nativeParameters).length;return t.forEach((function(o,u){n.forEach((function(c,l){0===l&&(r+="(");var h="i"+u+"_"+c.databaseName,d=c.getEntityValue(o);if(d instanceof Function||(d=e.connection.driver.preparePersistentValue(d,c)),c.isVersion)r+="1";else if(c.isDiscriminator)e.expressionMap.nativeParameters["discriminator_value_"+i]=e.expressionMap.mainAlias.metadata.discriminatorValue,r+=e.connection.driver.createParameter("discriminator_value_"+i,i),i++;else if(c.isGenerated&&"uuid"===c.generationStrategy&&!e.connection.driver.isUUIDGenerationSupported()&&void 0===d){var p="uuid_"+c.databaseName+u;d=s.a.uuid4(),e.expressionMap.nativeParameters[p]=d,r+=e.connection.driver.createParameter(p,i),i++}else if(void 0===d)r+=e.connection.driver instanceof f.a||e.connection.driver instanceof a.h?void 0!==c.default?e.connection.driver.normalizeDefault(c):"NULL":"DEFAULT";else if(d instanceof Function)r+=d();else{if(e.connection.driver instanceof a.i&&(d=e.connection.driver.parametrizeValue(c,d)),e.expressionMap.nativeParameters[h]=d,(e.connection.driver instanceof a.e||e.connection.driver instanceof y.a)&&-1!==e.connection.driver.spatialTypes.indexOf(c.type)){var m=e.connection.driver.options.legacySpatialSupport?"GeomFromText":"ST_GeomFromText";r+=null!=c.srid?m+"("+e.connection.driver.createParameter(h,i)+", "+c.srid+")":m+"("+e.connection.driver.createParameter(h,i)+")"}else e.connection.driver instanceof a.g&&-1!==e.connection.driver.spatialTypes.indexOf(c.type)?r+=null!=c.srid?"ST_SetSRID(ST_GeomFromGeoJSON("+e.connection.driver.createParameter(h,i)+"), "+c.srid+")::"+c.type:"ST_GeomFromGeoJSON("+e.connection.driver.createParameter(h,i)+")::"+c.type:r+=e.connection.driver.createParameter(h,i);i++}r+=l===n.length-1?u===t.length-1?")":"), ":", "}))})),"()"===r?"":r}var o="",u=Object.keys(this.expressionMap.nativeParameters).length;return t.forEach((function(n,r){Object.keys(n).forEach((function(i,s){0===s&&(o+="(");var c="i"+r+"_"+i,l=n[i];l instanceof Function?o+=l():void 0===l?o+=e.connection.driver instanceof f.a||e.connection.driver instanceof a.h?"NULL":"DEFAULT":(e.expressionMap.nativeParameters[c]=l,o+=e.connection.driver.createParameter(c,u),u++),s===Object.keys(n).length-1?o+=r===t.length-1?")":"), ":o+=", "}))})),"()"===o?"":o},t.prototype.getValueSets=function(){if(Array.isArray(this.expressionMap.valuesSet)&&this.expressionMap.valuesSet.length>0)return this.expressionMap.valuesSet;if(this.expressionMap.valuesSet instanceof Object)return[this.expressionMap.valuesSet];throw new l},t}(o.a)},ogex:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(){var n=e.call(this)||this;return n.name="LimitOnUpdateNotSupportedError",Object.setPrototypeOf(n,t.prototype),n.message="Your database does not support LIMIT on UPDATE statements.",n}return r.d(t,e),t}(Error)},"oxA/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("D57K"),i=n("WOlX"),a=n("PFrq"),o=function(){function e(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,a.a.assign(this,t||{})}return Object.defineProperty(e.prototype,"joinInverseSideMetadata",{get:function(){return this.relation.inverseEntityMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentAlias",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relationPropertyPath",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relation",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value must be a string representation of alias property");var e=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new Error("Relation with property path "+this.relationPropertyPath+" in entity was not found.");return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"junctionAlias",{get:function(){var e=r.g(this.relationName.split("."),2);return e[0]+"_"+e[1]+"_rid"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"junctionMetadata",{get:function(){return this.relation.junctionEntityMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapToPropertyParentAlias",{get:function(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapToPropertyPropertyPath",{get:function(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)},enumerable:!0,configurable:!0}),e}()},p0oL:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},pBDD:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("bI4O"),i=n("jg4I"),a=n("Qvxn"),o=n("sTvq"),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n("5uGe").a)},pqsR:function(e,t,n){"use strict";n.r(t),n.d(t,"DeleteQueryBuilder",(function(){return d}));var r=n("D57K"),i=n("rE0Y"),a=n("ecGF"),o=n("DC8z"),s=n("XSth"),u=n("g3OH"),c=n("gFhw"),l=n("2ELk"),h=n("Chh4"),f=n("u6gj"),d=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.expressionMap.aliasNamePrefixingEnabled=!1,r}return r.d(t,e),t.prototype.getQuery=function(){return this.createDeleteExpression().trim()},t.prototype.execute=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,o,u,h,d,p,m,y;return r.e(this,(function(v){switch(v.label){case 0:e=r.g(this.getQueryAndParameters(),2),t=e[0],n=e[1],o=this.obtainQueryRunner(),u=!1,v.label=1;case 1:return v.trys.push([1,11,16,21]),!0!==this.expressionMap.useTransaction||!1!==o.isTransactionActive?[3,3]:[4,o.startTransaction()];case 2:v.sent(),u=!0,v.label=3;case 3:return!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(m=new l.a,o.broadcaster.broadcastBeforeRemoveEvent(m,this.expressionMap.mainAlias.metadata),m.promises.length>0?[4,Promise.all(m.promises)]:[3,5]):[3,5];case 4:v.sent(),v.label=5;case 5:return h=new s.a,[4,o.query(t,n)];case 6:return d=v.sent(),(p=o.connection.driver)instanceof a.e||p instanceof f.a?(h.raw=d,h.affected=d.affectedRows):p instanceof a.i||p instanceof a.g||p instanceof i.a?(h.raw=d[0]?d[0]:null,h.affected="number"==typeof d[1]?d[1]:null):p instanceof a.f?h.affected=d:h.raw=d,!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata?(m=new l.a,o.broadcaster.broadcastAfterRemoveEvent(m,this.expressionMap.mainAlias.metadata),m.promises.length>0?[4,Promise.all(m.promises)]:[3,8]):[3,8];case 7:v.sent(),v.label=8;case 8:return u?[4,o.commitTransaction()]:[3,10];case 9:v.sent(),v.label=10;case 10:return[2,h];case 11:if(y=v.sent(),!u)return[3,15];v.label=12;case 12:return v.trys.push([12,14,,15]),[4,o.rollbackTransaction()];case 13:case 14:return v.sent(),[3,15];case 15:throw y;case 16:return o===this.queryRunner?[3,18]:[4,o.release()];case 17:v.sent(),v.label=18;case 18:return this.connection.driver instanceof c.a&&!o.isTransactionActive?[4,this.connection.driver.autoSave()]:[3,20];case 19:v.sent(),v.label=20;case 20:return[7];case 21:return[2]}}))}))},t.prototype.from=function(e,t){var n=this.createFromAlias(e=e instanceof h.d?e.options.name:e,t);return this.expressionMap.setMainAlias(n),this},t.prototype.where=function(e,t){this.expressionMap.wheres=[];var n=this.computeWhereParameter(e);return n&&(this.expressionMap.wheres=[{type:"simple",condition:n}]),t&&this.setParameters(t),this},t.prototype.andWhere=function(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.orWhere=function(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.computeWhereParameter(e)}),t&&this.setParameters(t),this},t.prototype.whereInIds=function(e){return this.where(this.createWhereIdsExpression(e))},t.prototype.andWhereInIds=function(e){return this.andWhere(this.createWhereIdsExpression(e))},t.prototype.orWhereInIds=function(e){return this.orWhere(this.createWhereIdsExpression(e))},t.prototype.output=function(e){return this.returning(e)},t.prototype.returning=function(e){if(!this.connection.driver.isReturningSqlSupported())throw new u.a;return this.expressionMap.returning=e,this},t.prototype.createDeleteExpression=function(){var e=this.getTableName(this.getMainTableName()),t=this.createWhereExpression(),n=this.createReturningExpression();return n&&(this.connection.driver instanceof a.g||this.connection.driver instanceof i.a)?"DELETE FROM "+e+t+" RETURNING "+n:""!==n&&this.connection.driver instanceof a.i?"DELETE FROM "+e+" OUTPUT "+n+t:"DELETE FROM "+e+t},t}(o.a)},prE9:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("Efrr"),i=n("Qvxn"),a=n("sTvq"),o=n("bI4O"),s=n("jg4I"),u=n("pBDD"),c=n("mW0F");function l(e){return function(t){return t.lift(new h(e))}}var h=function(){function e(t){Object(o.a)(this,e),this.durationSelector=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e,this.durationSelector))}}]),e}(),f=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e,r){var i;return Object(o.a)(this,n),(i=t.call(this,e)).durationSelector=r,i.hasValue=!1,i}return Object(s.a)(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=Object(c.a)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(u.a),d=n("IdLP"),p=n("FU6l");function m(e){return!Object(p.a)(e)&&e-parseFloat(e)+1>=0}var y=n("gBlb");function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return m(t)?i=Number(t)<1?1:Number(t):Object(y.a)(t)&&(n=t),Object(y.a)(n)||(n=r.a),new d.a((function(t){var r=m(e)?e:+e-n.now();return n.schedule(g,r,{index:0,period:i,subscriber:t})}))}function g(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;return l((function(){return v(e,t)}))}},"q+tU":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("D57K"),i=n("WOlX"),a=n("PFrq"),o=function(){function e(e,t){this.expressionMap=e,a.a.assign(this,t||{})}return Object.defineProperty(e.prototype,"joinInverseSideMetadata",{get:function(){return this.relation.inverseEntityMetadata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentAlias",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value must be a string representation of alias property");return this.relationName.split(".")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relationProperty",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value is a string representation of alias property");return this.relationName.split(".")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"junctionAlias",{get:function(){var e=r.g(this.relationName.split("."),2);return e[0]+"_"+e[1]+"_rc"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relation",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value is a string representation of alias property");var e=r.g(this.relationName.split("."),2),t=e[1],n=this.expressionMap.findAliasByName(e[0]).metadata.findRelationWithPropertyPath(t);if(!n)throw new Error("Relation with property path "+t+" in entity was not found.");return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){if(!i.a.isAliasProperty(this.relationName))throw new Error("Given value is a string representation of alias property");var e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapToPropertyPropertyName",{get:function(){return this.mapToProperty.split(".")[1]},enumerable:!0,configurable:!0}),e}()},"qB/C":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){this.identifiers=[],this.generatedMaps=[]}},qDrx:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.getGlobalVariable=function(){return"undefined"!=typeof window?window:global},e.load=function(e){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: require("'+e+'").');return""},e.pathNormalize=function(e){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: path.normalize("'+e+'").');return""},e.pathExtname=function(e){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: path.extname("'+e+'").');return""},e.pathResolve=function(e){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: path.resolve("'+e+'").');return""},e.fileExist=function(e){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.existsSync("'+e+'").');return!1},e.getEnvVariable=function(e){},e.readFileSync=function(e){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.readFileSync("'+e+'").');return null},e.appendFileSync=function(e,t){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.appendFileSync("'+e+'").')},e.writeFile=function(e,t){if("browser"===this.type)throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.writeFile("'+e+'").');return Promise.reject(null)},e.highlightSql=function(e){return e},e.highlightJson=function(e){return e},e.logInfo=function(e,t){console.info(e+" ",t)},e.logError=function(e,t){console.error(e+" ",t)},e.logWarn=function(e,t){console.warn(e+" ",t)},e.log=function(e){console.log(e)},e.warn=function(e){return e},e.type="browser",e}();"undefined"!=typeof window&&(window.Buffer=n("+oQb").Buffer),"undefined"!=typeof global&&(global.Buffer=n("+oQb").Buffer)},qEfY:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},qNyv:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("D57K"),i=n("h5d3"),a=n("ecGF"),o=function(){function e(e,t){this.queryRunner=e,this.expressionMap=t}return e.prototype.update=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(o){switch(o.label){case 0:return n=this.expressionMap.mainAlias.metadata,[4,Promise.all(t.map((function(t,o){return r.b(i,void 0,void 0,(function(){var i,s,u,c,l=this;return r.e(this,(function(r){switch(r.label){case 0:return this.queryRunner.connection.driver.isReturningSqlSupported()?(this.queryRunner.connection.driver instanceof a.f&&Array.isArray(e.raw)&&this.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce((function(e,t,n){return e[l.expressionMap.extraReturningColumns[n].databaseName]=t[0],e}),{})),i=Array.isArray(e.raw)?e.raw[o]:e.raw,(s=this.queryRunner.connection.driver.createGeneratedMap(n,i))&&(this.queryRunner.manager.merge(n.target,t,s),e.generatedMaps.push(s)),[3,3]):[3,1];case 1:if(!(this.getUpdationReturningColumns().length>0))return[3,3];if(!(u=this.expressionMap.mainAlias.metadata.getEntityIdMap(t)))throw new Error("Cannot update entity because entity id is not set in the entity.");return[4,this.queryRunner.manager.createQueryBuilder().select(n.primaryColumns.map((function(e){return n.targetName+"."+e.propertyPath}))).addSelect(this.getUpdationReturningColumns().map((function(e){return n.targetName+"."+e.propertyPath}))).from(n.target,n.targetName).where(u).setOption("create-pojo").getOne()];case 2:(c=r.sent())&&(this.queryRunner.manager.merge(n.target,t,c),e.generatedMaps.push(c)),r.label=3;case 3:return[2]}}))}))})))];case 1:return o.sent(),[2]}}))}))},e.prototype.insert=function(e,t){return r.b(this,void 0,void 0,(function(){var n,o,s,u=this;return r.e(this,(function(c){switch(c.label){case 0:return n=this.expressionMap.mainAlias.metadata,o=this.getInsertionReturningColumns(),s=t.map((function(t,r){u.queryRunner.connection.driver instanceof a.f&&Array.isArray(e.raw)&&u.expressionMap.extraReturningColumns.length>0&&(e.raw=e.raw.reduce((function(e,t,n){return e[u.expressionMap.extraReturningColumns[n].databaseName]=t[0],e}),{}));var o=Array.isArray(e.raw)?e.raw[r]:e.raw,s=u.queryRunner.connection.driver.createGeneratedMap(n,o)||{};return!1===u.queryRunner.connection.driver.isUUIDGenerationSupported()&&n.generatedColumns.forEach((function(e){if("uuid"===e.generationStrategy){var n=e.getEntityValue(t);n||(n=u.expressionMap.nativeParameters["uuid_"+e.databaseName+r]),i.a.mergeDeep(s,e.createValueMap(n))}})),u.queryRunner.manager.merge(n.target,t,s),s})),!1===this.queryRunner.connection.driver.isReturningSqlSupported()&&o.length>0?[4,Promise.all(t.map((function(e,t){return r.b(u,void 0,void 0,(function(){var i,a;return r.e(this,(function(r){switch(r.label){case 0:return i=n.getEntityIdMap(e),[4,this.queryRunner.manager.createQueryBuilder().select(n.primaryColumns.map((function(e){return n.targetName+"."+e.propertyPath}))).addSelect(o.map((function(e){return n.targetName+"."+e.propertyPath}))).from(n.target,n.targetName).where(i).setOption("create-pojo").getOne()];case 1:return a=r.sent(),this.queryRunner.manager.merge(n.target,s[t],a),[2]}}))}))})))]:[3,2];case 1:c.sent(),c.label=2;case 2:return t.forEach((function(t,r){var i=n.getEntityIdMap(t);e.identifiers.push(i),e.generatedMaps.push(s[r]),u.queryRunner.manager.merge(u.expressionMap.mainAlias.metadata.target,t,s[r],s[r])})),[2]}}))}))},e.prototype.getInsertionReturningColumns=function(){var e=this.queryRunner.connection.driver.isReturningSqlSupported();return this.expressionMap.mainAlias.metadata.columns.filter((function(t){return void 0!==t.default||e&&t.isGenerated||t.isCreateDate||t.isUpdateDate||t.isDeleteDate||t.isVersion}))},e.prototype.getUpdationReturningColumns=function(){return this.expressionMap.mainAlias.metadata.columns.filter((function(e){return e.isUpdateDate||e.isVersion}))},e}()},qOrW:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("D57K"),i=n("PFrq"),a=function(e){function t(n,a,o){var s=e.call(this)||this;return Object.setPrototypeOf(s,t.prototype),s.message=o.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,""),i.a.assign(s,r.a({},o,{name:"QueryFailedError",query:n,parameters:a||[]})),s}return r.d(t,e),t}(Error)},qUoL:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p}));var r=n("jg4I"),i=n("bI4O"),a=n("EM62"),o=n("ZTXN"),s=n("2kYt"),u=["*"],c=function(){var e=function e(){Object(i.a)(this,e),this.ripple=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(a.Fb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),l=function(){var e=function(){function e(){Object(i.a)(this,e),this.messageSource=new o.a,this.clearSource=new o.a,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}return Object(r.a)(e,[{key:"add",value:function(e){e&&this.messageSource.next(e)}},{key:"addAll",value:function(e){e&&e.length&&this.messageSource.next(e)}},{key:"clear",value:function(e){this.clearSource.next(e||null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac}),e}(),h=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["p-header"]],ngContentSelectors:u,decls:1,vars:0,template:function(e,t){1&e&&(a.fc(),a.ec(0))},encapsulation:2}),e}(),f=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["p-footer"]],ngContentSelectors:u,decls:1,vars:0,template:function(e,t){1&e&&(a.fc(),a.ec(0))},encapsulation:2}),e}(),d=function(){var e=function(){function e(t){Object(i.a)(this,e),this.template=t}return Object(r.a)(e,[{key:"getType",value:function(){return this.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Jb(a.K))},e.\u0275dir=a.Eb({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e}(),p=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[s.c]]}),e}()},qV5A:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("0rEu");function i(e){return new r.a("in",e,!0,!0)}},qW1w:function(e,t){e.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},qZtG:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("ROBh"),i=n("mawV");function a(){return Object(i.a)()(r.a.apply(void 0,arguments))}},qzOT:function(e,t){var n;!function(e){!function(t){var n="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,o={__proto__:[]}instanceof Array,s=!a&&!o,u={create:a?function(){return x(Object.create(null))}:o?function(){return x({__proto__:null})}:function(){return x({})},has:s?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:s?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,h=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,a)},t.prototype.entries=function(){return new n(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function a(e,t){return t}function o(e,t){return[e,t]}}():Map,f=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new h}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,d=new(l||"function"!=typeof WeakMap?function(){var e=u.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+o()}while(u.has(e,t));return e[t]=!0,t}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:u.create()})}return e[n]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function o(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16),16):a(new Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}():WeakMap);function p(e,t,n){var r=d.get(e);if(E(r)){if(!n)return;r=new h,d.set(e,r)}var i=r.get(t);if(E(i)){if(!n)return;i=new h,r.set(t,i)}return i}function m(e,t,n){var r=p(t,n,!1);return!E(r)&&!!r.has(e)}function y(e,t,n){var r=p(t,n,!1);if(!E(r))return r.get(e)}function v(e,t,n,r){p(n,r,!0).set(e,t)}function g(e,t){var n=[],r=p(e,t,!1);if(E(r))return n;for(var a=function(e){var t=S(e,i);if(!_(t))throw new TypeError;var n=t.call(e);if(!O(n))throw new TypeError;return n}(r.keys()),o=0;;){var s=N(a);if(!s)return n.length=o,n;var u=s.value;try{n[o]=u}catch(c){try{k(a)}finally{throw c}}o++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function E(e){return void 0===e}function w(e){return null===e}function O(e){return"object"==typeof e?null!==e:"function"==typeof e}function C(e){var t=function(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=S(e,r);if(void 0!==n){var i=n.call(e,"string");if(O(i))throw new TypeError;return i}return function(e,t){var n,r,i=e.toString;if(_(i)&&!O(r=i.call(e)))return r;if(_(n=e.valueOf)&&!O(r=n.call(e)))return r;throw new TypeError}(e)}(e);return"symbol"==typeof t?t:function(e){return""+e}(t)}function T(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function _(e){return"function"==typeof e}function A(e){return"function"==typeof e}function S(e,t){var n=e[t];if(null!=n){if(!_(n))throw new TypeError;return n}}function N(e){var t=e.next();return!t.done&&t}function k(e){var t=e.return;t&&t.call(e)}function j(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function x(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(E(n)){if(!T(e))throw new TypeError;if(!A(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!E(r)&&!w(r)){if(!A(r))throw new TypeError;t=r}}return t}(e,t)}if(!T(e))throw new TypeError;if(!O(t))throw new TypeError;if(!O(r)&&!E(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var a=(0,e[i])(t,n,r);if(!E(a)&&!w(a)){if(!O(a))throw new TypeError;r=a}}return r}(e,t,n=C(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!O(n))throw new TypeError;if(!E(r)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;v(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!O(n))throw new TypeError;return E(r)||(r=C(r)),v(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return E(n)||(n=C(n)),function e(t,n,r){if(m(t,n,r))return!0;var i=j(n);return!w(i)&&e(t,i,r)}(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return E(n)||(n=C(n)),m(e,t,n)})),e("getMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return E(n)||(n=C(n)),function e(t,n,r){if(m(t,n,r))return y(t,n,r);var i=j(n);return w(i)?void 0:e(t,i,r)}(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!O(t))throw new TypeError;return E(n)||(n=C(n)),y(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!O(e))throw new TypeError;return E(t)||(t=C(t)),function e(t,n){var r=g(t,n),i=j(t);if(null===i)return r;var a=e(i,n);if(a.length<=0)return r;if(r.length<=0)return a;for(var o=new f,s=[],u=0,c=r;u<c.length;u++)o.has(d=c[u])||(o.add(d),s.push(d));for(var l=0,h=a;l<h.length;l++){var d;o.has(d=h[l])||(o.add(d),s.push(d))}return s}(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!O(e))throw new TypeError;return E(t)||(t=C(t)),g(e,t)})),e("deleteMetadata",(function(e,t,n){if(!O(t))throw new TypeError;E(n)||(n=C(n));var r=p(t,n,!1);if(E(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=d.get(t);return i.delete(n),i.size>0||d.delete(t),!0}))}(r)}()}(n||(n={}))},r9RI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("bI4O"),i=n("jg4I"),a=n("Qvxn"),o=n("sTvq"),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i,a){var o;return Object(r.a)(this,n),(o=t.call(this)).parent=e,o.outerValue=i,o.outerIndex=a,o.index=0,o}return Object(i.a)(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("5uGe").a)},rE0Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n("D57K"),i=function(e){function t(n){var r=e.call(this)||this;return r.name="ConnectionIsNotSetError",Object.setPrototypeOf(r,t.prototype),r.message="Connection with "+n+" database is not established. Check connection configuration.",r}return r.d(t,e),t}(Error),a=n("tnr/"),o=n("/eLe"),s=n("JyJK"),u=n("qDrx"),c=n("kAlA"),l=n("h5d3"),h=n("5W/B"),f=n("rH6E"),d=n("70di"),p=n("xynt"),m=n("QADp"),y=n("jEQi"),v=n("W6vy"),g=n("c2R3"),b=n("E0Rv"),E=n("qOrW"),w=n("n+lo"),O=n("/0jE"),C=n("EKKg"),T=n("Chh4"),_=n("ACIq"),A=n("XJG8"),S=function(e){function t(t,n){void 0===n&&(n="master");var r=e.call(this)||this;return r.queries=[],r.storeQueries=!1,r.driver=t,r.connection=t.connection,r.mode=n,r.broadcaster=new w.a(r),r}return r.d(t,e),t.prototype.connect=function(){var e=this;return this.databaseConnection?Promise.resolve(this.databaseConnection):(this.databaseConnectionPromise||(this.databaseConnectionPromise="slave"===this.mode&&this.driver.isReplicated?this.driver.obtainSlaveConnection().then((function(t){var n=r.g(t,2),i=n[0],a=n[1];return e.driver.connectedQueryRunners.push(e),e.databaseConnection=i,e.releaseCallback=a,e.databaseConnection})):this.driver.obtainMasterConnection().then((function(t){var n=r.g(t,2),i=n[0],a=n[1];return e.driver.connectedQueryRunners.push(e),e.databaseConnection=i,e.releaseCallback=a,e.databaseConnection}))),this.databaseConnectionPromise)},t.prototype.release=function(){this.isReleased=!0,this.releaseCallback&&this.releaseCallback();var e=this.driver.connectedQueryRunners.indexOf(this);return-1!==e&&this.driver.connectedQueryRunners.splice(e),Promise.resolve()},t.prototype.startTransaction=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:if(this.isTransactionActive)throw new h.a;return this.isTransactionActive=!0,[4,this.query("START TRANSACTION")];case 1:return t.sent(),[4,this.query("SAVEPOINT cockroach_restart")];case 2:return t.sent(),e?[4,this.query("SET TRANSACTION ISOLATION LEVEL "+e)]:[3,4];case 3:t.sent(),t.label=4;case 4:return this.storeQueries=!0,[2]}}))}))},t.prototype.commitTransaction=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:if(!this.isTransactionActive)throw new f.a;this.storeQueries=!1,t.label=1;case 1:return t.trys.push([1,4,,9]),[4,this.query("RELEASE SAVEPOINT cockroach_restart")];case 2:return t.sent(),[4,this.query("COMMIT")];case 3:return t.sent(),this.queries=[],this.isTransactionActive=!1,[3,9];case 4:return"40001"!==t.sent().code?[3,8]:[4,this.query("ROLLBACK TO SAVEPOINT cockroach_restart")];case 5:return t.sent(),[4,T.k.runInSequence(this.queries,(function(t){return e.query(t.query,t.parameters)}))];case 6:return t.sent(),[4,this.commitTransaction()];case 7:t.sent(),t.label=8;case 8:return[3,9];case 9:return[2]}}))}))},t.prototype.rollbackTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isTransactionActive)throw new f.a;return this.storeQueries=!1,[4,this.query("ROLLBACK")];case 1:return e.sent(),this.queries=[],this.isTransactionActive=!1,[2]}}))}))},t.prototype.query=function(e,t,n){var i=this;if(this.isReleased)throw new v.a;return new Promise((function(n,a){return r.b(i,void 0,void 0,(function(){var i,o,s,u=this;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.connect()];case 1:return i=r.sent(),this.driver.connection.logger.logQuery(e,t,this),o=+new Date,i.query(e,t,(function(r,i){u.isTransactionActive&&u.storeQueries&&u.queries.push({query:e,parameters:t});var s=u.driver.connection.options.maxQueryExecutionTime,c=+new Date-o;if(s&&c>s&&u.driver.connection.logger.logQuerySlow(c,e,t,u),r)"40001"!==r.code&&u.driver.connection.logger.logQueryError(r,e,t,u),a(new E.a(e,t,r));else switch(i.command){case"DELETE":n([i.rows,i.rowCount]);break;default:n(i.rows)}})),[3,3];case 2:return s=r.sent(),a(s),[3,3];case 3:return[2]}}))}))}))},t.prototype.stream=function(e,t,n,i){var a=this,o=this.driver.loadStreamDependency();if(this.isReleased)throw new v.a;return new Promise((function(s,u){return r.b(a,void 0,void 0,(function(){var a,c,l;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.connect()];case 1:return a=r.sent(),this.driver.connection.logger.logQuery(e,t,this),c=a.query(new o(e,t)),n&&c.on("end",n),i&&c.on("error",i),s(c),[3,3];case 2:return l=r.sent(),u(l),[3,3];case 3:return[2]}}))}))}))},t.prototype.getDatabases=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve([])]}))}))},t.prototype.getSchemas=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve([])]}))}))},t.prototype.hasDatabase=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query('SELECT * FROM "pg_database" WHERE "datname" = \''+e+"'")];case 1:return[2,!!t.sent().length]}}))}))},t.prototype.hasSchema=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''+e+"'")];case 1:return[2,!!t.sent().length]}}))}))},t.prototype.hasTable=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return t=this.parseTableName(e),[4,this.query('SELECT * FROM "information_schema"."tables" WHERE "table_schema" = '+t.schema+' AND "table_name" = '+t.tableName)];case 1:return[2,!!n.sent().length]}}))}))},t.prototype.hasColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n=this.parseTableName(e),[4,this.query('SELECT * FROM "information_schema"."columns" WHERE "table_schema" = '+n.schema+' AND "table_name" = '+n.tableName+' AND "column_name" = \''+t+"'")];case 1:return[2,!!r.sent().length]}}))}))},t.prototype.createDatabase=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n='DROP DATABASE "'+e+'"',[4,this.executeQueries(new b.a("CREATE DATABASE "+(t?"IF NOT EXISTS ":"")+' "'+e+'"'),new b.a(n))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropDatabase=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n='CREATE DATABASE "'+e+'"',[4,this.executeQueries(new b.a("DROP DATABASE "+(t?"IF EXISTS ":"")+' "'+e+'"'),new b.a(n))];case 1:return r.sent(),[2]}}))}))},t.prototype.createSchema=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n='DROP SCHEMA "'+e+'" CASCADE',[4,this.executeQueries(new b.a(t?'CREATE SCHEMA IF NOT EXISTS "'+e+'"':'CREATE SCHEMA "'+e+'"'),new b.a(n))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropSchema=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a;return r.e(this,(function(r){switch(r.label){case 0:return i=-1===e.indexOf(".")?e:e.split(".")[0],a='CREATE SCHEMA "'+i+'"',[4,this.executeQueries(new b.a(t?'DROP SCHEMA IF EXISTS "'+i+'" '+(n?"CASCADE":""):'DROP SCHEMA "'+i+'" '+(n?"CASCADE":"")),new b.a(a))];case 1:return r.sent(),[2]}}))}))},t.prototype.createTable=function(e,t,n,i){return void 0===t&&(t=!1),void 0===n&&(n=!0),void 0===i&&(i=!0),r.b(this,void 0,void 0,(function(){var a,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return t?[4,this.hasTable(e)]:[3,2];case 1:if(r.sent())return[2,Promise.resolve()];r.label=2;case 2:return a=[],o=[],e.columns.filter((function(e){return e.isGenerated&&"increment"===e.generationStrategy})).forEach((function(t){a.push(new b.a("CREATE SEQUENCE "+s.buildSequenceName(e,t))),o.push(new b.a("DROP SEQUENCE "+s.buildSequenceName(e,t)))})),a.push(this.createTableSql(e,n)),o.push(this.dropTableSql(e)),n&&e.foreignKeys.forEach((function(t){return o.push(s.dropForeignKeySql(e,t))})),i&&e.indices.filter((function(e){return!e.isUnique})).forEach((function(t){t.name||(t.name=s.connection.namingStrategy.indexName(e.name,t.columnNames,t.where)),a.push(s.createIndexSql(e,t)),o.push(s.dropIndexSql(e,t))})),[4,this.executeQueries(a,o)];case 3:return r.sent(),[2]}}))}))},t.prototype.dropTable=function(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=!0),r.b(this,void 0,void 0,(function(){var a,o,s,u,c=this;return r.e(this,(function(r){switch(r.label){case 0:return t?[4,this.hasTable(e)]:[3,2];case 1:if(!r.sent())return[2,Promise.resolve()];r.label=2;case 2:return a=n,[4,this.getCachedTable(e instanceof p.a?e.name:e)];case 3:return o=r.sent(),s=[],u=[],n&&o.foreignKeys.forEach((function(e){return s.push(c.dropForeignKeySql(o,e))})),i&&o.indices.forEach((function(e){s.push(c.dropIndexSql(o,e)),u.push(c.createIndexSql(o,e))})),s.push(this.dropTableSql(o)),u.push(this.createTableSql(o,a)),o.columns.filter((function(e){return e.isGenerated&&"increment"===e.generationStrategy})).forEach((function(e){s.push(new b.a("DROP SEQUENCE "+c.buildSequenceName(o,e))),u.push(new b.a("CREATE SEQUENCE "+c.buildSequenceName(o,e)))})),[4,this.executeQueries(s,u)];case 4:return r.sent(),[2]}}))}))},t.prototype.createView=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return n=[],(t=[]).push(this.createViewSql(e)),a=(i=t).push,[4,this.insertViewDefinitionSql(e)];case 1:return a.apply(i,[r.sent()]),n.push(this.dropViewSql(e)),s=(o=n).push,[4,this.deleteViewDefinitionSql(e)];case 2:return s.apply(o,[r.sent()]),[4,this.executeQueries(t,n)];case 3:return r.sent(),[2]}}))}))},t.prototype.dropView=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.getCachedView(e instanceof g.a?e.name:e)];case 1:return t=r.sent(),i=[],o=(a=n=[]).push,[4,this.deleteViewDefinitionSql(t)];case 2:return o.apply(a,[r.sent()]),n.push(this.dropViewSql(t)),u=(s=i).push,[4,this.insertViewDefinitionSql(t)];case 3:return u.apply(s,[r.sent()]),i.push(this.createViewSql(t)),[4,this.executeQueries(n,i)];case 4:return r.sent(),[2]}}))}))},t.prototype.renameTable=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,l,h,f,d=this;return r.e(this,(function(r){switch(r.label){case 0:return n=[],i=[],e instanceof p.a?(o=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:o=r.sent(),r.label=3;case 3:return s=(a=o).clone(),u=-1===a.name.indexOf(".")?a.name:a.name.split(".")[1],c=-1===a.name.indexOf(".")?void 0:a.name.split(".")[0],s.name=c?c+"."+t:t,n.push(new b.a("ALTER TABLE "+this.escapePath(a)+' RENAME TO "'+t+'"')),i.push(new b.a("ALTER TABLE "+this.escapePath(s)+' RENAME TO "'+u+'"')),s.primaryColumns.length>0&&(l=s.primaryColumns.map((function(e){return e.name})),h=this.connection.namingStrategy.primaryKeyName(a,l),f=this.connection.namingStrategy.primaryKeyName(s,l),n.push(new b.a("ALTER TABLE "+this.escapePath(s)+' RENAME CONSTRAINT "'+h+'" TO "'+f+'"')),i.push(new b.a("ALTER TABLE "+this.escapePath(s)+' RENAME CONSTRAINT "'+f+'" TO "'+h+'"'))),s.uniques.forEach((function(e){var t=d.connection.namingStrategy.uniqueConstraintName(s,e.columnNames);n.push(new b.a("ALTER TABLE "+d.escapePath(s)+' RENAME CONSTRAINT "'+e.name+'" TO "'+t+'"')),i.push(new b.a("ALTER TABLE "+d.escapePath(s)+' RENAME CONSTRAINT "'+t+'" TO "'+e.name+'"')),e.name=t})),s.indices.forEach((function(e){var t=d.extractSchema(s),r=d.connection.namingStrategy.indexName(s,e.columnNames,e.where),a=t?'ALTER INDEX "'+t+'"."'+r+'" RENAME TO "'+e.name+'"':'ALTER INDEX "'+r+'" RENAME TO "'+e.name+'"';n.push(new b.a(t?'ALTER INDEX "'+t+'"."'+e.name+'" RENAME TO "'+r+'"':'ALTER INDEX "'+e.name+'" RENAME TO "'+r+'"')),i.push(new b.a(a)),e.name=r})),s.foreignKeys.forEach((function(e){var t=d.connection.namingStrategy.foreignKeyName(s,e.columnNames,e.referencedTableName,e.referencedColumnNames);n.push(new b.a("ALTER TABLE "+d.escapePath(s)+' RENAME CONSTRAINT "'+e.name+'" TO "'+t+'"')),i.push(new b.a("ALTER TABLE "+d.escapePath(s)+' RENAME CONSTRAINT "'+t+'" TO "'+e.name+'"')),e.name=t})),[4,this.executeQueries(n,i)];case 4:return r.sent(),[2]}}))}))},t.prototype.addColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,l,h,f,d,m,y;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(a=(n=i).clone(),o=[],s=[],"increment"===t.generationStrategy)throw new Error("Adding sequential generated columns into existing table is not supported");return o.push(new b.a("ALTER TABLE "+this.escapePath(n)+" ADD "+this.buildCreateColumnSql(n,t))),s.push(new b.a("ALTER TABLE "+this.escapePath(n)+' DROP COLUMN "'+t.name+'"')),t.isPrimary&&((u=a.primaryColumns).length>0&&(c=this.connection.namingStrategy.primaryKeyName(a.name,u.map((function(e){return e.name}))),l=u.map((function(e){return'"'+e.name+'"'})).join(", "),o.push(new b.a("ALTER TABLE "+this.escapePath(n)+' DROP CONSTRAINT "'+c+'"')),s.push(new b.a("ALTER TABLE "+this.escapePath(n)+' ADD CONSTRAINT "'+c+'" PRIMARY KEY ('+l+")"))),u.push(t),h=this.connection.namingStrategy.primaryKeyName(a.name,u.map((function(e){return e.name}))),f=u.map((function(e){return'"'+e.name+'"'})).join(", "),o.push(new b.a("ALTER TABLE "+this.escapePath(n)+' ADD CONSTRAINT "'+h+'" PRIMARY KEY ('+f+")")),s.push(new b.a("ALTER TABLE "+this.escapePath(n)+' DROP CONSTRAINT "'+h+'"'))),(d=a.indices.find((function(e){return 1===e.columnNames.length&&e.columnNames[0]===t.name})))&&(d.isUnique?(m=new O.a({name:this.connection.namingStrategy.uniqueConstraintName(n.name,d.columnNames),columnNames:d.columnNames}),o.push(this.createUniqueConstraintSql(n,m)),s.push(this.dropIndexSql(n,m)),a.uniques.push(m)):(o.push(this.createIndexSql(n,d)),s.push(this.dropIndexSql(n,d)))),t.isUnique&&(y=new O.a({name:this.connection.namingStrategy.uniqueConstraintName(n.name,[t.name]),columnNames:[t.name]}),a.uniques.push(y),o.push(this.createUniqueConstraintSql(n,y)),s.push(this.dropIndexSql(n,y.name))),[4,this.executeQueries(o,s)];case 4:return r.sent(),a.addColumn(t),this.replaceCachedTable(n,a),[2]}}))}))},t.prototype.addColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.addColumn(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.renameColumn=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(a=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:a=r.sent(),r.label=3;case 3:if(i=a,!(o=t instanceof d.a?t:i.columns.find((function(e){return e.name===t}))))throw new Error('Column "'+t+'" was not found in the "'+i.name+'" table.');return n instanceof d.a?s=n:(s=o.clone()).name=n,[2,this.changeColumn(i,o,s)]}}))}))},t.prototype.changeColumn=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,o,s,u,c,l,h,f,m,y,v,g,E,w=this;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(a=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:a=r.sent(),r.label=3;case 3:if(o=(i=a).clone(),s=[],u=[],!(c=t instanceof d.a?t:i.columns.find((function(e){return e.name===t}))))throw new Error('Column "'+t+'" was not found in the "'+i.name+'" table.');return c.type===n.type&&c.length===n.length?[3,6]:[4,this.dropColumn(i,c)];case 4:return r.sent(),[4,this.addColumn(i,n)];case 5:return r.sent(),o=i.clone(),[3,7];case 6:if(c.name!==n.name&&(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' RENAME COLUMN "'+c.name+'" TO "'+n.name+'"')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' RENAME COLUMN "'+n.name+'" TO "'+c.name+'"')),!0===c.isPrimary&&(g=(m=o.primaryColumns).map((function(e){return e.name})),l=this.connection.namingStrategy.primaryKeyName(o,g),g.splice(g.indexOf(c.name),1),g.push(n.name),h=this.connection.namingStrategy.primaryKeyName(o,g),s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' RENAME CONSTRAINT "'+l+'" TO "'+h+'"')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' RENAME CONSTRAINT "'+h+'" TO "'+l+'"'))),o.findColumnUniques(c).forEach((function(e){e.columnNames.splice(e.columnNames.indexOf(c.name),1),e.columnNames.push(n.name);var t=w.connection.namingStrategy.uniqueConstraintName(o,e.columnNames);s.push(new b.a("ALTER TABLE "+w.escapePath(i)+' RENAME CONSTRAINT "'+e.name+'" TO "'+t+'"')),u.push(new b.a("ALTER TABLE "+w.escapePath(i)+' RENAME CONSTRAINT "'+t+'" TO "'+e.name+'"')),e.name=t})),o.findColumnIndices(c).forEach((function(e){e.columnNames.splice(e.columnNames.indexOf(c.name),1),e.columnNames.push(n.name);var t=w.extractSchema(i),r=w.connection.namingStrategy.indexName(o,e.columnNames,e.where),a=t?'ALTER INDEX "'+t+'"."'+r+'" RENAME TO "'+e.name+'"':'ALTER INDEX "'+r+'" RENAME TO "'+e.name+'"';s.push(new b.a(t?'ALTER INDEX "'+t+'"."'+e.name+'" RENAME TO "'+r+'"':'ALTER INDEX "'+e.name+'" RENAME TO "'+r+'"')),u.push(new b.a(a)),e.name=r})),o.findColumnForeignKeys(c).forEach((function(e){e.columnNames.splice(e.columnNames.indexOf(c.name),1),e.columnNames.push(n.name);var t=w.connection.namingStrategy.foreignKeyName(o,e.columnNames,e.referencedTableName,e.referencedColumnNames);s.push(new b.a("ALTER TABLE "+w.escapePath(i)+' RENAME CONSTRAINT "'+e.name+'" TO "'+t+'"')),u.push(new b.a("ALTER TABLE "+w.escapePath(i)+' RENAME CONSTRAINT "'+t+'" TO "'+e.name+'"')),e.name=t})),f=o.columns.find((function(e){return e.name===c.name})),o.columns[o.columns.indexOf(f)].name=n.name,c.name=n.name),n.precision===c.precision&&n.scale===c.scale||(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" TYPE '+this.driver.createFullType(n))),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" TYPE '+this.driver.createFullType(c)))),c.isNullable!==n.isNullable&&(n.isNullable?(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+c.name+'" DROP NOT NULL')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+c.name+'" SET NOT NULL'))):(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+c.name+'" SET NOT NULL')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+c.name+'" DROP NOT NULL')))),c.comment!==n.comment&&(s.push(new b.a("COMMENT ON COLUMN "+this.escapePath(i)+'."'+c.name+"\" IS '"+n.comment+"'")),u.push(new b.a("COMMENT ON COLUMN "+this.escapePath(i)+'."'+n.name+"\" IS '"+c.comment+"'"))),n.isPrimary!==c.isPrimary&&((m=o.primaryColumns).length>0&&(v=this.connection.namingStrategy.primaryKeyName(o.name,m.map((function(e){return e.name}))),g=m.map((function(e){return'"'+e.name+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' DROP CONSTRAINT "'+v+'"')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ADD CONSTRAINT "'+v+'" PRIMARY KEY ('+g+")"))),!0===n.isPrimary?(m.push(n),o.columns.find((function(e){return e.name===n.name})).isPrimary=!0,v=this.connection.namingStrategy.primaryKeyName(o.name,m.map((function(e){return e.name}))),g=m.map((function(e){return'"'+e.name+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ADD CONSTRAINT "'+v+'" PRIMARY KEY ('+g+")")),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' DROP CONSTRAINT "'+v+'"'))):(y=m.find((function(e){return e.name===n.name})),m.splice(m.indexOf(y),1),o.columns.find((function(e){return e.name===n.name})).isPrimary=!1,m.length>0&&(v=this.connection.namingStrategy.primaryKeyName(o.name,m.map((function(e){return e.name}))),g=m.map((function(e){return'"'+e.name+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ADD CONSTRAINT "'+v+'" PRIMARY KEY ('+g+")")),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' DROP CONSTRAINT "'+v+'"'))))),n.isUnique!==c.isUnique&&(n.isUnique?(E=new O.a({name:this.connection.namingStrategy.uniqueConstraintName(i.name,[n.name]),columnNames:[n.name]}),o.uniques.push(E),s.push(this.createUniqueConstraintSql(i,E)),u.push(this.dropIndexSql(i,E))):(E=o.uniques.find((function(e){return 1===e.columnNames.length&&!!e.columnNames.find((function(e){return e===n.name}))})),o.uniques.splice(o.uniques.indexOf(E),1),s.push(this.dropIndexSql(i,E)),u.push(this.createUniqueConstraintSql(i,E)))),c.isGenerated!==n.isGenerated&&"uuid"!==n.generationStrategy)if(n.isGenerated){if("increment"===n.generationStrategy)throw new Error("Adding sequential generated columns into existing table is not supported");"rowid"===n.generationStrategy&&(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" SET DEFAULT unique_rowid()')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" DROP DEFAULT')))}else s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" DROP DEFAULT')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" SET DEFAULT unique_rowid()'));n.default!==c.default&&(null!=n.default?(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" SET DEFAULT '+n.default)),u.push(new b.a(null!=c.default?"ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" SET DEFAULT '+c.default:"ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" DROP DEFAULT'))):null!=c.default&&(s.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" DROP DEFAULT')),u.push(new b.a("ALTER TABLE "+this.escapePath(i)+' ALTER COLUMN "'+n.name+'" SET DEFAULT '+c.default)))),r.label=7;case 7:return[4,this.executeQueries(s,u)];case 8:return r.sent(),this.replaceCachedTable(i,o),[2]}}))}))},t.prototype.changeColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.changeColumn(e,t.oldColumn,t.newColumn)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,l,h,f,m,y,v;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof d.a?t:n.findColumnByName(t)))throw new Error('Column "'+t+'" was not found in table "'+n.name+'"');return o=n.clone(),s=[],u=[],a.isPrimary&&(c=this.connection.namingStrategy.primaryKeyName(o.name,o.primaryColumns.map((function(e){return e.name}))),l=o.primaryColumns.map((function(e){return'"'+e.name+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(o)+' DROP CONSTRAINT "'+c+'"')),u.push(new b.a("ALTER TABLE "+this.escapePath(o)+' ADD CONSTRAINT "'+c+'" PRIMARY KEY ('+l+")")),o.findColumnByName(a.name).isPrimary=!1,o.primaryColumns.length>0&&(h=this.connection.namingStrategy.primaryKeyName(o.name,o.primaryColumns.map((function(e){return e.name}))),f=o.primaryColumns.map((function(e){return'"'+e.name+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(o)+' ADD CONSTRAINT "'+h+'" PRIMARY KEY ('+f+")")),u.push(new b.a("ALTER TABLE "+this.escapePath(o)+' DROP CONSTRAINT "'+h+'"')))),(m=o.indices.find((function(e){return 1===e.columnNames.length&&e.columnNames[0]===a.name})))&&(o.indices.splice(o.indices.indexOf(m),1),s.push(this.dropIndexSql(n,m)),u.push(this.createIndexSql(n,m))),(y=o.checks.find((function(e){return!!e.columnNames&&1===e.columnNames.length&&e.columnNames[0]===a.name})))&&(o.checks.splice(o.checks.indexOf(y),1),s.push(this.dropCheckConstraintSql(n,y)),u.push(this.createCheckConstraintSql(n,y))),(v=o.uniques.find((function(e){return 1===e.columnNames.length&&e.columnNames[0]===a.name})))&&(o.uniques.splice(o.uniques.indexOf(v),1),s.push(this.dropIndexSql(n,v.name)),u.push(this.createUniqueConstraintSql(n,v))),s.push(new b.a("ALTER TABLE "+this.escapePath(n)+' DROP COLUMN "'+a.name+'"')),u.push(new b.a("ALTER TABLE "+this.escapePath(n)+" ADD "+this.buildCreateColumnSql(n,a))),"increment"===a.generationStrategy&&(s.push(new b.a("DROP SEQUENCE "+this.buildSequenceName(n,a))),u.push(new b.a("CREATE SEQUENCE "+this.buildSequenceName(n,a)))),[4,this.executeQueries(s,u)];case 4:return r.sent(),o.removeColumn(a),this.replaceCachedTable(n,o),[2]}}))}))},t.prototype.dropColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.dropColumn(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.createPrimaryKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),o=this.createPrimaryKeySql(n,t),a.columns.forEach((function(e){t.find((function(t){return t===e.name}))&&(e.isPrimary=!0)})),s=this.dropPrimaryKeySql(a),[4,this.executeQueries(o,s)];case 4:return r.sent(),this.replaceCachedTable(n,a),[2]}}))}))},t.prototype.updatePrimaryKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,u,c,l,h,f,d;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),o=t.map((function(e){return e.name})),s=[],u=[],(c=a.primaryColumns).length>0&&(l=this.connection.namingStrategy.primaryKeyName(a.name,c.map((function(e){return e.name}))),h=c.map((function(e){return'"'+e.name+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(n)+' DROP CONSTRAINT "'+l+'"')),u.push(new b.a("ALTER TABLE "+this.escapePath(n)+' ADD CONSTRAINT "'+l+'" PRIMARY KEY ('+h+")"))),a.columns.filter((function(e){return-1!==o.indexOf(e.name)})).forEach((function(e){return e.isPrimary=!0})),f=this.connection.namingStrategy.primaryKeyName(a.name,o),d=o.map((function(e){return'"'+e+'"'})).join(", "),s.push(new b.a("ALTER TABLE "+this.escapePath(n)+' ADD CONSTRAINT "'+f+'" PRIMARY KEY ('+d+")")),u.push(new b.a("ALTER TABLE "+this.escapePath(n)+' DROP CONSTRAINT "'+f+'"')),[4,this.executeQueries(s,u)];case 4:return r.sent(),this.replaceCachedTable(n,a),[2]}}))}))},t.prototype.dropPrimaryKey=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(n=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:n=r.sent(),r.label=3;case 3:return i=this.dropPrimaryKeySql(t=n),a=this.createPrimaryKeySql(t,t.primaryColumns.map((function(e){return e.name}))),[4,this.executeQueries(i,a)];case 4:return r.sent(),t.primaryColumns.forEach((function(e){e.isPrimary=!1})),[2]}}))}))},t.prototype.createUniqueConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.uniqueConstraintName(n.name,t.columnNames)),a=this.createUniqueConstraintSql(n,t),o=this.dropIndexSql(n,t),[4,this.executeQueries(a,o)];case 4:return r.sent(),n.addUniqueConstraint(t),[2]}}))}))},t.prototype.createUniqueConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.createUniqueConstraint(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropUniqueConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof O.a?t:n.uniques.find((function(e){return e.name===t}))))throw new Error("Supplied unique constraint was not found in table "+n.name);return o=this.dropIndexSql(n,a),s=this.createUniqueConstraintSql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeUniqueConstraint(a),[2]}}))}))},t.prototype.dropUniqueConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.dropUniqueConstraint(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.createCheckConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.checkConstraintName(n.name,t.expression)),a=this.createCheckConstraintSql(n,t),o=this.dropCheckConstraintSql(n,t),[4,this.executeQueries(a,o)];case 4:return r.sent(),n.addCheckConstraint(t),[2]}}))}))},t.prototype.createCheckConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.createCheckConstraint(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.dropCheckConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof _.a?t:n.checks.find((function(e){return e.name===t}))))throw new Error("Supplied check constraint was not found in table "+n.name);return o=this.dropCheckConstraintSql(n,a),s=this.createCheckConstraintSql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeCheckConstraint(a),[2]}}))}))},t.prototype.dropCheckConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.dropCheckConstraint(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.createExclusionConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("CockroachDB does not support exclusion constraints.")}))}))},t.prototype.createExclusionConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("CockroachDB does not support exclusion constraints.")}))}))},t.prototype.dropExclusionConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("CockroachDB does not support exclusion constraints.")}))}))},t.prototype.dropExclusionConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("CockroachDB does not support exclusion constraints.")}))}))},t.prototype.createForeignKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.foreignKeyName(n.name,t.columnNames,t.referencedTableName,t.referencedColumnNames)),a=this.createForeignKeySql(n,t),o=this.dropForeignKeySql(n,t),[4,this.executeQueries(a,o)];case 4:return r.sent(),n.addForeignKey(t),[2]}}))}))},t.prototype.createForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.createForeignKey(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropForeignKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof y.a?t:n.foreignKeys.find((function(e){return e.name===t}))))throw new Error("Supplied foreign key was not found in table "+n.name);return o=this.dropForeignKeySql(n,a),s=this.createForeignKeySql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeForeignKey(a),[2]}}))}))},t.prototype.dropForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.dropForeignKey(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.createIndex=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.indexName(n.name,t.columnNames,t.where)),t.isUnique?(a=new O.a({name:t.name,columnNames:t.columnNames}),o=this.createUniqueConstraintSql(n,a),s=this.dropIndexSql(n,a),[4,this.executeQueries(o,s)]):[3,5];case 4:return r.sent(),n.addUniqueConstraint(a),[3,7];case 5:return o=this.createIndexSql(n,t),s=this.dropIndexSql(n,t),[4,this.executeQueries(o,s)];case 6:r.sent(),n.addIndex(t),r.label=7;case 7:return[2]}}))}))},t.prototype.createIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.createIndex(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropIndex=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof p.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof m.a?t:n.indices.find((function(e){return e.name===t}))))throw new Error("Supplied index was not found in table "+n.name);return o=this.dropIndexSql(n,a),s=this.createIndexSql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeIndex(a),[2]}}))}))},t.prototype.dropIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,T.k.runInSequence(t,(function(t){return n.dropIndex(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.clearTable=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query("TRUNCATE TABLE "+this.escapePath(e))];case 1:return t.sent(),[2]}}))}))},t.prototype.clearDatabase=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i,a,o,s=this;return r.e(this,(function(r){switch(r.label){case 0:return e=[],this.connection.entityMetadatas.filter((function(e){return e.schema})).forEach((function(t){e.find((function(e){return e===t.schema}))||e.push(t.schema)})),e.push(this.driver.options.schema||"current_schema()"),t=e.map((function(e){return"current_schema()"===e?e:"'"+e+"'"})).join(", "),[4,this.startTransaction()];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,10,,15]),[4,this.query('SELECT \'DROP VIEW IF EXISTS "\' || schemaname || \'"."\' || viewname || \'" CASCADE;\' as "query" FROM "pg_views" WHERE "schemaname" IN ('+t+")")];case 3:return n=r.sent(),[4,Promise.all(n.map((function(e){return s.query(e.query)})))];case 4:return r.sent(),[4,this.query('SELECT \'DROP TABLE IF EXISTS "\' || table_schema || \'"."\' || table_name || \'" CASCADE;\' as "query" FROM "information_schema"."tables" WHERE "table_schema" IN ('+t+")")];case 5:return i=r.sent(),[4,Promise.all(i.map((function(e){return s.query(e.query)})))];case 6:return r.sent(),[4,this.query('SELECT \'DROP SEQUENCE "\' || sequence_schema || \'"."\' || sequence_name || \'";\' as "query" FROM "information_schema"."sequences" WHERE "sequence_schema" IN ('+t+")")];case 7:return a=r.sent(),[4,Promise.all(a.map((function(e){return s.query(e.query)})))];case 8:return r.sent(),[4,this.commitTransaction()];case 9:return r.sent(),[3,15];case 10:o=r.sent(),r.label=11;case 11:return r.trys.push([11,13,,14]),[4,this.rollbackTransaction()];case 12:case 13:return r.sent(),[3,14];case 14:throw o;case 15:return[2]}}))}))},t.prototype.loadViews=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o=this;return r.e(this,(function(s){switch(s.label){case 0:return[4,this.hasTable(this.getTypeormMetadataTableName())];case 1:return s.sent()?[4,this.query("SELECT * FROM current_schema()")]:[2,Promise.resolve([])];case 2:return t=s.sent(),n=t[0].current_schema,i=e.map((function(e){var t=r.g(e.split("."),2),i=t[0],a=t[1];return a||(a=i,i=o.driver.options.schema||n),'("t"."schema" = \''+i+'\' AND "t"."name" = \''+a+"')"})).join(" OR "),a='SELECT "t".*, "v"."check_option" FROM '+this.escapePath(this.getTypeormMetadataTableName())+' "t" INNER JOIN "information_schema"."views" "v" ON "v"."table_schema" = "t"."schema" AND "v"."table_name" = "t"."name" WHERE "t"."type" = \'VIEW\' '+(i?"AND ("+i+")":""),[4,this.query(a)];case 3:return[2,s.sent().map((function(e){var t=new g.a;return t.name=o.driver.buildTableName(e.name,e.schema!==n||o.driver.options.schema?e.schema:void 0),t.expression=e.value,t}))]}}))}))},t.prototype.loadTables=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,c,h,f,v,g,b,E,w,C,T=this;return r.e(this,(function(S){switch(S.label){case 0:return e&&e.length?[4,this.query("SELECT * FROM current_schema()")]:[2,[]];case 1:return t=S.sent(),n=t[0].current_schema,i=e.map((function(e){var t=r.g(e.split("."),2),i=t[0],a=t[1];return a||(a=i,i=T.driver.options.schema||n),'("table_schema" = \''+i+"' AND \"table_name\" = '"+a+"')"})).join(" OR "),a='SELECT * FROM "information_schema"."tables" WHERE '+i,o='SELECT * FROM "information_schema"."columns" WHERE "is_hidden" = \'NO\' AND '+i,s=e.map((function(e){var t=r.g(e.split("."),2),i=t[0],a=t[1];return a||(a=i,i=T.driver.options.schema||n),'("ns"."nspname" = \''+i+'\' AND "t"."relname" = \''+a+"')"})).join(" OR "),u='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN \'p\' THEN \'PRIMARY\' WHEN \'u\' THEN \'UNIQUE\' WHEN \'c\' THEN \'CHECK\' WHEN \'x\' THEN \'EXCLUDE\' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" = \'r\' AND ('+s+")",c='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" = \'r\' AND "cnst"."contype" IS NULL AND ('+s+")",h=e.map((function(e){var t=r.g(e.split("."),2),i=t[0],a=t[1];return a||(a=i,i=T.driver.options.schema||n),'("ns"."nspname" = \''+i+'\' AND "cl"."relname" = \''+a+"')"})).join(" OR "),f='SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", CASE "con1"."confdeltype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confdeltype", CASE "con1"."confupdtype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = \'f\' AND ('+h+') ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"',[4,Promise.all([this.query(a),this.query(o),this.query(u),this.query(c),this.query(f)])];case 2:return v=r.g.apply(void 0,[S.sent(),5]),b=v[1],E=v[2],w=v[3],C=v[4],(g=v[0]).length?[2,Promise.all(g.map((function(e){return r.b(T,void 0,void 0,(function(){var t,i,a,o,s,u,c,h,f=this;return r.e(this,(function(v){switch(v.label){case 0:return(t=new p.a).name=this.driver.buildTableName(e.table_name,e.table_schema!==n||this.driver.options.schema?e.table_schema:void 0),i=this.driver.buildTableName(e.table_name,e.table_schema),a=t,[4,Promise.all(b.filter((function(e){return f.driver.buildTableName(e.table_name,e.table_schema)===i})).map((function(e){return r.b(f,void 0,void 0,(function(){var n,a,o,s,u,c,l=this;return r.e(this,(function(r){return n=E.filter((function(t){return l.driver.buildTableName(t.table_name,t.table_schema)===i&&t.column_name===e.column_name})),(a=new d.a).name=e.column_name,a.type=e.crdb_sql_type.toLowerCase(),-1!==e.crdb_sql_type.indexOf("COLLATE")&&(a.collation=e.crdb_sql_type.substr(e.crdb_sql_type.indexOf("COLLATE")+"COLLATE".length+1,e.crdb_sql_type.length),a.type=a.type.substr(0,e.crdb_sql_type.indexOf("COLLATE")-1)),-1!==a.type.indexOf("(")&&(a.type=a.type.substr(0,a.type.indexOf("("))),"numeric"!==a.type&&"decimal"!==a.type||(null===e.numeric_precision||this.isDefaultColumnPrecision(t,a,e.numeric_precision)?null===e.numeric_scale||this.isDefaultColumnScale(t,a,e.numeric_scale)||(a.precision=void 0):a.precision=parseInt(e.numeric_precision),null===e.numeric_scale||this.isDefaultColumnScale(t,a,e.numeric_scale)?null===e.numeric_precision||this.isDefaultColumnPrecision(t,a,e.numeric_precision)||(a.scale=void 0):a.scale=parseInt(e.numeric_scale)),"array"===e.data_type.toLowerCase()&&(a.isArray=!0,o=e.crdb_sql_type.replace("[]","").toLowerCase(),a.type=this.connection.driver.normalizeType({type:o})),-1!==this.driver.withLengthColumnTypes.indexOf(a.type)&&e.character_maximum_length&&(s=e.character_maximum_length.toString(),a.length=this.isDefaultColumnLength(t,a,s)?"":s),a.isNullable="YES"===e.is_nullable,a.isPrimary=!!n.find((function(e){return"PRIMARY"===e.constraint_type})),u=n.find((function(e){return"UNIQUE"===e.constraint_type})),c=!!u&&!!E.find((function(t){return"UNIQUE"===t.constraint_type&&t.constraint_name===u.constraint_name&&t.column_name!==e.column_name})),a.isUnique=!!u&&!c,null!=e.column_default&&("unique_rowid()"===e.column_default?(a.isGenerated=!0,a.generationStrategy="rowid"):-1!==e.column_default.indexOf("nextval")?(a.isGenerated=!0,a.generationStrategy="increment"):"gen_random_uuid()"===e.column_default?(a.isGenerated=!0,a.generationStrategy="uuid"):a.default=e.column_default.replace(/:::.*/,"")),a.comment="",e.character_set_name&&(a.charset=e.character_set_name),[2,a]}))}))})))];case 1:return a.columns=v.sent(),o=l.a.uniq(E.filter((function(e){return f.driver.buildTableName(e.table_name,e.table_schema)===i&&"UNIQUE"===e.constraint_type})),(function(e){return e.constraint_name})),t.uniques=o.map((function(e){var t=E.filter((function(t){return t.constraint_name===e.constraint_name}));return new O.a({name:e.constraint_name,columnNames:t.map((function(e){return e.column_name}))})})),s=l.a.uniq(E.filter((function(e){return f.driver.buildTableName(e.table_name,e.table_schema)===i&&"CHECK"===e.constraint_type})),(function(e){return e.constraint_name})),t.checks=s.map((function(e){var t=E.filter((function(t){return t.constraint_name===e.constraint_name}));return new _.a({name:e.constraint_name,columnNames:t.map((function(e){return e.column_name})),expression:e.expression.replace(/^\s*CHECK\s*\((.*)\)\s*$/i,"$1")})})),u=l.a.uniq(E.filter((function(e){return f.driver.buildTableName(e.table_name,e.table_schema)===i&&"EXCLUDE"===e.constraint_type})),(function(e){return e.constraint_name})),t.exclusions=u.map((function(e){return new A.a({name:e.constraint_name,expression:e.expression.substring(8)})})),c=l.a.uniq(C.filter((function(e){return f.driver.buildTableName(e.table_name,e.table_schema)===i})),(function(e){return e.constraint_name})),t.foreignKeys=c.map((function(e){var t=C.filter((function(t){return t.constraint_name===e.constraint_name})),r=f.driver.buildTableName(e.referenced_table_name,e.referenced_table_schema===n?void 0:e.referenced_table_schema);return new y.a({name:e.constraint_name,columnNames:t.map((function(e){return e.column_name})),referencedTableName:r,referencedColumnNames:t.map((function(e){return e.referenced_column_name})),onDelete:e.on_delete,onUpdate:e.on_update})})),h=l.a.uniq(w.filter((function(e){return f.driver.buildTableName(e.table_name,e.table_schema)===i})),(function(e){return e.constraint_name})),t.indices=h.map((function(e){var n=w.filter((function(t){return t.constraint_name===e.constraint_name}));return new m.a({table:t,name:e.constraint_name,columnNames:n.map((function(e){return e.column_name})),isUnique:"TRUE"===e.is_unique,where:e.condition,isSpatial:n.every((function(e){return f.driver.spatialTypes.indexOf(e.type_name)>=0})),isFulltext:!1})})),[2,t]}}))}))})))]:[2,[]]}}))}))},t.prototype.createTableSql=function(e,t){var n=this,r=e.columns.map((function(t){return n.buildCreateColumnSql(e,t)})).join(", "),i="CREATE TABLE "+this.escapePath(e)+" ("+r;e.columns.filter((function(e){return e.isUnique})).forEach((function(t){e.uniques.some((function(e){return 1===e.columnNames.length&&e.columnNames[0]===t.name}))||e.uniques.push(new O.a({name:n.connection.namingStrategy.uniqueConstraintName(e.name,[t.name]),columnNames:[t.name]}))})),e.indices.filter((function(e){return e.isUnique})).forEach((function(t){e.uniques.push(new O.a({name:n.connection.namingStrategy.uniqueConstraintName(e.name,t.columnNames),columnNames:t.columnNames}))})),e.uniques.length>0&&(i+=", "+e.uniques.map((function(t){return'CONSTRAINT "'+(t.name?t.name:n.connection.namingStrategy.uniqueConstraintName(e.name,t.columnNames))+'" UNIQUE ('+t.columnNames.map((function(e){return'"'+e+'"'})).join(", ")+")"})).join(", ")),e.checks.length>0&&(i+=", "+e.checks.map((function(t){return'CONSTRAINT "'+(t.name?t.name:n.connection.namingStrategy.checkConstraintName(e.name,t.expression))+'" CHECK ('+t.expression+")"})).join(", ")),e.foreignKeys.length>0&&t&&(i+=", "+e.foreignKeys.map((function(t){var r=t.columnNames.map((function(e){return'"'+e+'"'})).join(", ");t.name||(t.name=n.connection.namingStrategy.foreignKeyName(e.name,t.columnNames,t.referencedTableName,t.referencedColumnNames));var i=t.referencedColumnNames.map((function(e){return'"'+e+'"'})).join(", "),a='CONSTRAINT "'+t.name+'" FOREIGN KEY ('+r+") REFERENCES "+n.escapePath(t.referencedTableName)+" ("+i+")";return t.onDelete&&(a+=" ON DELETE "+t.onDelete),t.onUpdate&&(a+=" ON UPDATE "+t.onUpdate),a})).join(", "));var a=e.columns.filter((function(e){return e.isPrimary}));return a.length>0&&(i+=', CONSTRAINT "'+this.connection.namingStrategy.primaryKeyName(e.name,a.map((function(e){return e.name})))+'" PRIMARY KEY ('+a.map((function(e){return'"'+e.name+'"'})).join(", ")+")"),new b.a(i+=")")},t.prototype.extractSchema=function(e){var t=e instanceof p.a?e.name:e;return-1===t.indexOf(".")?this.driver.options.schema:t.split(".")[0]},t.prototype.dropTableSql=function(e){return new b.a("DROP TABLE "+this.escapePath(e))},t.prototype.createViewSql=function(e){return new b.a("string"==typeof e.expression?"CREATE VIEW "+this.escapePath(e)+" AS "+e.expression:"CREATE VIEW "+this.escapePath(e)+" AS "+e.expression(this.connection).getQuery())},t.prototype.insertViewDefinitionSql=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u;return r.e(this,(function(c){switch(c.label){case 0:return[4,this.query("SELECT * FROM current_schema()")];case 1:return t=c.sent(),n=t[0].current_schema,i=e.name.split("."),a=this.driver.options.schema||n,o=e.name,2===i.length&&(a=i[0],o=i[1]),s="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery(),u=r.g(this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({type:"VIEW",schema:a,name:o,value:s}).getQueryAndParameters(),2),[2,new b.a(u[0],u[1])]}}))}))},t.prototype.dropViewSql=function(e){return new b.a("DROP VIEW "+this.escapePath(e))},t.prototype.deleteViewDefinitionSql=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u,c;return r.e(this,(function(l){switch(l.label){case 0:return[4,this.query("SELECT * FROM current_schema()")];case 1:return t=l.sent(),n=t[0].current_schema,a=(i=e instanceof g.a?e.name:e).split("."),o=this.driver.options.schema||n,s=i,2===a.length&&(o=a[0],s=a[1]),u=this.connection.createQueryBuilder(),c=r.g(u.delete().from(this.getTypeormMetadataTableName()).where(u.escape("type")+" = 'VIEW'").andWhere(u.escape("schema")+" = :schema",{schema:o}).andWhere(u.escape("name")+" = :name",{name:s}).getQueryAndParameters(),2),[2,new b.a(c[0],c[1])]}}))}))},t.prototype.createIndexSql=function(e,t){var n=t.columnNames.map((function(e){return'"'+e+'"'})).join(", ");return new b.a('CREATE INDEX "'+t.name+'" ON '+this.escapePath(e)+" ("+n+") "+(t.where?"WHERE "+t.where:""))},t.prototype.dropIndexSql=function(e,t){var n=t instanceof m.a||t instanceof O.a?t.name:t;return new b.a("DROP INDEX "+this.escapePath(e)+'@"'+n+'" CASCADE')},t.prototype.createPrimaryKeySql=function(e,t){var n=this.connection.namingStrategy.primaryKeyName(e.name,t),r=t.map((function(e){return'"'+e+'"'})).join(", ");return new b.a("ALTER TABLE "+this.escapePath(e)+' ADD CONSTRAINT "'+n+'" PRIMARY KEY ('+r+")")},t.prototype.dropPrimaryKeySql=function(e){var t=e.primaryColumns.map((function(e){return e.name})),n=this.connection.namingStrategy.primaryKeyName(e.name,t);return new b.a("ALTER TABLE "+this.escapePath(e)+' DROP CONSTRAINT "'+n+'"')},t.prototype.createUniqueConstraintSql=function(e,t){var n=t.columnNames.map((function(e){return'"'+e+'"'})).join(", ");return new b.a("ALTER TABLE "+this.escapePath(e)+' ADD CONSTRAINT "'+t.name+'" UNIQUE ('+n+")")},t.prototype.dropUniqueConstraintSql=function(e,t){var n=t instanceof O.a?t.name:t;return new b.a("ALTER TABLE "+this.escapePath(e)+' DROP CONSTRAINT "'+n+'"')},t.prototype.createCheckConstraintSql=function(e,t){return new b.a("ALTER TABLE "+this.escapePath(e)+' ADD CONSTRAINT "'+t.name+'" CHECK ('+t.expression+")")},t.prototype.dropCheckConstraintSql=function(e,t){var n=t instanceof _.a?t.name:t;return new b.a("ALTER TABLE "+this.escapePath(e)+' DROP CONSTRAINT "'+n+'"')},t.prototype.createForeignKeySql=function(e,t){var n=t.columnNames.map((function(e){return'"'+e+'"'})).join(", "),r=t.referencedColumnNames.map((function(e){return'"'+e+'"'})).join(","),i="ALTER TABLE "+this.escapePath(e)+' ADD CONSTRAINT "'+t.name+'" FOREIGN KEY ('+n+") REFERENCES "+this.escapePath(t.referencedTableName)+"("+r+")";return t.onDelete&&(i+=" ON DELETE "+t.onDelete),t.onUpdate&&(i+=" ON UPDATE "+t.onUpdate),new b.a(i)},t.prototype.dropForeignKeySql=function(e,t){var n=t instanceof y.a?t.name:t;return new b.a("ALTER TABLE "+this.escapePath(e)+' DROP CONSTRAINT "'+n+'"')},t.prototype.buildSequenceName=function(e,t,n){var r=t instanceof d.a?t.name:t;return n?e.name+"_"+r+"_seq":'"'+e.name+"_"+r+'_seq"'},t.prototype.escapePath=function(e,t){var n=e instanceof p.a||e instanceof g.a?e.name:e;return(n=-1===n.indexOf(".")&&this.driver.options.schema?this.driver.options.schema+"."+n:n).split(".").map((function(e){return t?e:'"'+e+'"'})).join(".")},t.prototype.parseTableName=function(e){var t=e instanceof p.a?e.name:e;return-1===t.indexOf(".")?{schema:this.driver.options.schema?"'"+this.driver.options.schema+"'":"current_schema()",tableName:"'"+t+"'"}:{schema:"'"+t.split(".")[0]+"'",tableName:"'"+t.split(".")[1]+"'"}},t.prototype.buildCreateColumnSql=function(e,t){var n='"'+t.name+'"';return t.isGenerated&&("increment"===t.generationStrategy?n+=" INT DEFAULT nextval('"+this.buildSequenceName(e,t)+"')":"rowid"===t.generationStrategy?n+=" INT DEFAULT unique_rowid()":"uuid"===t.generationStrategy&&(n+=" UUID DEFAULT gen_random_uuid()")),t.isGenerated||(n+=" "+this.connection.driver.createFullType(t)),t.charset&&(n+=' CHARACTER SET "'+t.charset+'"'),t.collation&&(n+=' COLLATE "'+t.collation+'"'),t.isNullable||(n+=" NOT NULL"),t.isGenerated||null==t.default||(n+=" DEFAULT "+t.default),n},t}(C.a),N=n("bo9S"),k=function(){function e(e){this.slaves=[],this.connectedQueryRunners=[],this.isReplicated=!1,this.treeSupport=!0,this.supportedDataTypes=["array","bool","boolean","bytes","bytea","blob","date","numeric","decimal","dec","float","float4","float8","double precision","real","inet","int","int4","integer","int2","int8","int64","smallint","bigint","interval","string","character varying","character","char","char varying","varchar","text","time","time without time zone","timestamp","timestamptz","timestamp without time zone","timestamp with time zone","json","jsonb","uuid"],this.spatialTypes=[],this.withLengthColumnTypes=["character varying","char varying","varchar","character","char","string"],this.withPrecisionColumnTypes=["numeric","decimal","dec"],this.withScaleColumnTypes=["numeric","decimal","dec"],this.mappedDataTypes={createDate:"timestamptz",createDateDefault:"now()",updateDate:"timestamptz",updateDateDefault:"now()",deleteDate:"timestamptz",deleteDateNullable:!0,version:Number,treeLevel:Number,migrationId:Number,migrationName:"varchar",migrationTimestamp:"int8",cacheId:Number,cacheIdentifier:"varchar",cacheTime:"int8",cacheDuration:Number,cacheQuery:"string",cacheResult:"string",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"string"},this.dataTypeDefaults={char:{length:1}},this.connection=e,this.options=e.options,this.isReplicated=!!this.options.replication,this.loadDependencies()}return e.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){var e,t,n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return this.options.replication?(e=this,[4,Promise.all(this.options.replication.slaves.map((function(e){return i.createPool(i.options,e)})))]):[3,3];case 1:return e.slaves=r.sent(),t=this,[4,this.createPool(this.options,this.options.replication.master)];case 2:return t.master=r.sent(),this.database=this.options.replication.master.database,[3,5];case 3:return n=this,[4,this.createPool(this.options,this.options)];case 4:n.master=r.sent(),this.database=this.options.database,r.label=5;case 5:return[2]}}))}))},e.prototype.afterConnect=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve()]}))}))},e.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){var e=this;return r.e(this,(function(t){switch(t.label){case 0:return this.master?[4,this.closePool(this.master)]:[2,Promise.reject(new i("cockroachdb"))];case 1:return t.sent(),[4,Promise.all(this.slaves.map((function(t){return e.closePool(t)})))];case 2:return t.sent(),this.master=void 0,this.slaves=[],[2]}}))}))},e.prototype.createSchemaBuilder=function(){return new c.a(this.connection)},e.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),new S(this,e)},e.prototype.preparePersistentValue=function(e,t){return t.transformer&&(e=N.a.transformTo(t.transformer,e)),null==e?e:t.type===Boolean?!0===e?1:0:"date"===t.type?s.a.mixedDateToDateString(e):"time"===t.type?s.a.mixedDateToTimeString(e):"datetime"===t.type||t.type===Date||"timestamp"===t.type||"timestamptz"===t.type||"timestamp with time zone"===t.type||"timestamp without time zone"===t.type?s.a.mixedDateToDate(e):r.i(["json","jsonb"],this.spatialTypes).indexOf(t.type)>=0?JSON.stringify(e):"simple-array"===t.type?s.a.simpleArrayToString(e):"simple-json"===t.type?s.a.simpleJsonToString(e):e},e.prototype.prepareHydratedValue=function(e,t){return null==e?t.transformer?N.a.transformFrom(t.transformer,e):e:([Number,"int4","smallint","int2"].some((function(e){return e===t.type}))&&!t.isArray||"increment"===t.generationStrategy?e=parseInt(e):t.type===Boolean?e=!!e:"datetime"===t.type||t.type===Date||"timestamp"===t.type||"timestamptz"===t.type||"timestamp with time zone"===t.type||"timestamp without time zone"===t.type?e=s.a.normalizeHydratedDate(e):"date"===t.type?e=s.a.mixedDateToDateString(e):"time"===t.type?e=s.a.mixedTimeToString(e):"simple-array"===t.type?e=s.a.stringToSimpleArray(e):"simple-json"===t.type&&(e=s.a.stringToSimpleJson(e)),t.transformer&&(e=N.a.transformFrom(t.transformer,e)),e)},e.prototype.escapeQueryWithParameters=function(e,t,n){var r=Object.keys(n).map((function(e){return n[e]}));if(!t||!Object.keys(t).length)return[e,r];var i=Object.keys(t).map((function(e){return"(:(\\.\\.\\.)?"+e+"\\b)"})).join("|");return[e=e.replace(new RegExp(i,"g"),(function(e){var n,i=!1;return":..."===e.substr(0,4)?(i=!0,n=t[e.substr(4)]):n=t[e.substr(1)],i?n.map((function(e){return r.push(e),"$"+r.length})).join(", "):n instanceof Function?n():(r.push(n),"$"+r.length)})),r]},e.prototype.escape=function(e){return'"'+e+'"'},e.prototype.buildTableName=function(e,t){return t?t+"."+e:e},e.prototype.normalizeType=function(e){return e.type===Number||"integer"===e.type||"int"===e.type||"bigint"===e.type||"int64"===e.type?"int8":e.type===String||"character varying"===e.type||"char varying"===e.type?"varchar":e.type===Date||"timestamp without time zone"===e.type?"timestamp":"timestamp with time zone"===e.type?"timestamptz":"time without time zone"===e.type?"time":e.type===Boolean||"boolean"===e.type?"bool":"simple-array"===e.type||"simple-json"===e.type||"text"===e.type?"string":"bytea"===e.type||"blob"===e.type?"bytes":"smallint"===e.type?"int2":"numeric"===e.type||"dec"===e.type?"decimal":"double precision"===e.type||"float"===e.type?"float8":"real"===e.type?"float4":"character"===e.type?"char":"json"===e.type?"jsonb":e.type||""},e.prototype.normalizeDefault=function(e){var t=e.default,n=e.isArray?"::"+e.type+"[]":"";return"number"==typeof t?""+t:"boolean"==typeof t?!0===t?"true":"false":"function"==typeof t?t():"string"==typeof t?"'"+t+"'"+n:null===t?"null":"object"==typeof t?"'"+JSON.stringify(t)+"'":t},e.prototype.normalizeIsUnique=function(e){return e.entityMetadata.uniques.some((function(t){return 1===t.columns.length&&t.columns[0]===e}))},e.prototype.getColumnLength=function(e){return e.length?e.length.toString():""},e.prototype.createFullType=function(e){var t=e.type;return e.length?t+="("+e.length+")":null!=e.precision&&null!=e.scale?t+="("+e.precision+","+e.scale+")":null!=e.precision&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t},e.prototype.obtainMasterConnection=function(){var e=this;return new Promise((function(t,n){e.master.connect((function(e,r,i){e?n(e):t([r,i])}))}))},e.prototype.obtainSlaveConnection=function(){var e=this;return this.slaves.length?new Promise((function(t,n){var r=Math.floor(Math.random()*e.slaves.length);e.slaves[r].connect((function(e,r,i){e?n(e):t([r,i])}))})):this.obtainMasterConnection()},e.prototype.createGeneratedMap=function(e,t){var n=this;if(t)return Object.keys(t).reduce((function(r,i){var a=e.findColumnWithDatabaseName(i);return a&&l.a.mergeDeep(r,a.createValueMap(n.prepareHydratedValue(t[i],a))),r}),{})},e.prototype.findChangedColumns=function(e,t){var n=this;return t.filter((function(t){var r=e.find((function(e){return e.name===t.databaseName}));return!!r&&(r.name!==t.databaseName||r.type!==n.normalizeType(t)||r.length!==t.length||r.precision!==t.precision||r.scale!==t.scale||!r.isGenerated&&n.lowerDefaultValueIfNecessary(n.normalizeDefault(t))!==r.default||r.isPrimary!==t.isPrimary||r.isNullable!==t.isNullable||r.isUnique!==n.normalizeIsUnique(t)||r.isGenerated!==t.isGenerated)}))},e.prototype.lowerDefaultValueIfNecessary=function(e){return e?e.split("'").map((function(e,t){return t%2==1?e:e.toLowerCase()})).join("'"):e},e.prototype.isReturningSqlSupported=function(){return!0},e.prototype.isUUIDGenerationSupported=function(){return!0},e.prototype.createParameter=function(e,t){return"$"+(t+1)},e.prototype.loadStreamDependency=function(){try{return u.a.load("pg-query-stream")}catch(e){throw new Error("To use streams you should install pg-query-stream package. Please run npm i pg-query-stream --save command.")}},e.prototype.loadDependencies=function(){try{this.postgres=u.a.load("pg");try{u.a.load("pg-native")&&this.postgres.native&&(this.postgres=this.postgres.native)}catch(e){}}catch(e){throw new a.a("Postgres","pg")}},e.prototype.createPool=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a;return r.e(this,(function(r){return t=Object.assign({},t,o.a.buildDriverOptions(t)),n=Object.assign({},{host:t.host,user:t.username,password:t.password,database:t.database,port:t.port,ssl:t.ssl},e.extra||{}),i=new this.postgres.Pool(n),a=this.connection.logger,i.on("error",e.poolErrorHandler||function(e){return a.log("warn","Postgres pool raised an error. "+e)}),[2,new Promise((function(e,t){i.connect((function(n,r,a){if(n)return t(n);a(),e(i)}))}))]}))}))},e.prototype.closePool=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,Promise.all(this.connectedQueryRunners.map((function(e){return e.release()})))];case 1:return t.sent(),[2,new Promise((function(t,n){e.end((function(e){return e?n(e):t()}))}))]}}))}))},e}()},rH6E:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(){var n=e.call(this)||this;return n.name="TransactionNotStartedError",Object.setPrototypeOf(n,t.prototype),n.message="Transaction is not started yet, start transaction before committing or rolling it back.",n}return r.d(t,e),t}(Error)},rWo0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("HgnN"),i=n("i9P/"),a={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},ruxD:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe"),u=n("bwdy");function c(e){return function(t){return t.lift(new l(e))}}var l=function(){function e(t){Object(a.a)(this,e),this.callback=t}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.callback))}}]),e}(),h=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e)).add(new u.a(r)),i}return n}(s.a)},ryP2:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("bI4O"),i=n("jg4I"),a=n("6Oco"),o=n("ROBh"),s=n("47ST"),u=function(){var e=function(){function e(t,n,i){Object(r.a)(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return Object(i.a)(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(a.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},sEIs:function(e,t,n){"use strict";n.d(t,"a",(function(){return at})),n.d(t,"b",(function(){return ee})),n.d(t,"c",(function(){return bn})),n.d(t,"d",(function(){return wn})),n.d(t,"e",(function(){return Tn})),n.d(t,"f",(function(){return On})),n.d(t,"g",(function(){return In})),n.d(t,"h",(function(){return _n})),n.d(t,"i",(function(){return me}));var r=n("gCgJ"),i=n("K8MB"),a=n("uWoz"),o=n("mPN/"),s=n("jg4I"),u=n("Qvxn"),c=n("sTvq"),l=n("bI4O"),h=n("2kYt"),f=n("EM62"),d=n("ROBh"),p=n("GoAz"),m=n("C05f"),y=n("IdLP"),v=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),g=n("HM3f"),b=n("i9xl"),E=n("6Oco"),w=n("ZTXN"),O=n("YtkY"),C=n("mawV"),T=n("xVbo"),_=n("5uGe"),A=n("PNff");function S(e){return function(t){return 0===e?Object(E.b)():t.lift(new N(e))}}var N=function(){function e(t){if(Object(l.a)(this,e),this.total=t,this.total<0)throw new A.a}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new k(e,this.total))}}]),e}(),k=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return Object(s.a)(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var a=t++%n;e.next(r[a])}e.complete()}}]),n}(_.a);function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return function(t){return t.lift(new x(e))}}var x=function(){function e(t){Object(l.a)(this,e),this.errorFactory=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new M(e,this.errorFactory))}}]),e}(),M=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return Object(s.a)(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(_.a);function R(){return new v}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new P(e))}}var P=function(){function e(t){Object(l.a)(this,e),this.defaultValue=t}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new I(e,this.defaultValue))}}]),e}(),I=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return Object(s.a)(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(_.a),L=n("5E2i"),F=n("4e/d"),q=n("J+dc");function B(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(T.a)((function(t,n){return e(t,n,r)})):L.a,Object(q.a)(1),n?D(t):j((function(){return new v})))}}var U=n("cJ9h"),V=n("8j5Y"),H=function(){function e(t,n,r){Object(l.a)(this,e),this.predicate=t,this.thisArg=n,this.source=r}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new z(e,this.predicate,this.thisArg,this.source))}}]),e}(),z=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,o){var s;return Object(l.a)(this,n),(s=t.call(this,e)).predicate=r,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||Object(a.a)(s),s}return Object(s.a)(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(_.a),Q=n("TLy2"),W=n("jIqt"),K=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(l.a)(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return Object(s.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new G(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),G=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(l.a)(this,n),(o=t.call(this,e)).accumulator=r,o._seed=i,o.hasSeed=a,o.index=0,o}return Object(s.a)(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(_.a),J=n("5uDM"),Y=n("ruxD"),Z=n("3lSR"),X=function e(t,n){Object(l.a)(this,e),this.id=t,this.url=n},$=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(l.a)(this,n),(i=t.call(this,e,r)).navigationTrigger=a,i.restoredState=o,i}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(X),ee=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;return Object(l.a)(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(X),te=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;return Object(l.a)(this,n),(a=t.call(this,e,r)).reason=i,a}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(X),ne=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var a;return Object(l.a)(this,n),(a=t.call(this,e,r)).error=i,a}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(X),re=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(l.a)(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),ie=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(l.a)(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),ae=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o){var s;return Object(l.a)(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=a,s.shouldActivate=o,s}return Object(s.a)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(X),oe=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(l.a)(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),se=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(l.a)(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return Object(s.a)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(X),ue=function(){function e(t){Object(l.a)(this,e),this.route=t}return Object(s.a)(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),ce=function(){function e(t){Object(l.a)(this,e),this.route=t}return Object(s.a)(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),le=function(){function e(t){Object(l.a)(this,e),this.snapshot=t}return Object(s.a)(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),he=function(){function e(t){Object(l.a)(this,e),this.snapshot=t}return Object(s.a)(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),fe=function(){function e(t){Object(l.a)(this,e),this.snapshot=t}return Object(s.a)(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),de=function(){function e(t){Object(l.a)(this,e),this.snapshot=t}return Object(s.a)(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),pe=function(){function e(t,n,r){Object(l.a)(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return Object(s.a)(e,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),e}(),me=function(){var e=function e(){Object(l.a)(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=f.Db({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&f.Kb(0,"router-outlet")},directives:function(){return[_n]},encapsulation:2}),e}(),ye=function(){function e(t){Object(l.a)(this,e),this.params=t||{}}return Object(s.a)(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ve(e){return new ye(e)}function ge(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function be(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},a=0;a<r.length;a++){var o=r[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Ee=function e(t,n){Object(l.a)(this,e),this.routes=t,this.module=n};function we(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n],i=Ce(t,r);Oe(r,i)}}function Oe(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. ").concat("The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&we(e.children,t)}function Ce(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Te(e){var t=e.children&&e.children.map(Te),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=me),n}function _e(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var a=0;a<r.length;a++)if(!Ae(e[n=r[a]],t[n]))return!1;return!0}function Ae(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function Se(e){return Array.prototype.concat.apply([],e)}function Ne(e){return e.length>0?e[e.length-1]:null}function ke(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function je(e){return Object(f.pb)(e)?e:Object(f.qb)(e)?Object(p.a)(Promise.resolve(e)):Object(d.a)(e)}function xe(e,t,n){return n?function(e,t){return _e(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Pe(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return Ae(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!Pe(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Pe(n.segments,i))return!1;for(var a in r.children){if(!n.children[a])return!1;if(!e(n.children[a],r.children[a]))return!1}return!0}var o=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Pe(n.segments,o)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var Me=function(){function e(t,n,r){Object(l.a)(this,e),this.root=t,this.queryParams=n,this.fragment=r}return Object(s.a)(e,[{key:"toString",value:function(){return qe.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}}]),e}(),Re=function(){function e(t,n){var r=this;Object(l.a)(this,e),this.segments=t,this.children=n,this.parent=null,ke(n,(function(e,t){return e.parent=r}))}return Object(s.a)(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Be(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),De=function(){function e(t,n){Object(l.a)(this,e),this.path=t,this.parameters=n}return Object(s.a)(e,[{key:"toString",value:function(){return We(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ve(this.parameters)),this._parameterMap}}]),e}();function Pe(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Ie(e,t){var n=[];return ke(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),ke(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var Le=function e(){Object(l.a)(this,e)},Fe=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"parse",value:function(e){var t=new Ze(e);return new Me(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r="/".concat(function e(t,n){if(!t.hasChildren())return Be(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return ke(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var a=Ie(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Be(t),"/(").concat(a.join("//"),")")}(e.root,!0)),i=(t=e.queryParams,(n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Ve(e),"=").concat(Ve(t))})).join("&"):"".concat(Ve(e),"=").concat(Ve(n))}))).length?"?".concat(n.join("&")):""),a="string"==typeof e.fragment?"#".concat(encodeURI(e.fragment)):"";return"".concat(r).concat(i).concat(a)}}]),e}(),qe=new Fe;function Be(e){return e.segments.map((function(e){return We(e)})).join("/")}function Ue(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ve(e){return Ue(e).replace(/%3B/gi,";")}function He(e){return Ue(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(e){return decodeURIComponent(e)}function Qe(e){return ze(e.replace(/\+/g,"%20"))}function We(e){return"".concat(He(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(He(e),"=").concat(He(t[e]))})).join("")));var t}var Ke=/^[^\/()?;=#]+/;function Ge(e){var t=e.match(Ke);return t?t[0]:""}var Je=/^[^=?&#]+/,Ye=/^[^?&#]+/,Ze=function(){function e(t){Object(l.a)(this,e),this.url=t,this.remaining=t}return Object(s.a)(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Re(e,t)),n}},{key:"parseSegment",value:function(){var e=Ge(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new De(ze(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Ge(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Ge(this.remaining);r&&this.capture(n=r)}e[ze(t)]=ze(n)}}},{key:"parseQueryParam",value:function(e){var t,n=(t=this.remaining.match(Je))?t[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(Ye);return t?t[0]:""}(this.remaining);i&&this.capture(r=i)}var a=Qe(n),o=Qe(r);if(e.hasOwnProperty(a)){var s=e[a];Array.isArray(s)||(e[a]=s=[s]),s.push(o)}else e[a]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Ge(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var a=this.parseChildren();t[i]=1===Object.keys(a).length?a.primary:new Re([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Xe=function(){function e(t){Object(l.a)(this,e),this._root=t}return Object(s.a)(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=$e(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=$e(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=et(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return et(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function $e(e,t){if(e===t.value)return t;var n,r=Object(o.a)(t.children);try{for(r.s();!(n=r.n()).done;){var i=$e(e,n.value);if(i)return i}}catch(a){r.e(a)}finally{r.f()}return null}function et(e,t){if(e===t.value)return[t];var n,r=Object(o.a)(t.children);try{for(r.s();!(n=r.n()).done;){var i=et(e,n.value);if(i.length)return i.unshift(t),i}}catch(a){r.e(a)}finally{r.f()}return[]}var tt=function(){function e(t,n){Object(l.a)(this,e),this.value=t,this.children=n}return Object(s.a)(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function nt(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var rt=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,e)).snapshot=r,lt(Object(a.a)(i),e),i}return Object(s.a)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Xe);function it(e,t){var n=function(e,t){var n=new ut([],{},{},"",{},"primary",t,null,e.root,-1,{});return new ct("",new tt(n,[]))}(e,t),r=new m.a([new De("",{})]),i=new m.a({}),a=new m.a({}),o=new m.a({}),s=new m.a(""),u=new at(r,i,o,s,a,"primary",t,n.root);return u.snapshot=n.root,new rt(new tt(u,[]),n)}var at=function(){function e(t,n,r,i,a,o,s,u){Object(l.a)(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return Object(s.a)(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(O.a)((function(e){return ve(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(O.a)((function(e){return ve(e)})))),this._queryParamMap}}]),e}();function ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return st(n.slice(r))}function st(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}var ut=function(){function e(t,n,r,i,a,o,s,u,c,h,f){Object(l.a)(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=h,this._resolve=f}return Object(s.a)(e,[{key:"toString",value:function(){var e=this.url.map((function(e){return e.toString()})).join("/"),t=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(t,"')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ve(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ve(this.queryParams)),this._queryParamMap}}]),e}(),ct=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(l.a)(this,n),(i=t.call(this,r)).url=e,lt(Object(a.a)(i),r),i}return Object(s.a)(n,[{key:"toString",value:function(){return ht(this._root)}}]),n}(Xe);function lt(e,t){t.value._routerState=e,t.children.forEach((function(t){return lt(e,t)}))}function ht(e){var t=e.children.length>0?" { ".concat(e.children.map(ht).join(", ")," } "):"";return"".concat(e.value).concat(t)}function ft(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,_e(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),_e(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!_e(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),_e(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dt(e,t){var n,r;return _e(e.params,t.params)&&Pe(n=e.url,r=t.url)&&n.every((function(e,t){return _e(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||dt(e.parent,t.parent))}function pt(e,t,n,r,a){if(0===n.length)return yt(t.root,t.root,t,r,a);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new vt(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,a){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return ke(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(Object(i.a)(e),[{outlets:o}])}if(r.segmentPath)return[].concat(Object(i.a)(e),[r.segmentPath])}return"string"!=typeof r?[].concat(Object(i.a)(e),[r]):0===a?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(Object(i.a)(e),[r])}),[]);return new vt(n,t,r)}(n);if(o.toRoot())return yt(t.root,new Re([],{}),t,r,a);var s=function(e,t,n){if(e.isAbsolute)return new gt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new gt(r,r===t.root,0)}var i=mt(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,a=n;a>i;){if(a-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new gt(r,!1,i-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),u=s.processChildren?wt(s.segmentGroup,s.index,o.commands):Et(s.segmentGroup,s.index,o.commands);return yt(s.segmentGroup,u,t,r,a)}function mt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yt(e,t,n,r,i){var a={};return r&&ke(r,(function(e,t){a[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new Me(n.root===e?t:function e(t,n,r){var i={};return ke(t.children,(function(t,a){i[a]=t===n?r:e(t,n,r)})),new Re(t.segments,i)}(n.root,e,t),a,i)}var vt=function(){function e(t,n,r){if(Object(l.a)(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&mt(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Ne(r))throw new Error("{outlets:{}} has to be the last command")}return Object(s.a)(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),gt=function e(t,n,r){Object(l.a)(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function bt(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function Et(e,t,n){if(e||(e=new Re([],{})),0===e.segments.length&&e.hasChildren())return wt(e,t,n);var r=function(e,t,n){for(var r=0,i=t,a={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return a;var o=e.segments[i],s=bt(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!_t(s,u,o))return a;r+=2}else{if(!_t(s,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var a=new Re(e.segments.slice(0,r.pathIndex),{});return a.children.primary=new Re(e.segments.slice(r.pathIndex),e.children),wt(a,0,i)}return r.match&&0===i.length?new Re(e.segments,{}):r.match&&!e.hasChildren()?Ot(e,t,n):r.match?wt(e,0,i):Ot(e,t,n)}function wt(e,t,n){if(0===n.length)return new Re(e.segments,{});var i=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?Object(r.a)({},"primary",e):e[0].outlets}(n),a={};return ke(i,(function(n,r){null!==n&&(a[r]=Et(e.children[r],t,n))})),ke(e.children,(function(e,t){void 0===i[t]&&(a[t]=e)})),new Re(e.segments,a)}function Ot(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var a=Ct(n[i].outlets);return new Re(r,a)}if(0===i&&mt(n[0]))r.push(new De(e.segments[t].path,n[0])),i++;else{var o=bt(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&mt(s)?(r.push(new De(o,Tt(s))),i+=2):(r.push(new De(o,{})),i++)}}return new Re(r,{})}function Ct(e){var t={};return ke(e,(function(e,n){null!==e&&(t[n]=Ot(new Re([],{}),0,e))})),t}function Tt(e){var t={};return ke(e,(function(e,n){return t[n]="".concat(e)})),t}function _t(e,t,n){return e==n.path&&_e(t,n.parameters)}var At=function(){function e(t,n,r,i){Object(l.a)(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return Object(s.a)(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ft(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=nt(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),ke(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=nt(e),a=e.value.component?r.children:t;ke(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,a)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=nt(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new de(e.value.snapshot))})),e.children.length&&this.forwardEvent(new he(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(ft(r),r===i)if(r.component){var a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),St(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=c,o.outlet&&o.outlet.activateWith(r,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function St(e){ft(e.value),e.children.forEach(St)}function Nt(e){return"function"==typeof e}function kt(e){return e instanceof Me}var jt=function e(t){Object(l.a)(this,e),this.segmentGroup=t||null},xt=function e(t){Object(l.a)(this,e),this.urlTree=t};function Mt(e){return new y.a((function(t){return t.error(new jt(e))}))}function Rt(e){return new y.a((function(t){return t.error(new xt(e))}))}function Dt(e){return new y.a((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Pt=function(){function e(t,n,r,i,a){Object(l.a)(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(f.x)}return Object(s.a)(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(O.a)((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Object(F.a)((function(t){if(t instanceof xt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof jt)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(Object(O.a)((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Object(F.a)((function(e){if(e instanceof jt)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Re([],Object(r.a)({},"primary",e)):e;return new Me(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(O.a)((function(e){return new Re([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(d.a)({});var a=[],o=[],s={};return ke(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(Object(O.a)((function(e){return s[i]=e})));"primary"===i?a.push(l):o.push(l)})),d.a.apply(null,a.concat(o)).pipe(Object(C.a)(),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(T.a)((function(t,n){return e(t,n,r)})):L.a,S(1),n?D(t):j((function(){return new v})))}}(),Object(O.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,a,o){var s=this;return d.a.apply(void 0,Object(i.a)(n)).pipe(Object(O.a)((function(i){return s.expandSegmentAgainstRoute(e,t,n,i,r,a,o).pipe(Object(F.a)((function(e){if(e instanceof jt)return Object(d.a)(null);throw e})))})),Object(C.a)(),B((function(e){return!!e})),Object(F.a)((function(e,n){if(e instanceof v||"EmptyError"===e.name){if(s.noLeftoversInUrl(t,r,a))return Object(d.a)(new Re([],{}));throw new jt(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,a,o){return qt(r)!==a?Mt(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a):Mt(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Rt(a):this.lineralizeSegments(n,a).pipe(Object(U.a)((function(n){var a=new Re(n,{});return i.expandSegment(e,a,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){var o=this,s=It(t,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return Mt(t);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Rt(h):this.lineralizeSegments(r,h).pipe(Object(U.a)((function(r){return o.expandSegment(e,t,n,r.concat(i.slice(c)),a,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(O.a)((function(e){return n._loadedConfig=e,new Re(r,{})}))):Object(d.a)(new Re(r,{}));var a=It(t,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return Mt(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(Object(U.a)((function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Ft(e,t,n)&&"primary"!==qt(n)}))}(e,n,r)?{segmentGroup:Lt(new Re(t,function(e,t){var n={};n.primary=t;var r,i=Object(o.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;""===a.path&&"primary"!==qt(a)&&(n[qt(a)]=new Re([],{}))}}catch(s){i.e(s)}finally{i.f()}return n}(r,new Re(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Ft(e,t,n)}))}(e,n,r)?{segmentGroup:Lt(new Re(e.segments,function(e,t,n,r){var i,a={},s=Object(o.a)(n);try{for(s.s();!(i=s.n()).done;){var u=i.value;Ft(e,t,u)&&!r[qt(u)]&&(a[qt(u)]=new Re([],{}))}}catch(c){s.e(c)}finally{s.f()}return Object.assign(Object.assign({},r),a)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),u=a.segmentGroup,l=a.slicedSegments;return 0===l.length&&u.hasChildren()?i.expandChildren(n,r,u).pipe(Object(O.a)((function(e){return new Re(s,e)}))):0===r.length&&0===l.length?Object(d.a)(new Re(s,{})):i.expandSegment(n,u,r,l,"primary",!0).pipe(Object(O.a)((function(e){return new Re(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Object(d.a)(new Ee(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(d.a)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(Object(U.a)((function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(O.a)((function(e){return t._loadedConfig=e,e}))):function(e){return new y.a((function(t){return t.error(ge("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Object(d.a)(new Ee([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r,i=this,a=t.canLoad;return a&&0!==a.length?Object(p.a)(a).pipe(Object(O.a)((function(r){var i,a=e.get(r);if(function(e){return e&&Nt(e.canLoad)}(a))i=a.canLoad(t,n);else{if(!Nt(a))throw new Error("Invalid CanLoad guard");i=a(t,n)}return je(i)}))).pipe(Object(C.a)(),Object(V.a)((function(e){if(kt(e)){var t=ge('Redirecting to "'.concat(i.urlSerializer.serialize(e),'"'));throw t.url=e,t}})),(r=function(e){return!0===e},function(e){return e.lift(new H(r,void 0,e))})):Object(d.a)(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(d.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Dt(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Me(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return ke(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,a=this.createSegments(e,t.segments,n,r),o={};return ke(t.children,(function(t,a){o[a]=i.createSegmentGroup(e,t,n,r)})),new Re(a,o)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===e.path)return t.splice(r),a;r++}}catch(s){i.e(s)}finally{i.f()}return e}}]),e}();function It(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||be)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Lt(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Re(e.segments.concat(t.segments),t.children)}return e}function Ft(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function qt(e){return e.outlet||"primary"}var Bt=function e(t){Object(l.a)(this,e),this.path=t,this.route=this.path[this.path.length-1]},Ut=function e(t,n){Object(l.a)(this,e),this.component=t,this.route=n};function Vt(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ht(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=nt(t);return e.children.forEach((function(e){zt(e,a[e.value.outlet],n,r.concat([e.value]),i),delete a[e.value.outlet]})),ke(a,(function(e,t){return Wt(e,n.getContext(t),i)})),i}function zt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=Qt(o,a,a.routeConfig.runGuardsAndResolvers);if(u?i.canActivateChecks.push(new Bt(r)):(a.data=o.data,a._resolvedData=o._resolvedData),Ht(e,t,a.component?s?s.children:null:n,r,i),u){var c=s&&s.outlet&&s.outlet.component||null;i.canDeactivateChecks.push(new Ut(c,o))}}else o&&Wt(t,s,i),i.canActivateChecks.push(new Bt(r)),Ht(e,null,a.component?s?s.children:null:n,r,i);return i}function Qt(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Pe(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Pe(e.url,t.url)||!_e(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(e,t)||!_e(e.queryParams,t.queryParams);case"paramsChange":default:return!dt(e,t)}}function Wt(e,t,n){var r=nt(e),i=e.value;ke(r,(function(e,r){Wt(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Ut(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Kt=Symbol("INITIAL_VALUE");function Gt(){return Object(Q.a)((function(e){return g.a.apply(void 0,Object(i.a)(e.map((function(e){return e.pipe(Object(q.a)(1),Object(W.a)(Kt))})))).pipe(function(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new K(e,t,n))}}((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Kt)return e;if(r===Kt&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||kt(r))return r}return e}),e)}),Kt),Object(T.a)((function(e){return e!==Kt})),Object(O.a)((function(e){return kt(e)?e:!0===e})),Object(q.a)(1))}))}function Jt(e,t){return null!==e&&t&&t(new fe(e)),Object(d.a)(!0)}function Yt(e,t){return null!==e&&t&&t(new le(e)),Object(d.a)(!0)}function Zt(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(d.a)(!0);var i=r.map((function(r){return Object(b.a)((function(){var i,a=Vt(r,t,n);if(function(e){return e&&Nt(e.canActivate)}(a))i=je(a.canActivate(t,e));else{if(!Nt(a))throw new Error("Invalid CanActivate guard");i=je(a(t,e))}return i.pipe(B())}))}));return Object(d.a)(i).pipe(Gt())}function Xt(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Object(b.a)((function(){var i=t.guards.map((function(i){var a,o=Vt(i,t.node,n);if(function(e){return e&&Nt(e.canActivateChild)}(o))a=je(o.canActivateChild(r,e));else{if(!Nt(o))throw new Error("Invalid CanActivateChild guard");a=je(o(r,e))}return a.pipe(B())}));return Object(d.a)(i).pipe(Gt())}))}));return Object(d.a)(i).pipe(Gt())}var $t=function e(){Object(l.a)(this,e)},en=function(){function e(t,n,r,i,a,o){Object(l.a)(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return Object(s.a)(e,[{key:"recognize",value:function(){try{var e=rn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new ut([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tt(n,t),i=new ct(this.url,r);return this.inheritParamsAndData(i._root),Object(d.a)(i)}catch(a){return new y.a((function(e){return e.error(a)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=ot(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Ie(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),function(e){e.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)}))}(i),i}},{key:"processSegment",value:function(e,t,n,r){var i,a=Object(o.a)(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;try{return this.processSegmentAgainstRoute(s,t,n,r)}catch(u){if(!(u instanceof $t))throw u}}}catch(c){a.e(c)}finally{a.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new $t}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new $t;if((e.outlet||"primary")!==r)throw new $t;var i,a=[],o=[];if("**"===e.path){var s=n.length>0?Ne(n).parameters:{};i=new ut(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sn(e),r,e.component,e,tn(t),nn(t)+n.length,un(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new $t;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||be)(n,e,t);if(!r)throw new $t;var i={};ke(r.posParams,(function(e,t){i[t]=e.path}));var a=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(t,e,n);a=u.consumedSegments,o=n.slice(u.lastChild),i=new ut(a,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sn(e),r,e.component,e,tn(t),nn(t)+a.length,un(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=rn(t,a,o,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new tt(i,d)]}if(0===c.length&&0===f.length)return[new tt(i,[])];var p=this.processSegment(c,h,f,"primary");return[new tt(i,p)]}}]),e}();function tn(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function nn(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function rn(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return an(e,t,n)&&"primary"!==on(n)}))}(e,n,r)){var a=new Re(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var a,s=Object(o.a)(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(""===u.path&&"primary"!==on(u)){var c=new Re([],{});c._sourceSegment=e,c._segmentIndexShift=t.length,i[on(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(e,t,r,new Re(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return an(e,t,n)}))}(e,n,r)){var s=new Re(e.segments,function(e,t,n,r,i,a){var s,u={},c=Object(o.a)(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(an(e,n,l)&&!i[on(l)]){var h=new Re([],{});h._sourceSegment=e,h._segmentIndexShift="legacy"===a?e.segments.length:t.length,u[on(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var u=new Re(e.segments,e.children);return u._sourceSegment=e,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:n}}function an(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function on(e){return e.outlet||"primary"}function sn(e){return e.data||{}}function un(e){return e.resolve||{}}function cn(e){return function(t){return t.pipe(Object(Q.a)((function(t){var n=e(t);return n?Object(p.a)(n).pipe(Object(O.a)((function(){return t}))):Object(p.a)([t])})))}}var ln=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),hn=new f.q("ROUTES"),fn=function(){function e(t,n,r,i){Object(l.a)(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return Object(s.a)(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(O.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Ee(Se(i.injector.get(hn)).map(Te),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?Object(p.a)(this.loader.load(e)):je(e()).pipe(Object(U.a)((function(e){return e instanceof f.v?Object(d.a)(e):Object(p.a)(t.compiler.compileModuleAsync(e))})))}}]),e}(),dn=function e(){Object(l.a)(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new pn,this.attachRef=null},pn=function(){function e(){Object(l.a)(this,e),this.contexts=new Map}return Object(s.a)(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new dn,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),mn=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function yn(e){throw e}function vn(e,t,n){return t.parse("/")}function gn(e,t){return Object(d.a)(null)}var bn=function(){var e=function(){function e(t,n,r,i,a,o,s,u){var c=this;Object(l.a)(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new w.a,this.errorHandler=yn,this.malformedUriErrorHandler=vn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gn,afterPreactivation:gn},this.urlHandlingStrategy=new mn,this.routeReuseStrategy=new ln,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(f.x),this.console=a.get(f.X);var h=a.get(f.z);this.isNgZoneEnabled=h instanceof f.z,this.resetConfig(u),this.currentUrlTree=new Me(new Re([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fn(o,s,(function(e){return c.triggerEvent(new ue(e))}),(function(e){return c.triggerEvent(new ce(e))})),this.routerState=it(this.currentUrlTree,this.rootComponentType),this.transitions=new m.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Object(s.a)(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Object(T.a)((function(e){return 0!==e.id})),Object(O.a)((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Object(Q.a)((function(e){var r,i,a,s=!1,u=!1;return Object(d.a)(e).pipe(Object(V.a)((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Object(Q.a)((function(e){var r,i,a,o,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(d.a)(e).pipe(Object(Q.a)((function(e){var r=t.transitions.getValue();return n.next(new $(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?E.a:[e]})),Object(Q.a)((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,o=t.config,function(e){return e.pipe(Object(Q.a)((function(e){return function(e,t,n,r,i){return new Pt(e,t,n,r,i).apply()}(r,i,a,e.extractedUrl,o).pipe(Object(O.a)((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Object(V.a)((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,a){return function(r){return r.pipe(Object(U.a)((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new en(e,t,n,r,i,a).recognize()}(e,n,r.urlAfterRedirects,(o=r.urlAfterRedirects,t.serializeUrl(o)),i,a).pipe(Object(O.a)((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var o})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Object(V.a)((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Object(V.a)((function(e){var r=new re(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.extractedUrl,c=e.source,l=e.restoredState,h=e.extras,f=new $(e.id,t.serializeUrl(u),c,l);n.next(f);var p=it(u,t.rootComponentType).snapshot;return Object(d.a)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),E.a})),cn((function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Object(V.a)((function(e){var n=new ie(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(O.a)((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,a=n._root,Ht(a,r?r._root:null,i,[a.value]))});var n,r,i,a})),function(e,t){return function(n){return n.pipe(Object(U.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?Object(d.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return Object(p.a)(e).pipe(Object(U.a)((function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return Object(d.a)(!0);var o=a.map((function(a){var o,s=Vt(a,t,i);if(function(e){return e&&Nt(e.canDeactivate)}(s))o=je(s.canDeactivate(e,t,n,r));else{if(!Nt(s))throw new Error("Invalid CanDeactivate guard");o=je(s(e,t,n,r))}return o.pipe(B())}));return Object(d.a)(o).pipe(Gt())}(e.component,e.route,n,t,r)})),B((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(Object(U.a)((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(p.a)(t).pipe(Object(J.a)((function(t){return Object(p.a)([Yt(t.route.parent,r),Jt(t.route,r),Xt(e,t.path,n),Zt(e,t.route,n)]).pipe(Object(C.a)(),B((function(e){return!0!==e}),!0))})),B((function(e){return!0!==e}),!0))}(r,o,e,t):Object(d.a)(n)})),Object(O.a)((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Object(V.a)((function(e){if(kt(e.guardsResult)){var n=ge('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Object(V.a)((function(e){var n=new ae(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Object(T.a)((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new te(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),cn((function(e){if(e.guards.canActivateChecks.length)return Object(d.a)(e).pipe(Object(V.a)((function(e){var n=new oe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),Object(Q.a)((function(e){var r,i,a=!1;return Object(d.a)(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(Object(U.a)((function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return Object(d.a)(e);var a=0;return Object(p.a)(n).pipe(Object(J.a)((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(d.a)({});var a={};return Object(p.a)(i).pipe(Object(U.a)((function(i){return function(e,t,n,r){var i=Vt(e,t,r);return je(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(Object(V.a)((function(e){a[i]=e})))})),S(1),Object(U.a)((function(){return Object.keys(a).length===i.length?Object(d.a)(a):E.a})))}(e._resolve,e,t,r).pipe(Object(O.a)((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ot(e,n).resolve),null})))}(e.route,t,r,i)})),Object(V.a)((function(){return a++})),S(1),Object(U.a)((function(t){return a===n.length?Object(d.a)(e):E.a})))})))}),Object(V.a)({next:function(){return a=!0},complete:function(){if(!a){var r=new te(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))})),Object(V.a)((function(e){var n=new se(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})))})),cn((function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Object(O.a)((function(e){var n,r,i,a=(i=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var a=function(t,n,r){return n.children.map((function(n){var i,a=Object(o.a)(r.children);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(u){a.e(u)}finally{a.f()}return e(t,n)}))}(t,n,r);return new tt(i,a)}var s=t.retrieve(n.value);if(s){var u=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,u),u}var c,l=new at(new m.a((c=n.value).url),new m.a(c.params),new m.a(c.queryParams),new m.a(c.fragment),new m.a(c.data),c.outlet,c.component,c),h=n.children.map((function(n){return e(t,n)}));return new tt(l,h)}(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(r=e.currentRouterState)?r._root:void 0),new rt(i,n));return Object.assign(Object.assign({},e),{targetRouterState:a})})),Object(V.a)((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,i=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},Object(O.a)((function(e){return new At(i,e.targetRouterState,e.currentRouterState,a).activate(r),e}))),Object(V.a)({next:function(){s=!0},complete:function(){s=!0}}),Object(Y.a)((function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new te(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null})),Object(F.a)((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=kt(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var a=new te(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(a),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new ne(e.id,t.serializeUrl(e.extractedUrl),r);n.next(o);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return E.a})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){we(e),this.config=e.map(Te),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,a=t.preserveQueryParams,o=t.queryParamsHandling,s=t.preserveFragment;Object(f.U)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;if(o)switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=a?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),pt(u,this.currentUrlTree,e,l,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(f.U)()&&this.isNgZoneEnabled&&!f.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=kt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return En(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(kt(e))return xe(this.currentUrlTree,e,t);var n=this.parseUrl(e);return xe(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new ee(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var a,o,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(a=i.resolve,o=i.reject,s=i.promise):s=new Promise((function(e,t){a=e,o=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Tb(f.M),f.Tb(Le),f.Tb(pn),f.Tb(h.n),f.Tb(f.r),f.Tb(f.w),f.Tb(f.i),f.Tb(void 0))},e.\u0275prov=f.Fb({token:e,factory:e.\u0275fac}),e}();function En(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}var wn=function(){var e=function(){function e(t,n,r,i,a){Object(l.a)(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(a.nativeElement,"tabindex","0")}return Object(s.a)(e,[{key:"onClick",value:function(){var e={skipLocationChange:Cn(this.skipLocationChange),replaceUrl:Cn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(f.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Cn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Cn(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Jb(bn),f.Jb(at),f.Ub("tabindex"),f.Jb(f.D),f.Jb(f.l))},e.\u0275dir=f.Eb({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&f.Xb("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e}(),On=function(){var e=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof ee&&i.updateTargetUrlAndHref()}))}return Object(s.a)(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Cn(this.skipLocationChange),replaceUrl:Cn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Object(f.U)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Cn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Cn(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Jb(bn),f.Jb(at),f.Jb(h.o))},e.\u0275dir=f.Eb({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&f.Xb("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(f.Sb("href",t.href,f.sc),f.zb("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[f.wb]}),e}();function Cn(e){return""===e||!!e}var Tn=function(){var e=function(){function e(t,n,r,i,a){var o=this;Object(l.a)(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof ee&&o.update()}))}return Object(s.a)(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Jb(bn),f.Jb(f.l),f.Jb(f.D),f.Jb(wn,8),f.Jb(On,8))},e.\u0275dir=f.Eb({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(f.Cb(n,wn,!0),f.Cb(n,On,!0)),2&e&&(f.oc(r=f.Yb())&&(t.links=r),f.oc(r=f.Yb())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[f.wb]}),e}(),_n=function(){var e=function(){function e(t,n,r,i,a){Object(l.a)(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.n,this.deactivateEvents=new f.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return Object(s.a)(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new An(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Jb(pn),f.Jb(f.O),f.Jb(f.j),f.Ub("name"),f.Jb(f.h))},e.\u0275dir=f.Eb({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),An=function(){function e(t,n,r){Object(l.a)(this,e),this.route=t,this.childContexts=n,this.parent=r}return Object(s.a)(e,[{key:"get",value:function(e,t){return e===at?this.route:e===pn?this.childContexts:this.parent.get(e,t)}}]),e}(),Sn=function e(){Object(l.a)(this,e)},Nn=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"preload",value:function(e,t){return t().pipe(Object(F.a)((function(){return Object(d.a)(null)})))}}]),e}(),kn=function(){function e(){Object(l.a)(this,e)}return Object(s.a)(e,[{key:"preload",value:function(e,t){return Object(d.a)(null)}}]),e}(),jn=function(){var e=function(){function e(t,n,r,i,a){Object(l.a)(this,e),this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new fn(n,r,(function(e){return t.triggerEvent(new ue(e))}),(function(e){return t.triggerEvent(new ce(e))}))}return Object(s.a)(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Object(T.a)((function(e){return e instanceof ee})),Object(J.a)((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(f.x);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=Object(o.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children))}}catch(u){i.e(u)}finally{i.f()}return Object(p.a)(r).pipe(Object(Z.a)(),Object(O.a)((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(Object(U.a)((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Tb(bn),f.Tb(f.w),f.Tb(f.i),f.Tb(f.r),f.Tb(Sn))},e.\u0275prov=f.Fb({token:e,factory:e.\u0275fac}),e}(),xn=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.a)(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return Object(s.a)(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof $?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ee&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof pe&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new pe(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Tb(bn),f.Tb(h.H),f.Tb(void 0))},e.\u0275prov=f.Fb({token:e,factory:e.\u0275fac}),e}(),Mn=new f.q("ROUTER_CONFIGURATION"),Rn=new f.q("ROUTER_FORROOT_GUARD"),Dn=[h.n,{provide:Le,useClass:Fe},{provide:bn,useFactory:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new bn(null,e,t,n,r,i,a,Se(o));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var f=Object(h.L)();l.events.subscribe((function(e){f.logGroup("Router Event: ".concat(e.constructor.name)),f.log(e.toString()),f.log(e),f.logGroupEnd()}))}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[Le,pn,h.n,f.r,f.w,f.i,hn,Mn,[function e(){Object(l.a)(this,e)},new f.A],[function e(){Object(l.a)(this,e)},new f.A]]},pn,{provide:at,useFactory:function(e){return e.routerState.root},deps:[bn]},{provide:f.w,useClass:f.J},jn,kn,Nn,{provide:Mn,useValue:{enableTracing:!1}}];function Pn(){return new f.y("Router",bn)}var In=function(){var e=function(){function e(t,n){Object(l.a)(this,e)}return Object(s.a)(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Dn,Bn(t),{provide:Rn,useFactory:qn,deps:[[bn,new f.A,new f.I]]},{provide:Mn,useValue:n||{}},{provide:h.o,useFactory:Fn,deps:[h.D,[new f.p(h.a),new f.A],Mn]},{provide:xn,useFactory:Ln,deps:[bn,h.H,Mn]},{provide:Sn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:kn},{provide:f.y,multi:!0,useFactory:Pn},[Un,{provide:f.d,multi:!0,useFactory:Vn,deps:[Un]},{provide:zn,useFactory:Hn,deps:[Un]},{provide:f.b,multi:!0,useExisting:zn}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Bn(t)]}}}]),e}();return e.\u0275mod=f.Hb({type:e}),e.\u0275inj=f.Gb({factory:function(t){return new(t||e)(f.Tb(Rn,8),f.Tb(bn,8))}}),e}();function Ln(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new xn(e,t,n)}function Fn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new h.h(e,t):new h.B(e,t)}function qn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Bn(e){return[{provide:f.a,multi:!0,useValue:e},{provide:hn,multi:!0,useValue:e}]}var Un=function(){var e=function(){function e(t){Object(l.a)(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new w.a}return Object(s.a)(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(h.m,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(bn),i=e.injector.get(Mn);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Object(d.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Mn),n=this.injector.get(jn),r=this.injector.get(xn),i=this.injector.get(bn),a=this.injector.get(f.g);e===a.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Tb(f.r))},e.\u0275prov=f.Fb({token:e,factory:e.\u0275fac}),e}();function Vn(e){return e.appInitializer.bind(e)}function Hn(e){return e.bootstrapListener.bind(e)}var zn=new f.q("Router Initializer")},sTvq:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("3OGo"),i=n("4U52");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("uWoz");function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?Object(o.a)(e):t}function u(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},sWLk:function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));var i=r()},tN4t:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return C}));var r=n("K8MB"),i=n("bI4O"),a=n("jg4I"),o=n("EM62"),s=n("2kYt"),u=n("miYd"),c=n("qUoL"),l=n("egf4"),h=n("f7+R"),f=["container"],d=function(e,t,n,r){return{"pi-info-circle":e,"pi-exclamation-triangle":t,"pi-times-circle":n,"pi-check":r}};function p(e,t){if(1&e&&(o.Nb(0),o.Kb(1,"span",6),o.Pb(2,"div",7),o.Pb(3,"div",8),o.zc(4),o.Ob(),o.Pb(5,"div",9),o.zc(6),o.Ob(),o.Ob(),o.Mb()),2&e){var n=o.Zb();o.yb(1),o.gc("ngClass",o.lc(3,d,"info"==n.message.severity,"warn"==n.message.severity,"error"==n.message.severity,"success"==n.message.severity)),o.yb(3),o.Ac(n.message.summary),o.yb(2),o.Ac(n.message.detail)}}function m(e,t){if(1&e){var n=o.Qb();o.Pb(0,"button",10),o.Xb("click",(function(e){return o.qc(n),o.Zb().onCloseIconClick(e)}))("keydown.enter",(function(e){return o.qc(n),o.Zb().onCloseIconClick(e)})),o.Kb(1,"span",11),o.Ob()}}function y(e,t){1&e&&o.Lb(0)}var v=function(e,t,n,r){return{showTransformParams:e,hideTransformParams:t,showTransitionParams:n,hideTransitionParams:r}},g=function(e){return{value:"visible",params:e}},b=function(e){return{$implicit:e}};function E(e,t){if(1&e){var n=o.Qb();o.Pb(0,"p-toastItem",3),o.Xb("onClose",(function(e){return o.qc(n),o.Zb().onMessageClose(e)}))("@toastAnimation.start",(function(e){return o.qc(n),o.Zb().onAnimationStart(e)})),o.Ob()}if(2&e){var r=t.$implicit,i=t.index,a=o.Zb();o.gc("message",r)("index",i)("template",a.template)("@toastAnimation",void 0)("showTransformOptions",a.showTransformOptions)("hideTransformOptions",a.hideTransformOptions)("showTransitionOptions",a.showTransitionOptions)("hideTransitionOptions",a.hideTransitionOptions)}}var w=function(){var e=function(){function e(t){Object(i.a)(this,e),this.zone=t,this.onClose=new o.n}return Object(a.a)(e,[{key:"ngAfterViewInit",value:function(){this.initTimeout()}},{key:"initTimeout",value:function(){var e=this;this.message.sticky||this.zone.runOutsideAngular((function(){e.timeout=setTimeout((function(){e.onClose.emit({index:e.index,message:e.message})}),e.message.life||3e3)}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}))},{key:"onMouseEnter",value:function(){this.clearTimeout()}},{key:"onMouseLeave",value:function(){this.initTimeout()}},{key:"onCloseIconClick",value:function(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}},{key:"ngOnDestroy",value:function(){this.clearTimeout()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Jb(o.z))},e.\u0275cmp=o.Db({type:e,selectors:[["p-toastItem"]],viewQuery:function(e,t){var n;1&e&&o.Dc(f,!0),2&e&&o.oc(n=o.Yb())&&(t.containerViewChild=n.first)},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:16,consts:[[1,"p-toast-message",3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-icon","pi",3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,t){1&e&&(o.Pb(0,"div",0,1),o.Xb("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),o.Pb(2,"div",2),o.xc(3,p,7,8,"ng-container",3),o.xc(4,m,2,0,"button",4),o.xc(5,y,1,0,"ng-container",5),o.Ob(),o.Ob()),2&e&&(o.gc("ngClass","p-toast-message-"+t.message.severity)("@messageState",o.ic(12,g,o.lc(7,v,t.showTransformOptions,t.hideTransformOptions,t.showTransitionOptions,t.hideTransitionOptions))),o.zb("id",t.message.id),o.yb(3),o.gc("ngIf",!t.template),o.yb(1),o.gc("ngIf",!1!==t.message.closable),o.yb(1),o.gc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",o.ic(14,b,t.message)))},directives:[s.q,s.t,s.A,l.a],encapsulation:2,data:{animation:[Object(h.m)("messageState",[Object(h.j)("visible",Object(h.k)({transform:"translateY(0)",opacity:1})),Object(h.l)("void => *",[Object(h.k)({transform:"{{showTransformParams}}",opacity:0}),Object(h.e)("{{showTransitionParams}}")]),Object(h.l)("* => void",[Object(h.e)("{{hideTransitionParams}}",Object(h.k)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),e}(),O=function(){var e=function(){function e(t,n){Object(i.a)(this,e),this.messageService=t,this.cd=n,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new o.n}return Object(a.a)(e,[{key:"ngOnInit",value:function(){var e=this;this.messageSubscription=this.messageService.messageObserver.subscribe((function(t){if(t)if(t instanceof Array){var n=t.filter((function(t){return e.canAdd(t)}));e.add(n)}else e.canAdd(t)&&e.add([t])})),this.clearSubscription=this.messageService.clearObserver.subscribe((function(t){t?e.key===t&&(e.messages=null):e.messages=null,e.cd.markForCheck()}))}},{key:"add",value:function(e){this.messages=this.messages?[].concat(Object(r.a)(this.messages),Object(r.a)(e)):Object(r.a)(e),this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[].concat(Object(r.a)(this.messagesArchieve),Object(r.a)(e)):Object(r.a)(e)),this.cd.markForCheck()}},{key:"canAdd",value:function(e){var t=this.key===e.key;return t&&this.preventOpenDuplicates&&(t=!this.containsMessage(this.messages,e)),t&&this.preventDuplicates&&(t=!this.containsMessage(this.messagesArchieve,e)),t}},{key:"containsMessage",value:function(e,t){return!!e&&null!=e.find((function(e){return e.summary===t.summary&&e.detail==t.detail&&e.severity===t.severity}))}},{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach((function(t){switch(t.getType()){case"message":default:e.template=t.template}}))}},{key:"onMessageClose",value:function(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}},{key:"onAnimationStart",value:function(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++u.a.zindex))}},{key:"ngOnDestroy",value:function(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Jb(c.c),o.Jb(o.h))},e.\u0275cmp=o.Db({type:e,selectors:[["p-toast"]],contentQueries:function(e,t,n){var r;1&e&&o.Cb(n,c.e,!1),2&e&&o.oc(r=o.Yb())&&(t.templates=r)},viewQuery:function(e,t){var n;1&e&&o.Dc(f,!0),2&e&&o.oc(n=o.Yb())&&(t.containerViewChild=n.first)},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",key:"key",style:"style",styleClass:"styleClass"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,t){1&e&&(o.Pb(0,"div",0,1),o.xc(2,E,1,8,"p-toastItem",2),o.Ob()),2&e&&(o.Ab(t.styleClass),o.gc("ngClass","p-toast p-component p-toast-"+t.position)("ngStyle",t.style),o.yb(2),o.gc("ngForOf",t.messages))},directives:[s.q,s.w,s.s,w],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:-ms-flexbox;display:flex;-ms-flex-align:start;align-items:flex-start}.p-toast-message-text{-ms-flex:1 1 auto;flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;margin-left:-10em}.p-toast-bottom-center{bottom:20px;left:50%;margin-left:-10em}.p-toast-center{left:50%;top:50%;min-width:20vw;-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.p-toast-icon-close{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[Object(h.m)("toastAnimation",[Object(h.l)(":enter, :leave",[Object(h.h)("@*",Object(h.f)())])])]},changeDetection:0}),e}(),C=function(){var e=function e(){Object(i.a)(this,e)};return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[s.c,l.b],c.f]}),e}()},"tnr/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("D57K"),i=function(e){function t(n,r){var i=e.call(this)||this;return i.name="DriverPackageNotInstalledError",Object.setPrototypeOf(i,t.prototype),i.message=n+" package has not been found installed. Try to install it: npm install "+r+" --save",i}return r.d(t,e),t}(Error)},u6gj:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("D57K"),i=n("/eLe"),a=n("5W/B"),o=n("rH6E"),s=n("70di"),u=n("xynt"),c=n("jEQi"),l=n("QADp"),h=n("W6vy"),f=n("c2R3"),d=n("E0Rv"),p=n("h5d3"),m=n("/0jE"),y=n("EKKg"),v=n("n+lo"),g=n("Chh4"),b=function(e){function t(t){var n=e.call(this)||this;return n.driver=t,n.connection=t.connection,n.broadcaster=new v.a(n),n}return r.d(t,e),t.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,{}]}))}))},t.prototype.release=function(){return this.isReleased=!0,this.databaseConnection&&this.databaseConnection.release(),Promise.resolve()},t.prototype.startTransaction=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(this.isTransactionActive)throw new a.a;return this.isTransactionActive=!0,[4,this.driver.client.startTransaction()];case 1:return e.sent(),[2]}}))}))},t.prototype.commitTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isTransactionActive)throw new o.a;return[4,this.driver.client.commitTransaction()];case 1:return e.sent(),this.isTransactionActive=!1,[2]}}))}))},t.prototype.rollbackTransaction=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:if(!this.isTransactionActive)throw new o.a;return[4,this.driver.client.rollbackTransaction()];case 1:return e.sent(),this.isTransactionActive=!1,[2]}}))}))},t.prototype.query=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:if(this.isReleased)throw new h.a;return[4,this.driver.client.query(e,t)];case 1:return(n=r.sent()).records?[2,n.records]:[2,n]}}))}))},t.prototype.stream=function(e,t,n,i){var a=this;if(this.isReleased)throw new h.a;return new Promise((function(o,s){return r.b(a,void 0,void 0,(function(){var a,u,c;return r.e(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.connect()];case 1:return a=r.sent(),u=a.query(e,t),n&&u.on("end",n),i&&u.on("error",i),o(u),[3,3];case 2:return c=r.sent(),s(c),[3,3];case 3:return[2]}}))}))}))},t.prototype.getDatabases=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,Promise.resolve([])]}))}))},t.prototype.getSchemas=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql driver does not support table schemas")}))}))},t.prototype.hasDatabase=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query("SELECT * FROM `INFORMATION_SCHEMA`.`SCHEMATA` WHERE `SCHEMA_NAME` = '"+e+"'")];case 1:return[2,!!t.sent().length]}}))}))},t.prototype.hasSchema=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql driver does not support table schemas")}))}))},t.prototype.hasTable=function(e){return r.b(this,void 0,void 0,(function(){var t;return r.e(this,(function(n){switch(n.label){case 0:return t=this.parseTableName(e),[4,this.query("SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '"+t.database+"' AND `TABLE_NAME` = '"+t.tableName+"'")];case 1:return[2,!!n.sent().length]}}))}))},t.prototype.hasColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n=this.parseTableName(e),[4,this.query("SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '"+n.database+"' AND `TABLE_NAME` = '"+n.tableName+"' AND `COLUMN_NAME` = '"+(t instanceof s.a?t.name:t)+"'")];case 1:return[2,!!r.sent().length]}}))}))},t.prototype.createDatabase=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n="DROP DATABASE `"+e+"`",[4,this.executeQueries(new d.a(t?"CREATE DATABASE IF NOT EXISTS `"+e+"`":"CREATE DATABASE `"+e+"`"),new d.a(n))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropDatabase=function(e,t){return r.b(this,void 0,void 0,(function(){var n;return r.e(this,(function(r){switch(r.label){case 0:return n="CREATE DATABASE `"+e+"`",[4,this.executeQueries(new d.a(t?"DROP DATABASE IF EXISTS `"+e+"`":"DROP DATABASE `"+e+"`"),new d.a(n))];case 1:return r.sent(),[2]}}))}))},t.prototype.createSchema=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("Schema create queries are not supported by MySql driver.")}))}))},t.prototype.dropSchema=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("Schema drop queries are not supported by MySql driver.")}))}))},t.prototype.createTable=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),r.b(this,void 0,void 0,(function(){var i,a,o=this;return r.e(this,(function(r){switch(r.label){case 0:return t?[4,this.hasTable(e)]:[3,2];case 1:if(r.sent())return[2,Promise.resolve()];r.label=2;case 2:return a=[],(i=[]).push(this.createTableSql(e,n)),a.push(this.dropTableSql(e)),e.indices.forEach((function(t){return a.push(o.dropIndexSql(e,t))})),n&&e.foreignKeys.forEach((function(t){return a.push(o.dropForeignKeySql(e,t))})),[2,this.executeQueries(i,a)]}}))}))},t.prototype.dropTable=function(e,t,n){return void 0===n&&(n=!0),r.b(this,void 0,void 0,(function(){var i,a,o,s,c=this;return r.e(this,(function(r){switch(r.label){case 0:return t?[4,this.hasTable(e)]:[3,2];case 1:if(!r.sent())return[2,Promise.resolve()];r.label=2;case 2:return i=n,[4,this.getCachedTable(e instanceof u.a?e.name:e)];case 3:return a=r.sent(),o=[],s=[],n&&a.foreignKeys.forEach((function(e){return o.push(c.dropForeignKeySql(a,e))})),a.indices.forEach((function(e){return o.push(c.dropIndexSql(a,e))})),o.push(this.dropTableSql(a)),s.push(this.createTableSql(a,i)),[4,this.executeQueries(o,s)];case 4:return r.sent(),[2]}}))}))},t.prototype.createView=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return n=[],(t=[]).push(this.createViewSql(e)),a=(i=t).push,[4,this.insertViewDefinitionSql(e)];case 1:return a.apply(i,[r.sent()]),n.push(this.dropViewSql(e)),s=(o=n).push,[4,this.deleteViewDefinitionSql(e)];case 2:return s.apply(o,[r.sent()]),[4,this.executeQueries(t,n)];case 3:return r.sent(),[2]}}))}))},t.prototype.dropView=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u;return r.e(this,(function(r){switch(r.label){case 0:return[4,this.getCachedView(e instanceof f.a?e.name:e)];case 1:return t=r.sent(),i=[],o=(a=n=[]).push,[4,this.deleteViewDefinitionSql(t)];case 2:return o.apply(a,[r.sent()]),n.push(this.dropViewSql(t)),u=(s=i).push,[4,this.insertViewDefinitionSql(t)];case 3:return u.apply(s,[r.sent()]),i.push(this.createViewSql(t)),[4,this.executeQueries(n,i)];case 4:return r.sent(),[2]}}))}))},t.prototype.renameTable=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,c,l=this;return r.e(this,(function(r){switch(r.label){case 0:return n=[],i=[],e instanceof u.a?(o=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:o=r.sent(),r.label=3;case 3:return s=(a=o).clone(),c=-1===a.name.indexOf(".")?void 0:a.name.split(".")[0],s.name=c?c+"."+t:t,n.push(new d.a("RENAME TABLE "+this.escapePath(a.name)+" TO "+this.escapePath(s.name))),i.push(new d.a("RENAME TABLE "+this.escapePath(s.name)+" TO "+this.escapePath(a.name))),s.indices.forEach((function(e){var t=e.columnNames.map((function(e){return"`"+e+"`"})).join(", "),r=l.connection.namingStrategy.indexName(s,e.columnNames,e.where),a="";e.isUnique&&(a+="UNIQUE "),e.isSpatial&&(a+="SPATIAL "),e.isFulltext&&(a+="FULLTEXT "),n.push(new d.a("ALTER TABLE "+l.escapePath(s)+" DROP INDEX `"+e.name+"`, ADD "+a+"INDEX `"+r+"` ("+t+")")),i.push(new d.a("ALTER TABLE "+l.escapePath(s)+" DROP INDEX `"+r+"`, ADD "+a+"INDEX `"+e.name+"` ("+t+")")),e.name=r})),s.foreignKeys.forEach((function(e){var t=e.columnNames.map((function(e){return"`"+e+"`"})).join(", "),r=e.referencedColumnNames.map((function(e){return"`"+e+"`"})).join(","),a=l.connection.namingStrategy.foreignKeyName(s,e.columnNames),o="ALTER TABLE "+l.escapePath(s)+" DROP FOREIGN KEY `"+e.name+"`, ADD CONSTRAINT `"+a+"` FOREIGN KEY ("+t+") REFERENCES "+l.escapePath(e.referencedTableName)+"("+r+")";e.onDelete&&(o+=" ON DELETE "+e.onDelete),e.onUpdate&&(o+=" ON UPDATE "+e.onUpdate);var u="ALTER TABLE "+l.escapePath(s)+" DROP FOREIGN KEY `"+a+"`, ADD CONSTRAINT `"+e.name+"` FOREIGN KEY ("+t+") REFERENCES "+l.escapePath(e.referencedTableName)+"("+r+")";e.onDelete&&(u+=" ON DELETE "+e.onDelete),e.onUpdate&&(u+=" ON UPDATE "+e.onUpdate),n.push(new d.a(o)),i.push(new d.a(u)),e.name=a})),[4,this.executeQueries(n,i)];case 4:return r.sent(),a.name=s.name,this.replaceCachedTable(a,s),[2]}}))}))},t.prototype.addColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,c,h,f,p,y,v,g;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),s=[],c=a.primaryColumns.length>0,(o=[]).push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD "+this.buildCreateColumnSql(t,c,!1))),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP COLUMN `"+t.name+"`")),t.isPrimary&&c&&((h=a.columns.find((function(e){return e.isGenerated&&"increment"===e.generationStrategy})))&&((y=h.clone()).isGenerated=!1,y.generationStrategy=void 0,o.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+t.name+"` "+this.buildCreateColumnSql(y,!0))),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+y.name+"` "+this.buildCreateColumnSql(t,!0)))),p=(f=a.primaryColumns).map((function(e){return"`"+e.name+"`"})).join(", "),o.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP PRIMARY KEY")),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD PRIMARY KEY ("+p+")")),f.push(t),p=f.map((function(e){return"`"+e.name+"`"})).join(", "),o.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD PRIMARY KEY ("+p+")")),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP PRIMARY KEY")),h&&((y=h.clone()).isGenerated=!1,y.generationStrategy=void 0,o.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+y.name+"` "+this.buildCreateColumnSql(t,!0))),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+t.name+"` "+this.buildCreateColumnSql(y,!0))))),(v=a.indices.find((function(e){return 1===e.columnNames.length&&e.columnNames[0]===t.name})))?(o.push(this.createIndexSql(n,v)),s.push(this.dropIndexSql(n,v))):t.isUnique&&(g=new l.a({name:this.connection.namingStrategy.indexName(n.name,[t.name]),columnNames:[t.name],isUnique:!0}),a.indices.push(g),a.uniques.push(new m.a({name:g.name,columnNames:g.columnNames})),o.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD UNIQUE INDEX `"+g.name+"` (`"+t.name+"`)")),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP INDEX `"+g.name+"`"))),[4,this.executeQueries(o,s)];case 4:return r.sent(),a.addColumn(t),this.replaceCachedTable(n,a),[2]}}))}))},t.prototype.addColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,g.k.runInSequence(t,(function(t){return n.addColumn(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.renameColumn=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,o,c;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(a=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:a=r.sent(),r.label=3;case 3:if(i=a,!(o=t instanceof s.a?t:i.columns.find((function(e){return e.name===t}))))throw new Error('Column "'+t+'" was not found in the "'+i.name+'" table.');return c=void 0,n instanceof s.a?c=n:(c=o.clone()).name=n,[4,this.changeColumn(i,o,c)];case 4:return r.sent(),[2]}}))}))},t.prototype.changeColumn=function(e,t,n){return r.b(this,void 0,void 0,(function(){var i,a,o,c,h,f,p,y,v,g,b,E,w,O,C,T=this;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(a=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:a=r.sent(),r.label=3;case 3:if(o=(i=a).clone(),c=[],h=[],!(f=t instanceof s.a?t:i.columns.find((function(e){return e.name===t}))))throw new Error('Column "'+t+'" was not found in the "'+i.name+'" table.');return n.isGenerated!==f.isGenerated&&"uuid"!==n.generationStrategy||f.type!==n.type||f.length!==n.length||f.generatedType!==n.generatedType?[4,this.dropColumn(i,f)]:[3,6];case 4:return r.sent(),[4,this.addColumn(i,n)];case 5:return r.sent(),o=i.clone(),[3,7];case 6:n.name!==f.name&&(c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+f.name+"` `"+n.name+"` "+this.buildCreateColumnSql(f,!0,!0))),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+n.name+"` `"+f.name+"` "+this.buildCreateColumnSql(f,!0,!0))),o.findColumnIndices(f).forEach((function(e){e.columnNames.splice(e.columnNames.indexOf(f.name),1),e.columnNames.push(n.name);var t=e.columnNames.map((function(e){return"`"+e+"`"})).join(", "),r=T.connection.namingStrategy.indexName(o,e.columnNames,e.where),a="";e.isUnique&&(a+="UNIQUE "),e.isSpatial&&(a+="SPATIAL "),e.isFulltext&&(a+="FULLTEXT "),c.push(new d.a("ALTER TABLE "+T.escapePath(i)+" DROP INDEX `"+e.name+"`, ADD "+a+"INDEX `"+r+"` ("+t+")")),h.push(new d.a("ALTER TABLE "+T.escapePath(i)+" DROP INDEX `"+r+"`, ADD "+a+"INDEX `"+e.name+"` ("+t+")")),e.name=r})),o.findColumnForeignKeys(f).forEach((function(e){e.columnNames.splice(e.columnNames.indexOf(f.name),1),e.columnNames.push(n.name);var t=e.columnNames.map((function(e){return"`"+e+"`"})).join(", "),r=e.referencedColumnNames.map((function(e){return"`"+e+"`"})).join(","),a=T.connection.namingStrategy.foreignKeyName(o,e.columnNames),s="ALTER TABLE "+T.escapePath(i)+" DROP FOREIGN KEY `"+e.name+"`, ADD CONSTRAINT `"+a+"` FOREIGN KEY ("+t+") REFERENCES "+T.escapePath(e.referencedTableName)+"("+r+")";e.onDelete&&(s+=" ON DELETE "+e.onDelete),e.onUpdate&&(s+=" ON UPDATE "+e.onUpdate);var u="ALTER TABLE "+T.escapePath(i)+" DROP FOREIGN KEY `"+a+"`, ADD CONSTRAINT `"+e.name+"` FOREIGN KEY ("+t+") REFERENCES "+T.escapePath(e.referencedTableName)+"("+r+")";e.onDelete&&(u+=" ON DELETE "+e.onDelete),e.onUpdate&&(u+=" ON UPDATE "+e.onUpdate),c.push(new d.a(s)),h.push(new d.a(u)),e.name=a})),p=o.columns.find((function(e){return e.name===f.name})),o.columns[o.columns.indexOf(p)].name=n.name,f.name=n.name),this.isColumnChanged(f,n,!0)&&(c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+f.name+"` "+this.buildCreateColumnSql(n,!0))),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+n.name+"` "+this.buildCreateColumnSql(f,!0)))),n.isPrimary!==f.isPrimary&&((y=o.columns.find((function(e){return e.isGenerated&&"increment"===e.generationStrategy})))&&((E=y.clone()).isGenerated=!1,E.generationStrategy=void 0,c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+y.name+"` "+this.buildCreateColumnSql(E,!0))),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+E.name+"` "+this.buildCreateColumnSql(y,!0)))),(v=o.primaryColumns).length>0&&(b=v.map((function(e){return"`"+e.name+"`"})).join(", "),c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" DROP PRIMARY KEY")),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" ADD PRIMARY KEY ("+b+")"))),!0===n.isPrimary?(v.push(n),o.columns.find((function(e){return e.name===n.name})).isPrimary=!0,b=v.map((function(e){return"`"+e.name+"`"})).join(", "),c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" ADD PRIMARY KEY ("+b+")")),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" DROP PRIMARY KEY"))):(g=v.find((function(e){return e.name===n.name})),v.splice(v.indexOf(g),1),o.columns.find((function(e){return e.name===n.name})).isPrimary=!1,v.length>0&&(b=v.map((function(e){return"`"+e.name+"`"})).join(", "),c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" ADD PRIMARY KEY ("+b+")")),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" DROP PRIMARY KEY")))),y&&((E=y.clone()).isGenerated=!1,E.generationStrategy=void 0,c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+E.name+"` "+this.buildCreateColumnSql(y,!0))),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" CHANGE `"+y.name+"` "+this.buildCreateColumnSql(E,!0))))),n.isUnique!==f.isUnique&&(!0===n.isUnique?(w=new l.a({name:this.connection.namingStrategy.indexName(i.name,[n.name]),columnNames:[n.name],isUnique:!0}),o.indices.push(w),o.uniques.push(new m.a({name:w.name,columnNames:w.columnNames})),c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" ADD UNIQUE INDEX `"+w.name+"` (`"+n.name+"`)")),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" DROP INDEX `"+w.name+"`"))):(O=o.indices.find((function(e){return 1===e.columnNames.length&&!0===e.isUnique&&!!e.columnNames.find((function(e){return e===n.name}))})),o.indices.splice(o.indices.indexOf(O),1),C=o.uniques.find((function(e){return e.name===O.name})),o.uniques.splice(o.uniques.indexOf(C),1),c.push(new d.a("ALTER TABLE "+this.escapePath(i)+" DROP INDEX `"+O.name+"`")),h.push(new d.a("ALTER TABLE "+this.escapePath(i)+" ADD UNIQUE INDEX `"+O.name+"` (`"+n.name+"`)")))),r.label=7;case 7:return[4,this.executeQueries(c,h)];case 8:return r.sent(),this.replaceCachedTable(i,o),[2]}}))}))},t.prototype.changeColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,g.k.runInSequence(t,(function(t){return n.changeColumn(e,t.oldColumn,t.newColumn)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.dropColumn=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,c,l,h,f,p,m,y,v,g,b,E;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof s.a?t:n.findColumnByName(t)))throw new Error('Column "'+t+'" was not found in table "'+n.name+'"');return o=n.clone(),c=[],l=[],a.isPrimary&&((h=o.columns.find((function(e){return e.isGenerated&&"increment"===e.generationStrategy})))&&((m=h.clone()).isGenerated=!1,m.generationStrategy=void 0,c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+h.name+"` "+this.buildCreateColumnSql(m,!0))),l.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+m.name+"` "+this.buildCreateColumnSql(h,!0)))),f=o.primaryColumns.map((function(e){return"`"+e.name+"`"})).join(", "),c.push(new d.a("ALTER TABLE "+this.escapePath(o)+" DROP PRIMARY KEY")),l.push(new d.a("ALTER TABLE "+this.escapePath(o)+" ADD PRIMARY KEY ("+f+")")),o.findColumnByName(a.name).isPrimary=!1,o.primaryColumns.length>0&&(p=o.primaryColumns.map((function(e){return"`"+e.name+"`"})).join(", "),c.push(new d.a("ALTER TABLE "+this.escapePath(o)+" ADD PRIMARY KEY ("+p+")")),l.push(new d.a("ALTER TABLE "+this.escapePath(o)+" DROP PRIMARY KEY"))),h&&h.name!==a.name&&((m=h.clone()).isGenerated=!1,m.generationStrategy=void 0,c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+m.name+"` "+this.buildCreateColumnSql(h,!0))),l.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+h.name+"` "+this.buildCreateColumnSql(m,!0))))),(y=o.indices.find((function(e){return 1===e.columnNames.length&&e.columnNames[0]===a.name})))?(o.indices.splice(o.indices.indexOf(y),1),c.push(this.dropIndexSql(n,y)),l.push(this.createIndexSql(n,y))):a.isUnique&&(v=this.connection.namingStrategy.uniqueConstraintName(n.name,[a.name]),(g=o.uniques.find((function(e){return e.name===v})))&&o.uniques.splice(o.uniques.indexOf(g),1),b=this.connection.namingStrategy.indexName(n.name,[a.name]),(E=o.indices.find((function(e){return e.name===b})))&&o.indices.splice(o.indices.indexOf(E),1),c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP INDEX `"+b+"`")),l.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD UNIQUE INDEX `"+b+"` (`"+a.name+"`)"))),c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP COLUMN `"+a.name+"`")),l.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD "+this.buildCreateColumnSql(a,!0))),[4,this.executeQueries(c,l)];case 4:return r.sent(),o.removeColumn(a),this.replaceCachedTable(n,o),[2]}}))}))},t.prototype.dropColumns=function(e,t){return r.b(this,void 0,void 0,(function(){var n=this;return r.e(this,(function(r){switch(r.label){case 0:return[4,g.k.runInSequence(t,(function(t){return n.dropColumn(e,t)}))];case 1:return r.sent(),[2]}}))}))},t.prototype.createPrimaryKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),o=this.createPrimaryKeySql(n,t),s=this.dropPrimaryKeySql(n),[4,this.executeQueries(o,s)];case 4:return r.sent(),a.columns.forEach((function(e){t.find((function(t){return t===e.name}))&&(e.isPrimary=!0)})),this.replaceCachedTable(n,a),[2]}}))}))},t.prototype.updatePrimaryKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s,c,l,h,f,p,m,y,v;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return a=(n=i).clone(),o=t.map((function(e){return e.name})),s=[],c=[],(l=a.columns.find((function(e){return e.isGenerated&&"increment"===e.generationStrategy})))&&((y=l.clone()).isGenerated=!1,y.generationStrategy=void 0,s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+l.name+"` "+this.buildCreateColumnSql(y,!0))),c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+y.name+"` "+this.buildCreateColumnSql(l,!0)))),(h=a.primaryColumns).length>0&&(f=h.map((function(e){return"`"+e.name+"`"})).join(", "),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP PRIMARY KEY")),c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD PRIMARY KEY ("+f+")"))),a.columns.filter((function(e){return-1!==o.indexOf(e.name)})).forEach((function(e){return e.isPrimary=!0})),p=o.map((function(e){return"`"+e+"`"})).join(", "),s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" ADD PRIMARY KEY ("+p+")")),c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" DROP PRIMARY KEY")),(m=l||t.find((function(e){return e.isGenerated&&"increment"===e.generationStrategy})))&&((y=m.clone()).isGenerated=!1,y.generationStrategy=void 0,s.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+y.name+"` "+this.buildCreateColumnSql(m,!0))),c.push(new d.a("ALTER TABLE "+this.escapePath(n)+" CHANGE `"+m.name+"` "+this.buildCreateColumnSql(y,!0))),(v=a.columns.find((function(e){return e.name===m.name}))).isGenerated=!0,v.generationStrategy="increment"),[4,this.executeQueries(s,c)];case 4:return r.sent(),this.replaceCachedTable(n,a),[2]}}))}))},t.prototype.dropPrimaryKey=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(n=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:n=r.sent(),r.label=3;case 3:return i=this.dropPrimaryKeySql(t=n),a=this.createPrimaryKeySql(t,t.primaryColumns.map((function(e){return e.name}))),[4,this.executeQueries(i,a)];case 4:return r.sent(),t.primaryColumns.forEach((function(e){e.isPrimary=!1})),[2]}}))}))},t.prototype.createUniqueConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support unique constraints. Use unique index instead.")}))}))},t.prototype.createUniqueConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support unique constraints. Use unique index instead.")}))}))},t.prototype.dropUniqueConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support unique constraints. Use unique index instead.")}))}))},t.prototype.dropUniqueConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support unique constraints. Use unique index instead.")}))}))},t.prototype.createCheckConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support check constraints.")}))}))},t.prototype.createCheckConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support check constraints.")}))}))},t.prototype.dropCheckConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support check constraints.")}))}))},t.prototype.dropCheckConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support check constraints.")}))}))},t.prototype.createExclusionConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support exclusion constraints.")}))}))},t.prototype.createExclusionConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support exclusion constraints.")}))}))},t.prototype.dropExclusionConstraint=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support exclusion constraints.")}))}))},t.prototype.dropExclusionConstraints=function(e,t){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){throw new Error("MySql does not support exclusion constraints.")}))}))},t.prototype.createForeignKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.foreignKeyName(n.name,t.columnNames)),a=this.createForeignKeySql(n,t),o=this.dropForeignKeySql(n,t),[4,this.executeQueries(a,o)];case 4:return r.sent(),n.addForeignKey(t),[2]}}))}))},t.prototype.createForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.createForeignKey(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.dropForeignKey=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof c.a?t:n.foreignKeys.find((function(e){return e.name===t}))))throw new Error("Supplied foreign key was not found in table "+n.name);return o=this.dropForeignKeySql(n,a),s=this.createForeignKeySql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeForeignKey(a),[2]}}))}))},t.prototype.dropForeignKeys=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.dropForeignKey(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.createIndex=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:return n=i,t.name||(t.name=this.connection.namingStrategy.indexName(n.name,t.columnNames,t.where)),a=this.createIndexSql(n,t),o=this.dropIndexSql(n,t),[4,this.executeQueries(a,o)];case 4:return r.sent(),n.addIndex(t,!0),[2]}}))}))},t.prototype.createIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.createIndex(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.dropIndex=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i,a,o,s;return r.e(this,(function(r){switch(r.label){case 0:return e instanceof u.a?(i=e,[3,3]):[3,1];case 1:return[4,this.getCachedTable(e)];case 2:i=r.sent(),r.label=3;case 3:if(n=i,!(a=t instanceof l.a?t:n.indices.find((function(e){return e.name===t}))))throw new Error("Supplied index was not found in table "+n.name);return o=this.dropIndexSql(n,a),s=this.createIndexSql(n,a),[4,this.executeQueries(o,s)];case 4:return r.sent(),n.removeIndex(a,!0),[2]}}))}))},t.prototype.dropIndices=function(e,t){return r.b(this,void 0,void 0,(function(){var n,i=this;return r.e(this,(function(r){switch(r.label){case 0:return n=t.map((function(t){return i.dropIndex(e,t)})),[4,Promise.all(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.clearTable=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(t){switch(t.label){case 0:return[4,this.query("TRUNCATE TABLE "+this.escapePath(e))];case 1:return t.sent(),[2]}}))}))},t.prototype.clearDatabase=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,s,u=this;return r.e(this,(function(r){switch(r.label){case 0:return(t=e||this.driver.database)?[4,this.hasDatabase(t)]:[3,2];case 1:return r.sent()?[3,3]:[2,Promise.resolve()];case 2:throw new Error("Can not clear database. No database is specified");case 3:return[4,this.startTransaction()];case 4:r.sent(),r.label=5;case 5:return r.trys.push([5,13,,18]),[4,this.query("SELECT concat('DROP VIEW IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`VIEWS` WHERE `TABLE_SCHEMA` = '"+t+"'")];case 6:return n=r.sent(),[4,Promise.all(n.map((function(e){return u.query(e.query)})))];case 7:return r.sent(),i="SELECT concat('DROP TABLE IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_SCHEMA` = '"+t+"'",a="SET FOREIGN_KEY_CHECKS = 1;",[4,this.query("SET FOREIGN_KEY_CHECKS = 0;")];case 8:return r.sent(),[4,this.query(i)];case 9:return o=r.sent(),[4,Promise.all(o.map((function(e){return u.query(e.query)})))];case 10:return r.sent(),[4,this.query(a)];case 11:return r.sent(),[4,this.commitTransaction()];case 12:return r.sent(),[3,18];case 13:s=r.sent(),r.label=14;case 14:return r.trys.push([14,16,,17]),[4,this.rollbackTransaction()];case 15:case 16:return r.sent(),[3,17];case 17:throw s;case 18:return[2]}}))}))},t.prototype.getCurrentDatabase=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){switch(e.label){case 0:return[4,this.query("SELECT DATABASE() AS `db_name`")];case 1:return[2,e.sent()[0].db_name]}}))}))},t.prototype.loadViews=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a=this;return r.e(this,(function(o){switch(o.label){case 0:return[4,this.hasTable(this.getTypeormMetadataTableName())];case 1:return o.sent()?[4,this.getCurrentDatabase()]:[2,Promise.resolve([])];case 2:return t=o.sent(),n=e.map((function(e){var n=r.g(e.split("."),2),i=n[0],o=n[1];return o||(o=i,i=a.driver.database||t),"(`t`.`schema` = '"+i+"' AND `t`.`name` = '"+o+"')"})).join(" OR "),i="SELECT `t`.*, `v`.`check_option` FROM "+this.escapePath(this.getTypeormMetadataTableName())+" `t` INNER JOIN `information_schema`.`views` `v` ON `v`.`table_schema` = `t`.`schema` AND `v`.`table_name` = `t`.`name` WHERE `t`.`type` = 'VIEW' "+(n?"AND ("+n+")":""),[4,this.query(i)];case 3:return[2,o.sent().map((function(e){var n=new f.a;return n.name=a.driver.buildTableName(e.name,void 0,e.schema===t?void 0:e.schema),n.expression=e.value,n}))]}}))}))},t.prototype.loadTables=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a,o,h,f,d,m,y,v,g,b,E,w,O,C=this;return r.e(this,(function(T){switch(T.label){case 0:return e&&e.length?[4,this.getCurrentDatabase()]:[2,[]];case 1:return t=T.sent(),n=e.map((function(e){var n=r.g(e.split("."),2),i=n[0],a=n[1];return a||(a=i,i=C.driver.database||t),"(`TABLE_SCHEMA` = '"+i+"' AND `TABLE_NAME` = '"+a+"')"})).join(" OR "),i="SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE "+n,a="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE "+n,o="SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND ("+n+")",h=e.map((function(e){var n=r.g(e.split("."),2),i=n[0],a=n[1];return a||(a=i,i=C.driver.database||t),"(`s`.`TABLE_SCHEMA` = '"+i+"' AND `s`.`TABLE_NAME` = '"+a+"')"})).join(" OR "),f="SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` WHERE ("+h+") AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL",d=e.map((function(e){var n=r.g(e.split("."),2),i=n[0],a=n[1];return a||(a=i,i=C.driver.database||t),"(`kcu`.`TABLE_SCHEMA` = '"+i+"' AND `kcu`.`TABLE_NAME` = '"+a+"')"})).join(" OR "),m="SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE "+d,[4,Promise.all([this.query(i),this.query(a),this.query(o),this.query("SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`"),this.query(f),this.query(m)])];case 2:return y=r.g.apply(void 0,[T.sent(),6]),g=y[1],b=y[2],E=y[3],w=y[4],O=y[5],(v=y[0]).length?[2,Promise.all(v.map((function(e){return r.b(C,void 0,void 0,(function(){var n,i,a,o,h,f,d,m=this;return r.e(this,(function(r){return n=new u.a,i=E.find((function(t){return t.SCHEMA_NAME===e.TABLE_SCHEMA})),a=i.COLLATION,o=i.CHARSET,n.name=this.driver.buildTableName(e.TABLE_NAME,void 0,e.TABLE_SCHEMA===t?void 0:e.TABLE_SCHEMA),h=this.driver.buildTableName(e.TABLE_NAME,void 0,e.TABLE_SCHEMA),n.columns=g.filter((function(e){return m.driver.buildTableName(e.TABLE_NAME,void 0,e.TABLE_SCHEMA)===h})).map((function(e){var t=w.find((function(t){return m.driver.buildTableName(t.TABLE_NAME,void 0,t.TABLE_SCHEMA)===h&&t.COLUMN_NAME===e.COLUMN_NAME&&0===parseInt(t.NON_UNIQUE,10)})),r=m.connection.entityMetadatas.find((function(e){return e.tablePath===n.name})),i=t&&r&&r.indices.some((function(e){return e.name===t.INDEX_NAME&&!1===e.synchronize})),u=!!t&&!!w.find((function(n){return n.INDEX_NAME===t.INDEX_NAME&&n.COLUMN_NAME!==e.COLUMN_NAME})),c=new s.a;if(c.name=e.COLUMN_NAME,c.type=e.DATA_TYPE.toLowerCase(),-1!==m.driver.withWidthColumnTypes.indexOf(c.type)){var l=e.COLUMN_TYPE.substring(e.COLUMN_TYPE.indexOf("(")+1,e.COLUMN_TYPE.indexOf(")"));c.width=l&&!m.isDefaultColumnWidth(n,c,parseInt(l))?parseInt(l):void 0}if(c.default=null==e.COLUMN_DEFAULT?void 0:"CURRENT_TIMESTAMP"===e.COLUMN_DEFAULT?e.COLUMN_DEFAULT:"'"+e.COLUMN_DEFAULT+"'",-1!==e.EXTRA.indexOf("on update")&&(c.onUpdate=e.EXTRA.substring(e.EXTRA.indexOf("on update")+10)),e.GENERATION_EXPRESSION&&(c.asExpression=e.GENERATION_EXPRESSION,c.generatedType=-1!==e.EXTRA.indexOf("VIRTUAL")?"VIRTUAL":"STORED"),c.isUnique=!!t&&!i&&!u,c.isNullable="YES"===e.IS_NULLABLE,c.isPrimary=b.some((function(e){return m.driver.buildTableName(e.TABLE_NAME,void 0,e.TABLE_SCHEMA)===h&&e.COLUMN_NAME===c.name})),c.zerofill=-1!==e.COLUMN_TYPE.indexOf("zerofill"),c.unsigned=!!c.zerofill||-1!==e.COLUMN_TYPE.indexOf("unsigned"),c.isGenerated=-1!==e.EXTRA.indexOf("auto_increment"),c.isGenerated&&(c.generationStrategy="increment"),c.comment=e.COLUMN_COMMENT,e.CHARACTER_SET_NAME&&(c.charset=e.CHARACTER_SET_NAME===o?void 0:e.CHARACTER_SET_NAME),e.COLLATION_NAME&&(c.collation=e.COLLATION_NAME===a?void 0:e.COLLATION_NAME),-1!==m.driver.withLengthColumnTypes.indexOf(c.type)&&e.CHARACTER_MAXIMUM_LENGTH){var f=e.CHARACTER_MAXIMUM_LENGTH.toString();c.length=m.isDefaultColumnLength(n,c,f)?"":f}if("decimal"!==c.type&&"double"!==c.type&&"float"!==c.type||(null===e.NUMERIC_PRECISION||m.isDefaultColumnPrecision(n,c,e.NUMERIC_PRECISION)||(c.precision=parseInt(e.NUMERIC_PRECISION)),null===e.NUMERIC_SCALE||m.isDefaultColumnScale(n,c,e.NUMERIC_SCALE)||(c.scale=parseInt(e.NUMERIC_SCALE))),"enum"===c.type||"simple-enum"===c.type){var d=e.COLUMN_TYPE,p=d.substring(d.indexOf("(")+1,d.indexOf(")")).split(",");c.enum=p.map((function(e){return e.substring(1,e.length-1)})),c.length=""}return"datetime"!==c.type&&"time"!==c.type&&"timestamp"!==c.type||null==e.DATETIME_PRECISION||m.isDefaultColumnPrecision(n,c,parseInt(e.DATETIME_PRECISION))||(c.precision=parseInt(e.DATETIME_PRECISION)),c})),f=p.a.uniq(O.filter((function(e){return m.driver.buildTableName(e.TABLE_NAME,void 0,e.TABLE_SCHEMA)===h})),(function(e){return e.CONSTRAINT_NAME})),n.foreignKeys=f.map((function(e){var n=O.filter((function(t){return t.CONSTRAINT_NAME===e.CONSTRAINT_NAME})),r=m.driver.buildTableName(e.REFERENCED_TABLE_NAME,void 0,e.REFERENCED_TABLE_SCHEMA===t?void 0:e.REFERENCED_TABLE_SCHEMA);return new c.a({name:e.CONSTRAINT_NAME,columnNames:n.map((function(e){return e.COLUMN_NAME})),referencedTableName:r,referencedColumnNames:n.map((function(e){return e.REFERENCED_COLUMN_NAME})),onDelete:e.ON_DELETE,onUpdate:e.ON_UPDATE})})),d=p.a.uniq(w.filter((function(e){return m.driver.buildTableName(e.TABLE_NAME,void 0,e.TABLE_SCHEMA)===h})),(function(e){return e.INDEX_NAME})),n.indices=d.map((function(e){var t=w.filter((function(t){return t.TABLE_SCHEMA===e.TABLE_SCHEMA&&t.TABLE_NAME===e.TABLE_NAME&&t.INDEX_NAME===e.INDEX_NAME})),r=parseInt(e.NON_UNIQUE,10);return new l.a({table:n,name:e.INDEX_NAME,columnNames:t.map((function(e){return e.COLUMN_NAME})),isUnique:0===r,isSpatial:"SPATIAL"===e.INDEX_TYPE,isFulltext:"FULLTEXT"===e.INDEX_TYPE})})),[2,n]}))}))})))]:[2,[]]}}))}))},t.prototype.createTableSql=function(e,t){var n=this,r=e.columns.map((function(e){return n.buildCreateColumnSql(e,!0)})).join(", "),i="CREATE TABLE "+this.escapePath(e)+" ("+r;return e.columns.filter((function(e){return e.isUnique})).forEach((function(t){var r=e.indices.some((function(e){return 1===e.columnNames.length&&!!e.isUnique&&-1!==e.columnNames.indexOf(t.name)})),i=e.uniques.some((function(e){return 1===e.columnNames.length&&-1!==e.columnNames.indexOf(t.name)}));r||i||e.indices.push(new l.a({name:n.connection.namingStrategy.uniqueConstraintName(e.name,[t.name]),columnNames:[t.name],isUnique:!0}))})),e.uniques.length>0&&e.uniques.forEach((function(t){e.indices.some((function(e){return e.name===t.name}))||e.indices.push(new l.a({name:t.name,columnNames:t.columnNames,isUnique:!0}))})),e.indices.length>0&&(i+=", "+e.indices.map((function(t){var r=t.columnNames.map((function(e){return"`"+e+"`"})).join(", ");t.name||(t.name=n.connection.namingStrategy.indexName(e.name,t.columnNames,t.where));var i="";return t.isUnique&&(i+="UNIQUE "),t.isSpatial&&(i+="SPATIAL "),t.isFulltext&&(i+="FULLTEXT "),i+"INDEX `"+t.name+"` ("+r+")"})).join(", ")),e.foreignKeys.length>0&&t&&(i+=", "+e.foreignKeys.map((function(t){var r=t.columnNames.map((function(e){return"`"+e+"`"})).join(", ");t.name||(t.name=n.connection.namingStrategy.foreignKeyName(e.name,t.columnNames));var i=t.referencedColumnNames.map((function(e){return"`"+e+"`"})).join(", "),a="CONSTRAINT `"+t.name+"` FOREIGN KEY ("+r+") REFERENCES "+n.escapePath(t.referencedTableName)+" ("+i+")";return t.onDelete&&(a+=" ON DELETE "+t.onDelete),t.onUpdate&&(a+=" ON UPDATE "+t.onUpdate),a})).join(", ")),e.primaryColumns.length>0&&(i+=", PRIMARY KEY ("+e.primaryColumns.map((function(e){return"`"+e.name+"`"})).join(", ")+")"),new d.a(i+=") ENGINE="+(e.engine||"InnoDB"))},t.prototype.dropTableSql=function(e){return new d.a("DROP TABLE "+this.escapePath(e))},t.prototype.createViewSql=function(e){return new d.a("string"==typeof e.expression?"CREATE VIEW "+this.escapePath(e)+" AS "+e.expression:"CREATE VIEW "+this.escapePath(e)+" AS "+e.expression(this.connection).getQuery())},t.prototype.insertViewDefinitionSql=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i;return r.e(this,(function(a){switch(a.label){case 0:return[4,this.getCurrentDatabase()];case 1:return t=a.sent(),n="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery(),i=r.g(this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({type:"VIEW",schema:t,name:e.name,value:n}).getQueryAndParameters(),2),[2,new d.a(i[0],i[1])]}}))}))},t.prototype.dropViewSql=function(e){return new d.a("DROP VIEW "+this.escapePath(e))},t.prototype.deleteViewDefinitionSql=function(e){return r.b(this,void 0,void 0,(function(){var t,n,i,a;return r.e(this,(function(o){switch(o.label){case 0:return[4,this.getCurrentDatabase()];case 1:return t=o.sent(),n=e instanceof f.a?e.name:e,i=this.connection.createQueryBuilder(),a=r.g(i.delete().from(this.getTypeormMetadataTableName()).where(i.escape("type")+" = 'VIEW'").andWhere(i.escape("schema")+" = :schema",{schema:t}).andWhere(i.escape("name")+" = :name",{name:n}).getQueryAndParameters(),2),[2,new d.a(a[0],a[1])]}}))}))},t.prototype.createIndexSql=function(e,t){var n=t.columnNames.map((function(e){return"`"+e+"`"})).join(", "),r="";return t.isUnique&&(r+="UNIQUE "),t.isSpatial&&(r+="SPATIAL "),t.isFulltext&&(r+="FULLTEXT "),new d.a("CREATE "+r+"INDEX `"+t.name+"` ON "+this.escapePath(e)+" ("+n+")")},t.prototype.dropIndexSql=function(e,t){return new d.a("DROP INDEX `"+(t instanceof l.a?t.name:t)+"` ON "+this.escapePath(e))},t.prototype.createPrimaryKeySql=function(e,t){var n=t.map((function(e){return"`"+e+"`"})).join(", ");return new d.a("ALTER TABLE "+this.escapePath(e)+" ADD PRIMARY KEY ("+n+")")},t.prototype.dropPrimaryKeySql=function(e){return new d.a("ALTER TABLE "+this.escapePath(e)+" DROP PRIMARY KEY")},t.prototype.createForeignKeySql=function(e,t){var n=t.columnNames.map((function(e){return"`"+e+"`"})).join(", "),r=t.referencedColumnNames.map((function(e){return"`"+e+"`"})).join(","),i="ALTER TABLE "+this.escapePath(e)+" ADD CONSTRAINT `"+t.name+"` FOREIGN KEY ("+n+") REFERENCES "+this.escapePath(t.referencedTableName)+"("+r+")";return t.onDelete&&(i+=" ON DELETE "+t.onDelete),t.onUpdate&&(i+=" ON UPDATE "+t.onUpdate),new d.a(i)},t.prototype.dropForeignKeySql=function(e,t){var n=t instanceof c.a?t.name:t;return new d.a("ALTER TABLE "+this.escapePath(e)+" DROP FOREIGN KEY `"+n+"`")},t.prototype.parseTableName=function(e){var t=e instanceof u.a?e.name:e;return{database:-1!==t.indexOf(".")?t.split(".")[0]:this.driver.database,tableName:-1!==t.indexOf(".")?t.split(".")[1]:t}},t.prototype.escapePath=function(e,t){return(e instanceof u.a||e instanceof f.a?e.name:e).split(".").map((function(e){return t?e:"`"+e+"`"})).join(".")},t.prototype.buildCreateColumnSql=function(e,t,n){void 0===n&&(n=!1);var r="";return r=n?this.connection.driver.createFullType(e):"`"+e.name+"` "+this.connection.driver.createFullType(e),e.asExpression&&(r+=" AS ("+e.asExpression+") "+(e.generatedType?e.generatedType:"VIRTUAL")),e.zerofill?r+=" ZEROFILL":e.unsigned&&(r+=" UNSIGNED"),e.enum&&(r+=" ("+e.enum.map((function(e){return"'"+e+"'"})).join(", ")+")"),e.charset&&(r+=' CHARACTER SET "'+e.charset+'"'),e.collation&&(r+=' COLLATE "'+e.collation+'"'),e.isNullable||(r+=" NOT NULL"),e.isNullable&&(r+=" NULL"),e.isPrimary&&!t&&(r+=" PRIMARY KEY"),e.isGenerated&&"increment"===e.generationStrategy&&(r+=" AUTO_INCREMENT"),e.comment&&(r+=" COMMENT '"+e.comment+"'"),null!=e.default&&(r+=" DEFAULT "+e.default),e.onUpdate&&(r+=" ON UPDATE "+e.onUpdate),r},t}(y.a),E=n("JyJK"),w=n("qDrx"),O=n("kAlA"),C=n("bo9S"),T=function(){function e(e){var t=this;this.isReplicated=!1,this.treeSupport=!0,this.supportedDataTypes=["bit","int","integer","tinyint","smallint","mediumint","bigint","float","double","double precision","real","decimal","dec","numeric","fixed","bool","boolean","date","datetime","timestamp","time","year","char","nchar","national char","varchar","nvarchar","national varchar","blob","text","tinyblob","tinytext","mediumblob","mediumtext","longblob","longtext","enum","binary","varbinary","json","geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.spatialTypes=["geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.withLengthColumnTypes=["char","varchar","nvarchar","binary","varbinary"],this.withWidthColumnTypes=["bit","tinyint","smallint","mediumint","int","integer","bigint"],this.withPrecisionColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real","time","datetime","timestamp"],this.withScaleColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real"],this.unsignedAndZerofillTypes=["int","integer","smallint","tinyint","mediumint","bigint","decimal","dec","numeric","fixed","float","double","double precision","real"],this.mappedDataTypes={createDate:"datetime",createDatePrecision:6,createDateDefault:"CURRENT_TIMESTAMP(6)",updateDate:"datetime",updateDatePrecision:6,updateDateDefault:"CURRENT_TIMESTAMP(6)",deleteDate:"datetime",deleteDatePrecision:6,deleteDateNullable:!0,version:"int",treeLevel:"int",migrationId:"int",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.dataTypeDefaults={varchar:{length:255},nvarchar:{length:255},"national varchar":{length:255},char:{length:1},binary:{length:1},varbinary:{length:255},decimal:{precision:10,scale:0},dec:{precision:10,scale:0},numeric:{precision:10,scale:0},fixed:{precision:10,scale:0},float:{precision:12},double:{precision:22},time:{precision:0},datetime:{precision:0},timestamp:{precision:0},bit:{width:1},int:{width:11},integer:{width:11},tinyint:{width:4},smallint:{width:6},mediumint:{width:9},bigint:{width:20}},this.maxAliasLength=63,this.connection=e,this.options=e.options,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(function(e,n){return t.connection.logger.logQuery(e,n)}))}return e.prototype.connect=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2]}))}))},e.prototype.afterConnect=function(){return Promise.resolve()},e.prototype.disconnect=function(){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2]}))}))},e.prototype.createSchemaBuilder=function(){return new O.a(this.connection)},e.prototype.createQueryRunner=function(e){return void 0===e&&(e="master"),new b(this)},e.prototype.escapeQueryWithParameters=function(e,t,n){var r=Object.keys(n).map((function(e){return n[e]}));if(!t||!Object.keys(t).length)return[e,r];var i=Object.keys(t).map((function(e){return"(:(\\.\\.\\.)?"+e+"\\b)"})).join("|");return[e=e.replace(new RegExp(i,"g"),(function(e){var n;return(n=":..."===e.substr(0,4)?t[e.substr(4)]:t[e.substr(1)])instanceof Function?n():(r.push(n),"?")})),r]},e.prototype.escape=function(e){return"`"+e+"`"},e.prototype.buildTableName=function(e,t,n){return n?n+"."+e:e},e.prototype.preparePersistentValue=function(e,t){return t.transformer&&(e=C.a.transformTo(t.transformer,e)),null==e?e:t.type===Boolean?!0===e?1:0:"date"===t.type?E.a.mixedDateToDateString(e):"time"===t.type?E.a.mixedDateToTimeString(e):"json"===t.type?JSON.stringify(e):"timestamp"===t.type||"datetime"===t.type||t.type===Date?E.a.mixedDateToDate(e):"simple-array"===t.type?E.a.simpleArrayToString(e):"simple-json"===t.type?E.a.simpleJsonToString(e):"enum"===t.type||"simple-enum"===t.type?""+e:e},e.prototype.prepareHydratedValue=function(e,t){return null==e?t.transformer?C.a.transformFrom(t.transformer,e):e:(t.type===Boolean||"bool"===t.type||"boolean"===t.type?e=!!e:"datetime"===t.type||t.type===Date?e=E.a.normalizeHydratedDate(e):"date"===t.type?e=E.a.mixedDateToDateString(e):"json"===t.type?e="string"==typeof e?JSON.parse(e):e:"time"===t.type?e=E.a.mixedTimeToString(e):"simple-array"===t.type?e=E.a.stringToSimpleArray(e):"simple-json"===t.type?e=E.a.stringToSimpleJson(e):("enum"===t.type||"simple-enum"===t.type)&&t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),t.transformer&&(e=C.a.transformFrom(t.transformer,e)),e)},e.prototype.normalizeType=function(e){return e.type===Number||"integer"===e.type?"int":e.type===String?"varchar":e.type===Date?"datetime":e.type===Buffer?"blob":e.type===Boolean?"tinyint":"uuid"===e.type?"varchar":"simple-array"===e.type||"simple-json"===e.type?"text":"simple-enum"===e.type?"enum":"double precision"===e.type||"real"===e.type?"double":"dec"===e.type||"numeric"===e.type||"fixed"===e.type?"decimal":"bool"===e.type||"boolean"===e.type?"tinyint":"nvarchar"===e.type||"national varchar"===e.type?"varchar":"nchar"===e.type||"national char"===e.type?"char":e.type||""},e.prototype.normalizeDefault=function(e){var t=e.default;return"enum"!==e.type&&"simple-enum"!==e.type||void 0===t?"number"==typeof t?""+t:"boolean"==typeof t?!0===t?"1":"0":"function"==typeof t?t():"string"==typeof t?"'"+t+"'":null===t?"null":t:"'"+t+"'"},e.prototype.normalizeIsUnique=function(e){return e.entityMetadata.indices.some((function(t){return t.isUnique&&1===t.columns.length&&t.columns[0]===e}))},e.prototype.getColumnLength=function(e){if(e.length)return e.length.toString();if("uuid"===e.generationStrategy)return"36";switch(e.type){case String:case"varchar":case"nvarchar":case"national varchar":case"varbinary":return"255";default:return""}},e.prototype.createFullType=function(e){var t=e.type;return this.getColumnLength(e)?t+="("+this.getColumnLength(e)+")":e.width?t+="("+e.width+")":null!=e.precision&&null!=e.scale?t+="("+e.precision+","+e.scale+")":null!=e.precision&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t},e.prototype.obtainMasterConnection=function(){var e=this;return new Promise((function(t,n){e.poolCluster?e.poolCluster.getConnection("MASTER",(function(r,i){r?n(r):t(e.prepareDbConnection(i))})):e.pool?e.pool.getConnection((function(r,i){r?n(r):t(e.prepareDbConnection(i))})):n(new Error("Connection is not established with mysql database"))}))},e.prototype.obtainSlaveConnection=function(){var e=this;return this.poolCluster?new Promise((function(t,n){e.poolCluster.getConnection("SLAVE*",(function(e,r){e?n(e):t(r)}))})):this.obtainMasterConnection()},e.prototype.createGeneratedMap=function(e,t){var n=e.generatedColumns.reduce((function(e,n){var r;return"increment"===n.generationStrategy&&t.insertId&&(r=t.insertId),p.a.mergeDeep(e,n.createValueMap(r))}),{});return Object.keys(n).length>0?n:void 0},e.prototype.findChangedColumns=function(e,t){var n=this;return t.filter((function(t){var r=e.find((function(e){return e.name===t.databaseName}));if(!r)return!1;var i=t.length;return i||"uuid"!==t.generationStrategy||(i=n.getColumnLength(t)),r.name!==t.databaseName||r.type!==n.normalizeType(t)||r.length!==i||r.width!==t.width||r.precision!==t.precision||r.scale!==t.scale||r.zerofill!==t.zerofill||r.unsigned!==t.unsigned||r.asExpression!==t.asExpression||r.generatedType!==t.generatedType||!n.compareDefaultValues(n.normalizeDefault(t),r.default)||r.enum&&t.enum&&!p.a.isArraysEqual(r.enum,t.enum.map((function(e){return e+""})))||r.onUpdate!==t.onUpdate||r.isPrimary!==t.isPrimary||r.isNullable!==t.isNullable||r.isUnique!==n.normalizeIsUnique(t)||"uuid"!==t.generationStrategy&&r.isGenerated!==t.isGenerated}))},e.prototype.isReturningSqlSupported=function(){return!1},e.prototype.isUUIDGenerationSupported=function(){return!1},e.prototype.createParameter=function(e,t){return"?"},e.prototype.loadDependencies=function(){this.DataApiDriver=w.a.load("typeorm-aurora-data-api-driver"),this.DataApiDriver=this.DataApiDriver.default||this.DataApiDriver},e.prototype.createConnectionOptions=function(e,t){return t=Object.assign({},t,i.a.buildDriverOptions(t)),Object.assign({},{resourceArn:e.resourceArn,secretArn:e.secretArn,database:e.database,region:e.region,type:e.type},{host:t.host,user:t.username,password:t.password,database:t.database,port:t.port,ssl:e.ssl},e.extra||{})},e.prototype.createPool=function(e){return r.b(this,void 0,void 0,(function(){return r.e(this,(function(e){return[2,{}]}))}))},e.prototype.prepareDbConnection=function(e){var t=this.connection.logger;return 0===e.listeners("error").length&&e.on("error",(function(e){return t.log("warn","MySQL connection raised an error. "+e)})),e},e.prototype.compareDefaultValues=function(e,t){return"string"==typeof e&&"string"==typeof t&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t},e}()},uWoz:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},ukWd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){}return e.createTableColumnOptions=function(e,t){return{name:e.databaseName,length:e.length,width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map((function(e){return e+""})):e.enum,enumName:e.enumName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}},e}()},vi62:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var r=n("bI4O"),i=n("jg4I"),a=n("2kYt"),o=n("EM62"),s=n("nIj0"),u=function(){var e=function(){function e(t,n){Object(r.a)(this,e),this.el=t,this.ngModel=n}return Object(i.a)(e,[{key:"ngDoCheck",value:function(){this.updateFilledState()}},{key:"onInput",value:function(e){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Jb(o.l),o.Jb(s.j,8))},e.\u0275dir=o.Eb({type:e,selectors:[["","pInputText",""]],hostVars:6,hostBindings:function(e,t){1&e&&o.Xb("input",(function(e){return t.onInput(e)})),2&e&&o.Bb("p-inputtext",!0)("p-component",!0)("p-filled",t.filled)}}),e}(),c=function(){var e=function e(){Object(r.a)(this,e)};return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(t){return new(t||e)},imports:[[a.c]]}),e}()},vobO:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return j}));var r=n("Qvxn"),i=n("sTvq"),a=n("XlW9"),o=n("K8MB"),s=n("jg4I"),u=n("bI4O"),c=n("EM62"),l=n("ROBh"),h=n("IdLP"),f=n("5uDM"),d=n("xVbo"),p=n("YtkY"),m=n("2kYt"),y=function e(){Object(u.a)(this,e)},v=function e(){Object(u.a)(this,e)},g=function(){function e(t){var n=this;Object(u.a)(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(a):n.headers.set(i,[a])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return Object(s.a)(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,Object(o.a)(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var a=this.headers.get(t);if(!a)return;0===(a=a.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),b=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"encodeKey",value:function(e){return w(e)}},{key:"encodeValue",value:function(e){return w(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function E(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=Object(a.a)(i,2),s=o[0],u=o[1],c=n.get(s)||[];c.push(u),n.set(s,c)})),n}function w(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var O=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.a)(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new b,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=E(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return Object(s.a)(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function C(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function T(e){return"undefined"!=typeof Blob&&e instanceof Blob}function _(e){return"undefined"!=typeof FormData&&e instanceof FormData}var A=function(){function e(t,n,r,i){var a;if(Object(u.a)(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new g),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new O,this.urlWithParams=n}return Object(s.a)(e,[{key:"serializeBody",value:function(){return null===this.body?null:C(this.body)||T(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof O?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||_(this.body)?null:T(this.body)?this.body.type||null:C(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof O?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,a,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:o})}}]),e}(),S=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),N=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";Object(u.a)(this,e),this.headers=t.headers||new g,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},k=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)(this,n),(e=t.call(this,r)).type=S.ResponseHeader,e}return Object(s.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(N),j=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(u.a)(this,n),(e=t.call(this,r)).type=S.Response,e.body=void 0!==r.body?r.body:null,e}return Object(s.a)(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(N),x=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(N);function M(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var R=function(){var e=function(){function e(t){Object(u.a)(this,e),this.handler=t}return Object(s.a)(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof A)n=e;else{var a=void 0;a=i.headers instanceof g?i.headers:new g(i.headers);var o=void 0;i.params&&(o=i.params instanceof O?i.params:new O({fromObject:i.params})),n=new A(e,t,void 0!==i.body?i.body:null,{headers:a,params:o,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(l.a)(n).pipe(Object(f.a)((function(e){return r.handler.handle(e)})));if(e instanceof A||"events"===i.observe)return s;var u=s.pipe(Object(d.a)((function(e){return e instanceof j})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(p.a)((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(Object(p.a)((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(Object(p.a)((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(Object(p.a)((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new O).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,M(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,M(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,M(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Tb(y))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),D=function(){function e(t,n){Object(u.a)(this,e),this.next=t,this.interceptor=n}return Object(s.a)(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),P=new c.q("HTTP_INTERCEPTORS"),I=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),L=/^\)\]\}',?\n/,F=function e(){Object(u.a)(this,e)},q=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),B=function(){var e=function(){function e(t){Object(u.a)(this,e),this.xhrFactory=t}return Object(s.a)(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new h.a((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var a=e.responseType.toLowerCase();r.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new g(r.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new k({headers:i,status:t,statusText:n,url:a})},c=function(){var t=u(),i=t.headers,a=t.status,o=t.statusText,s=t.url,c=null;204!==a&&(c=void 0===r.response?r.responseText:r.response),0===a&&(a=c?200:0);var l=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(L,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new j({body:c,headers:i,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new x({error:c,headers:i,status:a,statusText:o,url:s||void 0}))},l=function(e){var t=u(),i=new x({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t.url||void 0});n.error(i)},h=!1,f=function(t){h||(n.next(u()),h=!0);var i={type:S.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:S.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",f),null!==o&&r.upload&&r.upload.addEventListener("progress",d)),r.send(o),n.next({type:S.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",f),null!==o&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Tb(F))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),U=new c.q("XSRF_COOKIE_NAME"),V=new c.q("XSRF_HEADER_NAME"),H=function e(){Object(u.a)(this,e)},z=function(){var e=function(){function e(t,n,r){Object(u.a)(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return Object(s.a)(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(m.M)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Tb(m.e),c.Tb(c.B),c.Tb(U))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),Q=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this.tokenService=t,this.headerName=n}return Object(s.a)(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Tb(H),c.Tb(V))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),W=function(){var e=function(){function e(t,n){Object(u.a)(this,e),this.backend=t,this.injector=n,this.chain=null}return Object(s.a)(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(P,[]);this.chain=t.reduceRight((function(e,t){return new D(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Tb(v),c.Tb(c.r))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac}),e}(),K=function(){var e=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Q,useClass:I}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:U,useValue:t.cookieName}:[],t.headerName?{provide:V,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},providers:[Q,{provide:P,useExisting:Q,multi:!0},{provide:H,useClass:z},{provide:U,useValue:"XSRF-TOKEN"},{provide:V,useValue:"X-XSRF-TOKEN"}]}),e}(),G=function(){var e=function e(){Object(u.a)(this,e)};return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},providers:[R,{provide:y,useClass:W},B,{provide:v,useExisting:B},q,{provide:F,useExisting:q}],imports:[[K.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}()},xVbo:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Qvxn"),i=n("sTvq"),a=n("bI4O"),o=n("jg4I"),s=n("5uGe");function u(e,t){return function(n){return n.lift(new c(e,t))}}var c=function(){function e(t,n){Object(a.a)(this,e),this.predicate=t,this.thisArg=n}return Object(o.a)(e,[{key:"call",value:function(e,t){return t.subscribe(new l(e,this.predicate,this.thisArg))}}]),e}(),l=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return Object(o.a)(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(s.a)},xynt:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("70di"),i=n("QADp"),a=n("jEQi"),o=n("ukWd"),s=n("/0jE"),u=n("ACIq"),c=n("XJG8"),l=function(){function e(e){this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,e&&(this.name=e.name,e.columns&&(this.columns=e.columns.map((function(e){return new r.a(e)}))),e.indices&&(this.indices=e.indices.map((function(e){return new i.a(e)}))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map((function(e){return new a.a(e)}))),e.uniques&&(this.uniques=e.uniques.map((function(e){return new s.a(e)}))),e.checks&&(this.checks=e.checks.map((function(e){return new u.a(e)}))),e.exclusions&&(this.exclusions=e.exclusions.map((function(e){return new c.a(e)}))),void 0!==e.justCreated&&(this.justCreated=e.justCreated),this.engine=e.engine)}return Object.defineProperty(e.prototype,"primaryColumns",{get:function(){return this.columns.filter((function(e){return e.isPrimary}))},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e({name:this.name,columns:this.columns.map((function(e){return e.clone()})),indices:this.indices.map((function(e){return e.clone()})),foreignKeys:this.foreignKeys.map((function(e){return e.clone()})),uniques:this.uniques.map((function(e){return e.clone()})),checks:this.checks.map((function(e){return e.clone()})),exclusions:this.exclusions.map((function(e){return e.clone()})),justCreated:this.justCreated,engine:this.engine})},e.prototype.addColumn=function(e){this.columns.push(e)},e.prototype.removeColumn=function(e){var t=this.columns.find((function(t){return t.name===e.name}));t&&this.columns.splice(this.columns.indexOf(t),1)},e.prototype.addUniqueConstraint=function(e){if(this.uniques.push(e),1===e.columnNames.length){var t=this.columns.find((function(t){return t.name===e.columnNames[0]}));t&&(t.isUnique=!0)}},e.prototype.removeUniqueConstraint=function(e){var t=this.uniques.find((function(t){return t.name===e.name}));if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),1===t.columnNames.length)){var n=this.columns.find((function(e){return e.name===t.columnNames[0]}));n&&(n.isUnique=!1)}},e.prototype.addCheckConstraint=function(e){this.checks.push(e)},e.prototype.removeCheckConstraint=function(e){var t=this.checks.find((function(t){return t.name===e.name}));t&&this.checks.splice(this.checks.indexOf(t),1)},e.prototype.addExclusionConstraint=function(e){this.exclusions.push(e)},e.prototype.removeExclusionConstraint=function(e){var t=this.exclusions.find((function(t){return t.name===e.name}));t&&this.exclusions.splice(this.exclusions.indexOf(t),1)},e.prototype.addForeignKey=function(e){this.foreignKeys.push(e)},e.prototype.removeForeignKey=function(e){var t=this.foreignKeys.find((function(t){return t.name===e.name}));t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)},e.prototype.addIndex=function(e,t){if(void 0===t&&(t=!1),this.indices.push(e),1===e.columnNames.length&&e.isUnique&&t){var n=this.columns.find((function(t){return t.name===e.columnNames[0]}));n&&(n.isUnique=!0)}},e.prototype.removeIndex=function(e,t){void 0===t&&(t=!1);var n=this.indices.find((function(t){return t.name===e.name}));if(n&&(this.indices.splice(this.indices.indexOf(n),1),1===n.columnNames.length&&n.isUnique&&t)){var r=this.columns.find((function(e){return e.name===n.columnNames[0]}));r&&(r.isUnique=this.indices.some((function(e){return 1===e.columnNames.length&&e.columnNames[0]===r.name&&!!n.isUnique})))}},e.prototype.findColumnByName=function(e){return this.columns.find((function(t){return t.name===e}))},e.prototype.findColumnIndices=function(e){return this.indices.filter((function(t){return!!t.columnNames.find((function(t){return t===e.name}))}))},e.prototype.findColumnForeignKeys=function(e){return this.foreignKeys.filter((function(t){return!!t.columnNames.find((function(t){return t===e.name}))}))},e.prototype.findColumnUniques=function(e){return this.uniques.filter((function(t){return!!t.columnNames.find((function(t){return t===e.name}))}))},e.prototype.findColumnChecks=function(e){return this.checks.filter((function(t){return!!t.columnNames.find((function(t){return t===e.name}))}))},e.create=function(t,n){return new e({name:n.buildTableName(t.tableName,t.schema,t.database),engine:t.engine,columns:t.columns.filter((function(e){return e})).map((function(e){return o.a.createTableColumnOptions(e,n)})),indices:t.indices.filter((function(e){return!0===e.synchronize})).map((function(e){return i.a.create(e)})),uniques:t.uniques.map((function(e){return s.a.create(e)})),checks:t.checks.map((function(e){return u.a.create(e)})),exclusions:t.exclusions.map((function(e){return c.a.create(e)}))})},e}()},yTkW:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("bI4O"),i=n("jg4I"),a=n("Qvxn"),o=n("sTvq"),s=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,i){var a;return Object(r.a)(this,n),(a=t.call(this)).subject=e,a.subscriber=i,a.closed=!1,a}return Object(i.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n("bwdy").a)},ygCS:function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return S}));var r=n("bI4O"),i=n("jg4I"),a=n("EM62"),o=n("2kYt"),s=n("sEIs");function u(e,t){if(1&e&&a.Kb(0,"span",10),2&e){var n=a.Zb(3);a.gc("ngClass",n.home.icon||"pi pi-home")}}function c(e,t){if(1&e&&(a.Pb(0,"span",11),a.zc(1),a.Ob()),2&e){var n=a.Zb(3);a.yb(1),a.Ac(n.home.label)}}function l(e,t){if(1&e){var n=a.Qb();a.Pb(0,"a",7),a.Xb("click",(function(e){a.qc(n);var t=a.Zb(2);return t.itemClick(e,t.home)})),a.xc(1,u,1,1,"span",8),a.xc(2,c,2,1,"span",9),a.Ob()}if(2&e){var r=a.Zb(2);a.gc("href",r.home.url?r.home.url:null,a.sc),a.zb("target",r.home.target)("title",r.home.title)("id",r.home.id)("tabindex",r.home.disabled?null:"0"),a.yb(1),a.gc("ngIf",r.home.icon),a.yb(1),a.gc("ngIf",r.home.label)}}function h(e,t){if(1&e&&a.Kb(0,"span",10),2&e){var n=a.Zb(3);a.gc("ngClass",n.home.icon||"pi pi-home")}}function f(e,t){if(1&e&&(a.Pb(0,"span",11),a.zc(1),a.Ob()),2&e){var n=a.Zb(3);a.yb(1),a.Ac(n.home.label)}}var d=function(){return{exact:!1}};function p(e,t){if(1&e){var n=a.Qb();a.Pb(0,"a",12),a.Xb("click",(function(e){a.qc(n);var t=a.Zb(2);return t.itemClick(e,t.home)})),a.xc(1,h,1,1,"span",8),a.xc(2,f,2,1,"span",9),a.Ob()}if(2&e){var r=a.Zb(2);a.gc("routerLink",r.home.routerLink)("queryParams",r.home.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.home.routerLinkActiveOptions||a.hc(16,d))("fragment",r.home.fragment)("queryParamsHandling",r.home.queryParamsHandling)("preserveFragment",r.home.preserveFragment)("skipLocationChange",r.home.skipLocationChange)("replaceUrl",r.home.replaceUrl)("state",r.home.state),a.zb("target",r.home.target)("title",r.home.title)("id",r.home.id)("tabindex",r.home.disabled?null:"0"),a.yb(1),a.gc("ngIf",r.home.icon),a.yb(1),a.gc("ngIf",r.home.label)}}var m=function(e){return{"p-breadcrumb-home":!0,"p-disabled":e}};function y(e,t){if(1&e&&(a.Pb(0,"li",4),a.xc(1,l,3,7,"a",5),a.xc(2,p,3,17,"a",6),a.Ob()),2&e){var n=a.Zb();a.Ab(n.home.styleClass),a.gc("ngClass",a.ic(6,m,n.home.disabled))("ngStyle",n.home.style),a.yb(1),a.gc("ngIf",!n.home.routerLink),a.yb(1),a.gc("ngIf",n.home.routerLink)}}function v(e,t){1&e&&a.Kb(0,"li",13)}function g(e,t){if(1&e&&a.Kb(0,"span",10),2&e){var n=a.Zb(2).$implicit;a.gc("ngClass",n.icon)}}function b(e,t){if(1&e&&(a.Pb(0,"span",11),a.zc(1),a.Ob()),2&e){var n=a.Zb(2).$implicit;a.yb(1),a.Ac(n.label)}}function E(e,t){if(1&e){var n=a.Qb();a.Pb(0,"a",16),a.Xb("click",(function(e){a.qc(n);var t=a.Zb().$implicit;return a.Zb().itemClick(e,t)})),a.xc(1,g,1,1,"span",8),a.xc(2,b,2,1,"span",9),a.Ob()}if(2&e){var r=a.Zb().$implicit;a.zb("href",r.url?r.url:null,a.sc)("target",r.target)("title",r.title)("id",r.id)("tabindex",r.disabled?null:"0"),a.yb(1),a.gc("ngIf",r.icon),a.yb(1),a.gc("ngIf",r.label)}}function w(e,t){if(1&e&&a.Kb(0,"span",10),2&e){var n=a.Zb(2).$implicit;a.gc("ngClass",n.icon)}}function O(e,t){if(1&e&&(a.Pb(0,"span",11),a.zc(1),a.Ob()),2&e){var n=a.Zb(2).$implicit;a.yb(1),a.Ac(n.label)}}function C(e,t){if(1&e){var n=a.Qb();a.Pb(0,"a",12),a.Xb("click",(function(e){a.qc(n);var t=a.Zb().$implicit;return a.Zb().itemClick(e,t)})),a.xc(1,w,1,1,"span",8),a.xc(2,O,2,1,"span",9),a.Ob()}if(2&e){var r=a.Zb().$implicit;a.gc("routerLink",r.routerLink)("queryParams",r.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",r.routerLinkActiveOptions||a.hc(16,d))("fragment",r.fragment)("queryParamsHandling",r.queryParamsHandling)("preserveFragment",r.preserveFragment)("skipLocationChange",r.skipLocationChange)("replaceUrl",r.replaceUrl)("state",r.state),a.zb("target",r.target)("title",r.title)("id",r.id)("tabindex",r.disabled?null:"0"),a.yb(1),a.gc("ngIf",r.icon),a.yb(1),a.gc("ngIf",r.label)}}function T(e,t){1&e&&a.Kb(0,"li",13)}function _(e,t){if(1&e&&(a.Pb(0,"li",14),a.xc(1,E,3,7,"a",15),a.xc(2,C,3,17,"a",6),a.Ob(),a.xc(3,T,1,0,"li",2)),2&e){var n=t.$implicit,r=t.last;a.Ab(n.styleClass),a.gc("ngStyle",n.style),a.yb(1),a.gc("ngIf",!n.routerLink),a.yb(1),a.gc("ngIf",n.routerLink),a.yb(1),a.gc("ngIf",!r)}}var A=function(){var e=function(){function e(){Object(r.a)(this,e),this.onItemClick=new a.n}return Object(i.a)(e,[{key:"itemClick",value:function(e,t){t.disabled?e.preventDefault():(t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),this.onItemClick.emit({originalEvent:e,item:t}))}},{key:"onHomeClick",value:function(e){this.home&&this.itemClick(e,this.home)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["p-breadcrumb"]],inputs:{model:"model",style:"style",styleClass:"styleClass",home:"home"},outputs:{onItemClick:"onItemClick"},decls:5,vars:7,consts:[[3,"ngStyle","ngClass"],[3,"class","ngClass","ngStyle",4,"ngIf"],["class","p-breadcrumb-chevron pi pi-chevron-right",4,"ngIf"],["ngFor","",3,"ngForOf"],[3,"ngClass","ngStyle"],["class","p-menuitem-link",3,"href","click",4,"ngIf"],["class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],[1,"p-menuitem-link",3,"href","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],[1,"p-breadcrumb-chevron","pi","pi-chevron-right"],[3,"ngStyle"],["class","p-menuitem-link",3,"click",4,"ngIf"],[1,"p-menuitem-link",3,"click"]],template:function(e,t){1&e&&(a.Pb(0,"div",0),a.Pb(1,"ul"),a.xc(2,y,3,8,"li",1),a.xc(3,v,1,0,"li",2),a.xc(4,_,4,6,"ng-template",3),a.Ob(),a.Ob()),2&e&&(a.Ab(t.styleClass),a.gc("ngStyle",t.style)("ngClass","p-breadcrumb p-component"),a.yb(2),a.gc("ngIf",t.home),a.yb(1),a.gc("ngIf",t.model&&t.home),a.yb(1),a.gc("ngForOf",t.model))},directives:[o.w,o.q,o.t,o.s,s.f,s.e],styles:[".p-breadcrumb ul{margin:0;padding:0;list-style-type:none;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.p-breadcrumb .p-menuitem-text{line-height:1}.p-breadcrumb .p-menuitem-link{text-decoration:none}"],encapsulation:2,changeDetection:0}),e}(),S=function(){var e=function e(){Object(r.a)(this,e)};return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[o.c,s.g],s.g]}),e}()}}]);