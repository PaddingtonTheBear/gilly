(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+SOw":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("8j5Y"),i=n("EM62"),o=n("vobO"),a=function(){function t(t){this.http=t}return t.prototype.setDataService=function(t){this.DS=t},t.prototype.delete=function(t,e){var n=this;if(e){this.DS.isOptimistic&&this.cacheAndNotifyDelete(t,e);var i=this.DS.apiEndpoint+"/"+this.DS.getModelName(t)+(Array.isArray(e)?"":"/"+e.id||!1);return this.http.request("delete",i,{body:e}).pipe(Object(r.a)((function(r){n.DS.isOptimistic||n.cacheAndNotifyDelete(t,e)})))}},t.prototype.cacheAndNotifyDelete=function(t,e){if(this.DS.cache[this.DS.getModelName(t)]){if(Array.isArray(e)){var n=e.map((function(t){return t.id}));this.DS.cache[this.DS.getModelName(t)]=this.DS.cache[this.DS.getModelName(t)].filter((function(t){return!n.includes(t.id)}))}else this.DS.cache[this.DS.getModelName(t)]=this.DS.cache[this.DS.getModelName(t)].filter((function(t){return t.id!==(e.id||e)}));this.DS.subjectMap[this.DS.getModelName(t)].next(this.DS.cache[this.DS.getModelName(t)]),this.DS.loadingMap[this.DS.getModelName(t)].next(!1)}},t.\u0275fac=function(e){return new(e||t)(i.Tb(o.b))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac}),t}()},0:function(t,e,n){t.exports=n("zUnb")},"0VG5":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("ZTXN"),i=n("EM62"),o=function(){function t(){this.locationName$=new r.a}return t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}()},"0kSN":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={production:!0,serverUrl:"..",authUrl:"../auth/login",dataUrl:"../data",mapOptions:{layers:[{type:"tile",url:"http://a.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:18}],zoom:1,center:[0,0]},userMetrics:!0}},"2k75":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("D57K"),i=n("C05f"),o=n("ROBh"),a=n("8j5Y"),c=n("+SOw"),u=n("8rO1"),s=n("hqah"),p=n("EM62"),l=function(){function t(t,e,n,r,i){this.DSV=t,this.DR=e,this.DD=n,this.isOptimistic=!0,this.cache={},this.subjectMap={},this.activeMap={},this.loadingMap={},this.DSV.setDataService(this),this.DR.setDataService(this),this.DD.setDataService(this),r&&this.setupDataService(r),i&&this.setupDataService(i)}return t.prototype.setupDataService=function(t){this.apiEndpoint=t.apiEndpoint||t.dataEndpoint,this.tables=Object(r.a)({},t.tables),this.setupLocalProps()},t.prototype.setupLocalProps=function(){var t=this;try{Object.keys(this.tables).forEach((function(e){t.addTableToLocalProps(e)}))}catch(e){console.error("Tables in DataService was null!",e)}},t.prototype.addTableToLocalProps=function(t){t&&(this.loadingMap[t]=new i.a(!1),this.cache[t]=[],this.subjectMap[t]=new i.a(null),this.activeMap[t]=new i.a(null))},t.prototype.getModelName=function(t){var e;return t&&(t.name||t.displayName||t.tableName)?(t.displayName&&(e=t.displayName),e=t.tableName?t.tableName:t.name):e=t,this.cache[e]||this.addTableToLocalProps(e),e},t.prototype.setData=function(t,e){void 0===e&&(e=[]),this.cache[this.getModelName(t)]=Object(r.j)(e),this.subjectMap[this.getModelName(t)].next(this.cache[this.getModelName(t)])},t.prototype.save=function(t,e,n,r){return t?this.DSV.save(t,e,n,r):Object(o.a)()},t.prototype.read=function(t,e){return t?this.DR.read(t,e):Object(o.a)()},t.prototype.readExternal=function(t,e){return this.DR.readExternal(t,e)},t.prototype.delete=function(t,e){return t?this.DD.delete(t,e):Object(o.a)()},t.prototype.selectAll=function(t){return this.subjectMap[this.getModelName(t)]},t.prototype.selectAllValues=function(t){return this.cache[this.getModelName(t)]},t.prototype.selectAllFilter=function(t,e,n){return this.selectAllValues(t).filter((function(t){return t[e]===n}))},t.prototype.selectOne=function(t,e){return Object(o.a)(this.selectOneValue(t,e))},t.prototype.selectOneValue=function(t,e){return this.cache[this.getModelName(t)].find((function(t){return t.id===e}))},t.prototype.setActive=function(t,e){e?this.activeMap[this.getModelName(t)].next(this.selectOneValue(t,e.id?e.id:e)):this.activeMap[this.getModelName(t)].next(null)},t.prototype.selectActive=function(t){return this.activeMap[this.getModelName(t)]},t.prototype.getActive=function(t){return this.activeMap[this.getModelName(t)].getValue()},t.prototype.saveActive=function(t){return this.save(t,this.selectActive(t))},t.prototype.deleteActive=function(t){var e=this;return this.delete(t,this.selectActive(t)).pipe(Object(a.a)((function(n){return e.setActive(t,null)})))},t.\u0275fac=function(e){return new(e||t)(p.Tb(s.a),p.Tb(u.a),p.Tb(c.a),p.Tb("dsConfig"),p.Tb("config"))},t.\u0275prov=p.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"3K7N":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("UlWR"),i=n("8LwP"),o=n("EM62"),a=function(){function t(t,e){this.alerts=t,this.notifier=e}return t.prototype.listenSuccess=function(){var t=this;this.notifier.action$.pipe(Object(r.b)("success")).subscribe((function(e){"GET"!==e.method&&t.alerts.openAlert(e.storeName+" successfully "+t.getHumanMethodName(e.method)+"!")}))},t.prototype.getHumanMethodName=function(t){var e="";switch(t){case"GET":e="retrieved";break;case"POST":e="created";break;case"PUT":e="saved";break;case"DELETE":e="deleted";break;default:e=""}return e},t.\u0275fac=function(e){return new(e||t)(o.Tb(i.a),o.Tb(r.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"7Msu":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("vobO"),i=n("8j5Y"),o=n("ruxD"),a=n("jylx"),c=n("EM62"),u=function(){function t(t){this.messenger=t}return t.prototype.intercept=function(t,e){var n,a=this,c=Date.now();return e.handle(t).pipe(Object(i.a)((function(t){return n=t instanceof r.f?"succeeded":""}),(function(t){return n="failed"})),Object(o.a)((function(){var e=Date.now()-c;a.messenger.add(t.method+' "'+t.urlWithParams+'"\n             '+n+" in "+e+" ms.")})))},t.\u0275fac=function(e){return new(e||t)(c.Tb(a.a))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac}),t}()},"8LwP":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("EM62"),i=function(){function t(){}return t.prototype.openAlert=function(t,e){alert(t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}()},"8rO1":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("vobO"),i=n("8j5Y"),o=n("mnto"),a=n("EM62"),c=function(){function t(t){this.http=t}return t.prototype.setDataService=function(t){this.DS=t},t.prototype.read=function(t,e){var n=this;return this.http.get(this.DS.apiEndpoint+"/"+this.DS.getModelName(t)+(e?"?"+this.createSearchParams(e):""),{params:new o.a(t)}).pipe(Object(i.a)((function(e){n.cacheAndNotifyRead(t,e)})))},t.prototype.readExternal=function(t,e){return this.http.get(t,{headers:e,reportProgress:!0})},t.prototype.createSearchParams=function(t){if(!t)return"";var e=new r.e;if("string"==typeof t){var n=new r.e;t.split("&").forEach((function(t){var e=t.split("=");n=n.append(e[0],e[1])})),e=n}else t instanceof r.e?e=t:t instanceof Array?console.log(t):Object.keys(t).forEach((function(n){var r=t[n];Array.isArray(r)?r.forEach((function(t){return e=e.append(n,t)})):e=e.append(n,r)}));return e.toString()},t.prototype.cacheAndNotifyRead=function(t,e){var n=this;this.DS.cache[this.DS.getModelName(t)]=[],e instanceof Array&&e.forEach((function(e){n.DS.cache[n.DS.getModelName(t)].push(Object.assign({},e))})),this.DS.subjectMap[this.DS.getModelName(t)].next(this.DS.cache[this.DS.getModelName(t)])},t.\u0275fac=function(e){return new(e||t)(a.Tb(r.b))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac}),t}()},"9tA1":function(t,e,n){"use strict";n.d(e,"d",(function(){return r.b})),n.d(e,"b",(function(){return i.a})),n.d(e,"a",(function(){return o.a})),n.d(e,"c",(function(){return a.a}));var r=n("rDYi"),i=(n("qutd"),n("zBD5"),n("sr8b"),n("rtpz"),n("Oaao"),n("I6DM"),n("PWll")),o=(n("Yny0"),n("G/se")),a=n("f4G8");n("ce0A"),n("EM62"),n("7Msu"),n("JMdv"),n("8LwP"),n("p+yE"),n("0VG5"),n("jylx"),n("YmSm"),n("3K7N")},BD3z:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("D57K"),i=n("Chh4"),o=n("OeoR"),a=n("cYft"),c=n("oOxM"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.preProcess=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.e)(this,(function(e){return t.name&&(t.extension=t.name.split(".")[1]),console.log(t.file),[2]}))}))},Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"path",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"name",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"extension",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Date)],e.prototype,"lastModifiedDate",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Number)],e.prototype,"size",void 0),Object(r.c)([Object(i.g)((function(t){return a.a}),(function(t){return t.pictures})),Object(r.f)("design:type",a.a)],e.prototype,"kid",void 0),Object(r.c)([Object(i.g)((function(t){return c.a}),(function(t){return t.pictures})),Object(r.f)("design:type",c.a)],e.prototype,"kmTransaction",void 0),Object(r.c)([Object(i.c)()],e)}(o.a)},"G/se":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("JMdv"),i=n("EM62"),o=n("sEIs"),a=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.canActivate=function(t,e){return!!this.auth.isAuthenticated()||(this.router.navigate(["/login"]),!1)},t.\u0275fac=function(e){return new(e||t)(i.Tb(r.a),i.Tb(o.c))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac}),t}()},I6DM:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("EM62"),i=n("sEIs"),o=function(){function t(t){this.route=t,this.message="Something went wrong..."}return t.prototype.ngOnInit=function(){this.route.snapshot.data&&(this.message=this.route.snapshot.data.message)},t.\u0275fac=function(e){return new(e||t)(r.Jb(i.a))},t.\u0275cmp=r.Db({type:t,selectors:[["lib-error-page"]],decls:4,vars:1,consts:[[1,"d-flex","align-items-center","justify-content-center","container","h-100"],[1,"display-4"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div"),r.Pb(2,"h1",1),r.zc(3),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(3),r.Ac(e.message))},styles:[""]}),t}()},JMdv:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var r=n("D57K"),i=n("C05f"),o=n("8j5Y"),a=n("Chh4"),c=n("OeoR"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.displayName="AuthAction",e.repoType="tree",e.allowedRoles=["superadmin"],Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"action",void 0),Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"type",void 0),Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"application",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"isFolder",void 0),Object(r.c)([Object(a.i)((function(t){return p}),(function(t){return t.action})),Object(r.f)("design:type",Array)],e.prototype,"authRolePermissions",void 0),Object(r.c)([Object(a.n)(),Object(r.f)("design:type",Array)],e.prototype,"children",void 0),Object(r.c)([Object(a.o)(),Object(r.f)("design:type",e)],e.prototype,"parent",void 0),Object(r.c)([Object(a.c)({name:"auth_action",orderBy:{action:"ASC"}}),Object(a.m)("nested-set")],e)}(c.a),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.displayName="AuthAction",e.allowedRoles=["superadmin"],Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"entity",void 0),Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"type",void 0),Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"application",void 0),Object(r.c)([Object(a.i)((function(t){return p}),(function(t){return t.entity})),Object(r.f)("design:type",Array)],e.prototype,"authRolePermissions",void 0),Object(r.c)([Object(a.c)({name:"auth_entity",orderBy:{action:"ASC"}})],e)}(c.a),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.displayName="AuthRoleAction",e.allowedRoles=["superadmin"],Object(r.c)([Object(a.a)({nullable:!0,default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"allowed",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"canCreate",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"canRead",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"canUpdate",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"canDelete",void 0),Object(r.c)([Object(a.g)((function(t){return u}),(function(t){return t.authRolePermissions})),Object(r.f)("design:type",u)],e.prototype,"action",void 0),Object(r.c)([Object(a.g)((function(t){return s}),(function(t){return t.authRolePermissions})),Object(r.f)("design:type",s)],e.prototype,"entity",void 0),Object(r.c)([Object(a.g)((function(t){return l}),(function(t){return t.authRolePermissions})),Object(r.f)("design:type",l)],e.prototype,"role",void 0),Object(r.c)([Object(a.c)({name:"auth_role_permission"})],e)}(c.a),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.displayName="AuthRole",e.allowedRoles=["superadmin"],Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"role",void 0),Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"type",void 0),Object(r.c)([Object(a.i)((function(t){return p}),(function(t){return t.role})),Object(r.f)("design:type",Array)],e.prototype,"authRolePermissions",void 0),Object(r.c)([Object(a.f)((function(t){return f}),(function(t){return t.roles}),{onDelete:"SET NULL"}),Object(a.e)(),Object(r.f)("design:type",Array)],e.prototype,"users",void 0),Object(r.c)([Object(a.c)({name:"auth_role",orderBy:{role:"ASC"}}),Object(a.q)(["role"])],e)}(c.a),f=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.displayName="User",e.relationships=[{model:l}],Object(r.c)([Object(a.a)(),Object(r.f)("design:type",String)],e.prototype,"username",void 0),Object(r.c)([Object(a.a)(),Object(r.f)("design:type",String)],e.prototype,"password",void 0),Object(r.c)([Object(a.a)({nullable:!0,length:255}),Object(r.f)("design:type",String)],e.prototype,"email",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:0}),Object(r.f)("design:type",Number)],e.prototype,"numSuccessfulLogin",void 0),Object(r.c)([Object(a.a)({nullable:!0,default:0}),Object(r.f)("design:type",Number)],e.prototype,"numFailedLogin",void 0),Object(r.c)([Object(a.a)({nullable:!0}),Object(r.f)("design:type",Date)],e.prototype,"lastLoggedInDate",void 0),Object(r.c)([Object(a.a)({default:!1}),Object(r.f)("design:type",Boolean)],e.prototype,"isLocked",void 0),Object(r.c)([Object(a.f)((function(t){return l}),(function(t){return t.users}),{eager:!0,cascade:!0}),Object(r.f)("design:type",Array)],e.prototype,"roles",void 0),Object(r.c)([Object(a.c)({name:"auth_user",orderBy:{username:"ASC"}}),Object(a.q)(["username"])],e)}(c.a),d=n("L4ce"),b=n("EM62"),h=n("vobO"),m=n("sEIs"),g=function(){function t(t,e,n){this.http=t,this.router=e,this.userLoggedIn$=new i.a(null),this.config=n,this.getUser()&&this.userLoggedIn$.next(this.getUser())}return t.prototype.handleLogin=function(t){var e=this;return this.http.post(this.config.securityEndpoint,t).pipe(Object(o.a)((function(t){return e.setUserFromServer(t)})))},t.prototype.isUserExpired=function(){return new Date(this.user.expiry).getTime()<(new Date).getTime()},t.prototype.setUser=function(t){var e=this;t&&(this.user=t,localStorage.setItem("dakimbo_login",JSON.stringify(this.user)),t&&(this.updateUserExpired=setInterval((function(){e.user.expiry=new Date((new Date).getTime()+36e5),localStorage.setItem("dakimbo_login",JSON.stringify(e.user))}),6e4),this.userLoggedIn$.next(t)))},t.prototype.getUser=function(){var t=JSON.parse(localStorage.getItem("dakimbo_login"));return t?new Date(t.expiry)<new Date?(this.logout(),null):(this.user=new f(t),this.user):null},t.prototype.getUserRoles=function(){return(this.getUser().roles||[]).map((function(t){return t.role}))},t.prototype.isUserAdmin=function(){return this.getUserRoles().some((function(t){return["superadmin","admin"].includes(t.toLowerCase())}))},t.prototype.setUserFromServer=function(t){var e=t;e.jwt=t.jwt,e.expiry=new Date((new Date).getTime()+36e5),this.setUser(e),this.router.navigate(["/"])},t.prototype.logout=function(){this.user=null,clearInterval(this.updateUserExpired),localStorage.removeItem("dakimbo_login"),this.router.navigate(["/"])},t.prototype.isAuthenticated=function(){return null!==this.getUser()},t.prototype.isActionAuthorized=function(t,e){return!e||!e.length||Object(d.a)(this.getUser(),e)},t.prototype.handleUnauthorized=function(){this.user=null,clearInterval(this.updateUserExpired),localStorage.removeItem("dakimbo_login"),this.router.navigate(["not-authorized"])},t.prototype.getLoggedInUserInfo=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.e)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch("/user/me",{headers:{Authorization:"Bearer "+this.getUser().jwt}})];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()];case 3:return t=e.sent(),console.log(t),[2,null];case 4:return[2]}}))}))},t.\u0275fac=function(e){return new(e||t)(b.Tb(h.b),b.Tb(m.c),b.Tb("config"))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac}),t}()},KO65:function(t,e,n){"use strict";n("rKzz");var r=n("0kSN");n.d(e,"BaseEnvironmentProd",(function(){return r.a})),n("NjK0")},L4ce:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e){if(!t||!e)return!0;var n=e.map((function(t){return t.toLowerCase().trim().split(" ").join("")})),r=(t.roles||[]).map((function(t){return t.role.toLowerCase().trim().split(" ").join("")}));return e.includes("*")||r.some((function(t){return n.includes(t)}))}},MEl8:function(t,e){},NjK0:function(t,e){},Oaao:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("sEIs"),i=n("2kYt"),o=n("I6DM"),a=n("EM62"),c=[{path:"",component:o.a}],u=function(){function t(){}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[i.c,r.g.forChild(c)]]}),t}()},OeoR:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("D57K"),i=n("Chh4"),o=function(){function t(t){var e=this;t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))}return Object(r.c)([Object(i.j)("uuid"),Object(r.f)("design:type",String)],t.prototype,"id",void 0),Object(r.c)([Object(i.s)({nullable:!0}),Object(r.f)("design:type",String)],t.prototype,"version",void 0),Object(r.c)([Object(i.b)(),Object(r.f)("design:type",Date)],t.prototype,"createDate",void 0),Object(r.c)([Object(i.r)(),Object(r.f)("design:type",Date)],t.prototype,"modifyDate",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],t.prototype,"createUser",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],t.prototype,"modifyUser",void 0),t}()},PWll:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2kYt"),i=n("EM62"),o=function(){function t(){}return t.\u0275mod=i.Hb({type:t}),t.\u0275inj=i.Gb({factory:function(e){return new(e||t)},imports:[[r.c]]}),t}()},SOi2:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("D57K"),i=n("EM62"),o=n("2kYt"),a=function(){function t(t){this.datePipe=t}return t.prototype._objArrayCheck=function(t){if(!t)return!1;var e=t[0];return!(!t.length||null===e||"[object Object]"!==Object.prototype.toString.call(e))},t.prototype.filter=function(t,e,n){return t.filter((function(t){return t[e]===n}))},t.prototype.search=function(t,e,n,r,i){var o=this;if(!e||!this._objArrayCheck(t))return t;var a=e.toLowerCase(),c=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,u=i||"medium";return t.filter((function(t){var e=!1;if(n){if(t.hasOwnProperty(n)&&(!r||-1===r.indexOf(n))){var i=t[n];if(!i)return;"string"!=typeof i||i.match(c)||-1===i.toLowerCase().indexOf(a)?(i instanceof Date||i.toString().match(c))&&-1!==o.datePipe.transform(i,u).toLowerCase().indexOf(a)&&(e=!0):e=!0}}else Object.keys(t).forEach((function(n){if(!(e||r&&-1!==r.indexOf(n))){var i=t[n];if(!i)return;if(i instanceof Array)return;"string"!=typeof i||i.match(c)||-1===i.toLowerCase().indexOf(a)?(i instanceof Date||i.toString().match(c))&&-1!==o.datePipe.transform(i,u).toLowerCase().indexOf(a)&&(e=!0):e=!0}}));return e}))},t.prototype.searchObject=function(t,e,n,r){var i=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,o=e.toLowerCase(),a=r||"medium";for(var c in t)if(t.hasOwnProperty(c)&&(!n||-1===n.indexOf(c))&&"id"!==c){var u=t[c];if(!u||u instanceof Array)continue;if("string"==typeof u&&!u.match(i)&&-1!==u.toLowerCase().indexOf(o))return!0;if((u instanceof Date||u.toString().match(i))&&-1!==this.datePipe.transform(u,a).toLowerCase().indexOf(o))return!0}return!1},t.prototype.noSearchResults=function(t,e){return!(t.length||!e)},t.prototype.orderByDate=function(t,e,n){return e&&this._objArrayCheck(t)?t.sort((function(t,r){var i=new Date(t[e]).getTime(),o=new Date(r[e]).getTime();return n?o-i:i-o})):t},t.prototype.sort=function(t,e,n,i,o){return e&&this._objArrayCheck(t)?Object(r.j)(t).sort((function(t,r){var a=t[e],c=r[e];return i&&(a=new Date(a),c=new Date(c)),o&&(a=+a,c=+c),a===c?0:a>c?n?-1:1:n?1:-1})):t},t.prototype.sortInPlace=function(t,e,n,r,i){if(!e||!this._objArrayCheck(t))return t;t.sort((function(t,o){var a=t[e],c=o[e];return r&&(a=new Date(a),c=new Date(c)),i&&(a=+a,c=+c),a===c?0:a>c?n?-1:1:n?1:-1}))},t.prototype.compareSelects=function(t,e){var n=!1;return t&&e?t.id||e.id?n=t.id&&e.id?t.id===e.id:t.id?t.id===e:e.id?e.id===t:t===e:t.optLabel||e.optLabel?n=t.optLabel&&e.optLabel?t.optLabel===e.optLabel:t.label?t.optLabel===e:e.label?e.optLabel===t:t===e:t.optValue||e.optValue?n=t.optValue&&e.optValue?t.optValue===e.optValue:t.label?t.optValue===e:e.label?e.optValue===t:t===e:t.label||e.label?n=t.label&&e.label?t.label===e.label:t.label?t.label===e:e.label?e.label===t:t===e:t==e&&(n=!0):n=t===e,n},t.\u0275fac=function(e){return new(e||t)(i.Tb(o.f))},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac}),t}()},WYfE:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("2kYt"),i=n("SOi2"),o=n("zYXd"),a=n("EM62"),c=function(){function t(){}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},providers:[i.a,o.a],imports:[[r.c]]}),t}()},YmSm:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("sEIs"),i=n("xVbo"),o=n("YtkY"),a=n("TLy2"),c=n("D57K"),u=n("Chh4"),s=n("OeoR"),p=function(){function t(){}return t.prototype.connect=function(e){return Object(c.b)(this,void 0,void 0,(function(){var n,r;return Object(c.e)(this,(function(i){switch(i.label){case 0:t._dbOptions=e,i.label=1;case 1:return i.trys.push([1,4,,5]),console.log("Connecting to "+t._dbOptions.type+" Database: "+t._dbOptions.database+" at "+t._dbOptions.host+":"+t._dbOptions.port+" with user: "+t._dbOptions.username),n=t,[4,Object(u.t)(t._dbOptions)];case 2:return n._connection=i.sent(),[4,this.runMigrations()];case 3:return i.sent(),console.log("Connection to database established!"),[3,5];case 4:return r=i.sent(),console.log("Error Connecting to "+t._dbOptions.host+":"+t._dbOptions.port+"\n",r),[3,5];case 5:return[2]}}))}))},t.prototype.runMigrations=function(){return Object(c.b)(this,void 0,void 0,(function(){var t;return Object(c.e)(this,(function(e){switch(e.label){case 0:return(t=[]).length?(console.log("Running migrations..."),[4,Promise.all(t)]):[3,2];case 1:e.sent(),console.log("Migrations finished!"),e.label=2;case 2:return[2]}}))}))},t}(),l=function(t){function e(e){return t.call(this,e)||this}return Object(c.d)(e,t),e.preProcess=function(t){return Object(c.b)(this,void 0,void 0,(function(){var e,n;return Object(c.e)(this,(function(r){switch(r.label){case 0:return[4,(e=p._connection.getRepository("MetricPageView")).findOne({where:{appName:t.appName,pageName:t.pageName}})];case 1:return(n=r.sent())?[3,3]:[4,e.save({pageName:t.pageName,appName:t.appName,viewCount:1})];case 2:return r.sent(),[3,5];case 3:return n.viewCount++,[4,e.save(n)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},e.displayName="MetricPageVisit",Object(c.c)([Object(u.a)({nullable:!0}),Object(c.f)("design:type",String)],e.prototype,"pageName",void 0),Object(c.c)([Object(u.a)({nullable:!0}),Object(c.f)("design:type",String)],e.prototype,"appName",void 0),Object(c.c)([Object(u.c)({name:"__metric_page_visit",orderBy:{createDate:"DESC"}})],e)}(s.a),f=n("JMdv"),d=n("EM62"),b=n("vobO"),h=function(){function t(t,e,n,r,i){this.auth=e,this.http=n,this.router=r,this.route=i,this.config=t,console.log("Metrics Loaded")}return t.prototype.enableMetrics=function(){var t=this;this.router.events.pipe(Object(i.a)((function(t){return t instanceof r.b})),Object(o.a)((function(){return t.route})),Object(o.a)((function(t){return t.firstChild})),Object(a.a)((function(t){return t.firstChild?t.firstChild.data:t.data}))).subscribe((function(e){t.currentRoute!==(e.breadcrumb||"Home")&&t.auth.getUser()&&(t.currentRoute=e.breadcrumb||"Home",t.logPageVisit(t.currentRoute))}))},t.prototype.getMetrics=function(t){return this.http.get(this.config.serverEndpoint+"/metrics/"+t)},t.prototype.logPageVisit=function(t){this.config.userMetrics&&this.http.post(this.config.dataEndpoint+"/"+l.displayName,{pageName:t,appName:this.config.appName}).subscribe((function(t){}))},t.\u0275fac=function(e){return new(e||t)(d.Tb("config"),d.Tb(f.a),d.Tb(b.b),d.Tb(r.c),d.Tb(r.a))},t.\u0275prov=d.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Yny0:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("2kYt"),i=n("EM62"),o=n("zYXd"),a=["header"],c=["main"],u=["footer"];function s(t,e){if(1&t&&i.Lb(0,5),2&t){var n=i.Zb();i.gc("ngTemplateOutlet",n.headerTemplate)}}var p=function(t){return{"container-fluid":t}};function l(t,e){if(1&t&&(i.Pb(0,"div",6),i.Lb(1,5),i.Ob()),2&t){var n=i.Zb();i.wc("margin-top",n.utilities.isSmallScreen?"":"1.75rem"),i.gc("ngClass",i.ic(4,p,n.fluidMain)),i.yb(1),i.gc("ngTemplateOutlet",n.mainTemplate)}}function f(t,e){if(1&t&&(i.Pb(0,"div",7),i.Lb(1,5),i.Ob()),2&t){var n=i.Zb();i.yb(1),i.gc("ngTemplateOutlet",n.footerTemplate)}}var d=function(){function t(t,e,n,r){this.utilities=t,this.resolver=e,this.injector=n,this.document=r,this.fluidMain=!0}return t.prototype.ngOnInit=function(){},t.prototype.resolveNgContent=function(t){return"string"==typeof t?[[this.document.createTextNode(t)]]:t instanceof i.K?[t.createEmbeddedView(null).rootNodes]:[[this.resolver.resolveComponentFactory(t).create(this.injector).location.nativeElement]]},t.\u0275fac=function(e){return new(e||t)(i.Jb(o.a),i.Jb(i.j),i.Jb(i.r),i.Jb(r.e))},t.\u0275cmp=i.Db({type:t,selectors:[["lib-page-container"]],contentQueries:function(t,e,n){var r;1&t&&(i.Cb(n,a,!0),i.Cb(n,c,!0),i.Cb(n,u,!0)),2&t&&(i.oc(r=i.Yb())&&(e.headerTemplate=r.first),i.oc(r=i.Yb())&&(e.mainTemplate=r.first),i.oc(r=i.Yb())&&(e.footerTemplate=r.first))},inputs:{fluidMain:"fluidMain"},decls:5,vars:3,consts:[[1,"container-wrapper"],[1,"container-header"],[3,"ngTemplateOutlet",4,"ngIf"],["class","container-main",3,"ngClass","margin-top",4,"ngIf"],["class","container-footer border-top",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"container-main",3,"ngClass"],[1,"container-footer","border-top"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.xc(2,s,1,1,"ng-container",2),i.Ob(),i.xc(3,l,2,6,"div",3),i.xc(4,f,2,1,"div",4),i.Ob()),2&t&&(i.yb(2),i.gc("ngIf",e.headerTemplate),i.yb(1),i.gc("ngIf",e.mainTemplate),i.yb(1),i.gc("ngIf",e.footerTemplate))},directives:[r.t,r.A,r.q],styles:[""]}),t}()},cYft:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("D57K"),i=n("Chh4"),o=n("BD3z"),a=n("OeoR"),c=n("oOxM"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return Object(r.d)(e,t),n=e,e.preProcess=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var e,i;return Object(r.e)(this,(function(r){if(t.firstName||t.middleName||t.lastName)t.fullName=n.getKidFullName(t);else if(t.fullName)if(e=t.name.split(" "),t.firstName=e[0],e.length>2)for(t.middleName=e[1],i=2;i<e.length;i++)t.lastName+=e[i];else t.lastName=e[1];return[2]}))}))},e.getKidFullName=function(t){return(t.firstName||"")+(t.firstName?" ":"")+(t.middleName||"")+(t.middleName?" ":"")+(t.lastName||"")},e.displayName="Kid",e.relationships=[{model:c.a,name:"transactions"},{model:o.a,name:"pictures"}],e.fieldConfig=[{key:"firstName"},{key:"lastName"},{key:"middleName"},{key:"fullName"},{key:"birthday",type:"date"},{key:"gender"},{key:"notes"},{key:"money"},{key:"transactions",type:"array"},{key:"pictures",type:"array"}],Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"firstName",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"lastName",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"middleName",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"fullName",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Date)],e.prototype,"birthday",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"gender",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"notes",void 0),Object(r.c)([Object(i.a)({nullable:!0,type:"float4"}),Object(r.f)("design:type",Number)],e.prototype,"money",void 0),Object(r.c)([Object(i.i)((function(t){return c.a}),(function(t){return t.kid}),{cascade:!0}),Object(r.f)("design:type",Array)],e.prototype,"transactions",void 0),Object(r.c)([Object(i.i)((function(t){return o.a}),(function(t){return t.kid}),{eager:!0,cascade:!0}),Object(r.f)("design:type",Array)],e.prototype,"pictures",void 0),n=Object(r.c)([Object(i.c)()],e)}(a.a)},ce0A:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("JMdv"),i=n("ROBh"),o=n("4e/d"),a=n("EM62"),c=function(){function t(t){this.auth=t}return t.prototype.intercept=function(t,e){var n=this,r=this.auth.getUser();if(!r)return e.handle(t);var a=t.clone({setHeaders:{Authorization:"Bearer "+r.jwt}});return e.handle(a).pipe(Object(o.a)((function(t,e){return n.handleAuthError(t),Object(i.a)(t)})))},t.prototype.handleAuthError=function(t){if(401===t.status)return this.auth.handleUnauthorized(),Object(i.a)(t.message);throw t},t.\u0275fac=function(e){return new(e||t)(a.Tb(r.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac}),t}()},f4G8:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("L4ce"),i=n("JMdv"),o=n("EM62"),a=n("sEIs"),c=function(){function t(t,e){this.auth=t,this.router=e}return t.prototype.canActivate=function(t){return this.auth.isAuthenticated()?!!Object(r.a)(this.auth.getUser(),t.data.expectedRoles)||(this.router.navigate(["/notauthorized"]),!1):(this.router.navigate(["/login"]),!1)},t.\u0275fac=function(e){return new(e||t)(o.Tb(i.a),o.Tb(a.c))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t}()},hqah:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("D57K"),i=n("P4Xx"),o=n("YtkY"),a=n("8j5Y"),c=n("EM62"),u=n("vobO"),s=function(t){return t.CREATE="Create",t.UPDATE="Update",t.BULK="Bulk",t.DELETE="Delete",t}({}),p=function(){function t(t){this.http=t}return t.prototype.setDataService=function(t){this.DS=t},t.prototype.save=function(t,e,n,c){var u=this,p=this.DS.apiEndpoint+"/"+this.DS.getModelName(t)+(e.id?"/"+e.id:"");if(Array.isArray(e)){e.forEach((function(t,e){return t._saveId=e}));var l=[],f=[],d=[];if(n&&c){var b=e.map((function(t){return t.id}));d=n.filter((function(t){return!b.includes(t.id)}))}e.forEach((function(t){t.id?f.push(t):l.push(t)}));var h=[];return l.length&&h.push(this.http.post(p,l).pipe()),f.length&&h.push(this.http.put(p,f).pipe()),d.length&&h.push(this.http.request("delete",p,{body:d}).pipe()),Object(i.a)(h).pipe(Object(o.a)((function(t){return[].concat.apply([],t)})),Object(o.a)((function(n){return(n.results||n||[]).forEach((function(t){var n=e.find((function(e){return e._saveId===t._saveId}));n&&(n.id=t.id)})),e.forEach((function(t){return delete t._saveId})),u.cacheAndNotifySaved(t,Object(r.j)(e,d.map((function(t){return Object.assign({},t,{METHOD:s.DELETE})}))),s.BULK),e})))}return e&&e.id?this.http.put(p,e).pipe(Object(a.a)((function(n){return Object.assign(e,n),u.cacheAndNotifySaved(t,e,s.UPDATE),n}))):this.http.post(p,e).pipe(Object(a.a)((function(n){return Object.assign(e,n),u.cacheAndNotifySaved(t,e,s.CREATE),n})))},t.prototype.cacheAndNotifySaved=function(t,e,n){var i=this;switch(n){case s.CREATE:this.DS.cache[this.DS.getModelName(t)].push(Object(r.a)({},e));break;case s.UPDATE:this.DS.cache[this.DS.getModelName(t)]=this.DS.cache[this.DS.getModelName(t)].map((function(t){return t.id===e.id?e:t}));break;case s.BULK:e.forEach((function(e){if(e.METHOD===s.DELETE)i.DS.cache[i.DS.getModelName(t)]=i.DS.cache[i.DS.getModelName(t)].filter((function(t){return t.id!==e.id}));else{var n=i.DS.cache[i.DS.getModelName(t)].find((function(t){return t.id===e.id}));n?Object.assign(n,e):i.DS.cache[i.DS.getModelName(t)].push(Object(r.a)({},e))}}))}this.DS.subjectMap[this.DS.getModelName(t)].next(this.DS.cache[this.DS.getModelName(t)]),this.DS.loadingMap[this.DS.getModelName(t)].next(!1)},t.\u0275fac=function(e){return new(e||t)(c.Tb(u.b))},t.\u0275prov=c.Fb({token:t,factory:t.\u0275fac}),t}()},jylx:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("EM62"),i=function(){function t(){this.messages=[]}return t.prototype.add=function(t){this.messages.push(t)},t.prototype.clear=function(){this.messages=[]},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}()},mnto:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("D57K"),i=function(t){function e(e){var n=t.call(this)||this;return n.model=e,n}return Object(r.d)(e,t),e}(n("vobO").e)},oOxM:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("D57K"),i=n("Chh4"),o=n("OeoR"),a=n("BD3z"),c=n("cYft"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.displayName="KMTransaction",e.fieldConfig=[{key:"name",type:"input"},{key:"type",type:"input"},{key:"income",type:"input"},{key:"cost",type:"input"},{key:"previousAmount",type:"input"},{key:"newAmount",type:"input"},{key:"transactionDate",type:"date"},{key:"pictures",type:"array"}],Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"name",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",String)],e.prototype,"type",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Number)],e.prototype,"income",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Number)],e.prototype,"cost",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Number)],e.prototype,"previousAmount",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Number)],e.prototype,"newAmount",void 0),Object(r.c)([Object(i.a)({nullable:!0}),Object(r.f)("design:type",Date)],e.prototype,"transactionDate",void 0),Object(r.c)([Object(i.i)((function(t){return a.a}),(function(t){return t.kmTransaction})),Object(r.f)("design:type",Array)],e.prototype,"pictures",void 0),Object(r.c)([Object(i.g)((function(t){return c.a}),(function(t){return t.transactions})),Object(r.f)("design:type",c.a)],e.prototype,"kid",void 0),Object(r.c)([Object(i.c)()],e)}(o.a)},"p+yE":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("lu7F"),i=n("EM62"),o=function(){function t(){this.icons={collapse:r.i,expand:r.n,create:r.s,backArrow:r.a,delete:r.x,save:r.t,hamburger:r.b,sitemap:r.v,parachuteBox:r.p,chalkboardTeacher:r.d,peopleCarry:r.q,search:r.u,eraser:r.m,cogs:r.h,edit:r.l,tasks:r.w,expandChevron:r.g,collapseChevron:r.f,users:r.y,diagnoses:r.j,personBooth:r.r,tachograph:r.k,caretSquareDown:r.c,chartBar:r.e,fileImport:r.o}}return t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}()},qutd:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("2kYt"),i=n("sEIs"),o=n("zBD5"),a=n("EM62");function c(t,e){if(1&t){var n=a.Qb();a.Nb(0),a.Pb(1,"a",3),a.Xb("click",(function(){a.qc(n);var t=a.Zb();return t.handleLinkClick(t.item)})),a.zc(2),a.Ob(),a.Mb()}if(2&t){var r=a.Zb();a.yb(2),a.Bc(" ",r.item.name," ")}}function u(t,e){if(1&t){var n=a.Qb();a.Nb(0),a.Pb(1,"button",4),a.Xb("click",(function(){return a.qc(n),a.Zb().item.buttonHandler()})),a.zc(2),a.Ob(),a.Mb()}if(2&t){var r=a.Zb();a.yb(2),a.Ac(r.item.name)}}function s(t,e){if(1&t){var n=a.Qb();a.Pb(0,"li",8),a.Xb("click",(function(){a.qc(n);var t=e.$implicit;return a.Zb(2).handleLinkClick(t)})),a.Kb(1,"lib-header-item",9),a.Ob()}if(2&t){var r=e.$implicit;a.yb(1),a.gc("item",r)}}function p(t,e){if(1&t&&(a.Nb(0),a.Pb(1,"ul",5),a.Pb(2,"li",6),a.Pb(3,"ul"),a.xc(4,s,2,1,"li",7),a.Ob(),a.Ob(),a.Ob(),a.Mb()),2&t){var n=a.Zb();a.yb(2),a.gc("nzTitle",n.item.name),a.yb(2),a.gc("ngForOf",n.item.menuItems)}}function l(t,e){1&t&&(a.Nb(0),a.Kb(1,"li",null,10),a.Mb())}function f(t,e){if(1&t&&(a.Nb(0),a.zc(1),a.Mb()),2&t){var n=a.Zb();a.yb(1),a.Ac(n.item.name)}}var d=function(){function t(t,e){this.router=t,this.route=e}return t.prototype.ngOnInit=function(){},t.prototype.handleLinkClick=function(t){t.linkLocation.indexOf("http")>=0?window.open(t.linkLocation,"_blank"):this.router.navigate([t.linkLocation],{relativeTo:this.route})},t.\u0275fac=function(e){return new(e||t)(a.Jb(i.c),a.Jb(i.a))},t.\u0275cmp=a.Db({type:t,selectors:[["lib-header-item"]],inputs:{item:"item"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["routerLinkActive","active",1,"header-item","text-white",3,"click"],["nz-button","",3,"click"],["nzMode","horizontal","nzTheme","primary",1,"bg-primary","text-white"],[3,"nzTitle"],["nz-menu-item","","routerLinkActive","active",3,"click",4,"ngFor","ngForOf"],["nz-menu-item","","routerLinkActive","active",3,"click"],[3,"item"],["divider",""]],template:function(t,e){1&t&&(a.Nb(0,0),a.xc(1,c,3,1,"ng-container",1),a.xc(2,u,3,1,"ng-container",1),a.xc(3,p,5,2,"ng-container",1),a.xc(4,l,3,0,"ng-container",1),a.xc(5,f,2,1,"ng-container",2),a.Mb()),2&t&&(a.gc("ngSwitch",e.item.type),a.yb(1),a.gc("ngSwitchCase","a"),a.yb(1),a.gc("ngSwitchCase","button"),a.yb(1),a.gc("ngSwitchCase","menu"),a.yb(1),a.gc("ngSwitchCase","divider"))},directives:[r.x,r.y,r.z,i.e,r.s,t],styles:[".header-item[_ngcontent-%COMP%]{font-size:.9rem;border-bottom:0;transition:10ms ease-out}"]}),t}(),b=function(){function t(){}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[r.c,i.g]]}),t}();a.tc(o.a,[r.q,r.r,r.s,r.t,r.A,r.w,r.x,r.y,r.z,r.u,r.v,i.h,i.d,i.f,i.e,i.i,o.a,d],[r.b,r.G,r.p,r.k,r.E,r.g,r.C,r.F,r.d,r.f,r.i,r.j,r.l])},rDYi:function(t,e,n){"use strict";n.d(e,"b",(function(){return P})),n.d(e,"a",(function(){return x}));var r=n("2kYt"),i=n("vobO"),o=n("nIj0"),a=n("EM62"),c=n("+SOw"),u=n("8rO1"),s=n("2k75"),p=n("hqah"),l=n("ruxD"),f=n("mnto"),d=function(){function t(t){this.DS=t}return t.prototype.intercept=function(t,e){var n,r=this;return t.params instanceof f.a&&(n=t.params.model),n&&this.DS.loadingMap[this.DS.getModelName(n)].next(!0),e.handle(t).pipe(Object(l.a)((function(){n&&r.DS.loadingMap[r.DS.getModelName(n)].next(!1)})))},t.\u0275fac=function(e){return new(e||t)(a.Tb(s.a))},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac}),t}(),b=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),h=(new a.q("dataServiceConfig"),function(){function t(t){if(t)throw new Error("DataServiceModule is already loaded. Import it in the AppModule only.")}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:i.a,useClass:d,multi:!0},{provide:i.a,useClass:b,multi:!0},{provide:"dsConfig",useValue:e},s.a,p.a,u.a,c.a]}},t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)(a.Tb(t,12))},imports:[[r.c]]}),t}()),m=n("WYfE"),g=n("I6DM"),y=n("Oaao"),v=n("rtpz"),O=n("sr8b"),j=n("G/se"),D=n("f4G8"),S=n("ce0A"),w=n("7Msu"),M=n("8LwP"),N=n("JMdv"),k=n("p+yE"),A=n("0VG5"),E=n("YmSm"),T=n("3K7N"),P=[{path:"login",component:v.a,data:{breadcrumb:"Login"}},{path:"not-authorized",component:g.a,data:{message:"Not Authorized!",breadcrumb:"Not-Authorized"}},{path:"",redirectTo:"",pathMatch:"full",canActivate:[]},{path:"**",component:g.a,data:{message:"Not Found!",breadcrumb:"Error"}}],x=function(){function t(t){if(t)throw new Error("AppShellModule is already loaded. Import it in AppModule only.")}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:"config",useValue:e},{provide:i.a,useClass:S.a,multi:!0},{provide:i.a,useClass:w.a,multi:!0},j.a,D.a,N.a,M.a,r.f,k.a,A.a,T.a,E.a]}},t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)(a.Tb(t,12))},providers:[],imports:[[r.c,i.c,o.e,o.k,h.forRoot({}),O.a,y.a,m.a]]}),t}()},rKzz:function(t,e,n){},rtpz:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n("nIj0"),i=n("JMdv"),o=n("EM62"),a=n("2kYt"),c=n("vi62"),u=n("YZUv");function s(t,e){1&t&&(o.Pb(0,"small",12),o.zc(1," Please input your username or e-mail! "),o.Ob())}function p(t,e){1&t&&(o.Pb(0,"small",12),o.zc(1," Please input your Password! "),o.Ob())}function l(t,e){if(1&t&&(o.Pb(0,"div",13),o.zc(1),o.Ob()),2&t){var n=o.Zb(2);o.yb(1),o.Bc(" ",n.errorMsg," ")}}function f(t,e){if(1&t){var n=o.Qb();o.Pb(0,"form",4),o.Xb("ngSubmit",(function(){return o.qc(n),o.Zb().onSubmit()})),o.Pb(1,"div",5),o.Pb(2,"label"),o.zc(3,"Username"),o.Ob(),o.Kb(4,"input",6),o.xc(5,s,2,0,"small",7),o.Ob(),o.Pb(6,"div",8),o.Pb(7,"label"),o.zc(8,"Password"),o.Ob(),o.Kb(9,"input",9),o.xc(10,p,2,0,"small",7),o.Ob(),o.Kb(11,"button",10),o.xc(12,l,2,1,"div",11),o.Ob()}if(2&t){var r=o.Zb();o.gc("formGroup",r.loginForm),o.yb(5),o.gc("ngIf",r.identifier.invalid&&(r.identifier.dirty||r.identifier.touched)),o.yb(5),o.gc("ngIf",r.password.invalid&&(r.password.dirty||r.password.touched)),o.yb(1),o.gc("disabled",r.identifier.invalid||r.password.invalid),o.yb(1),o.gc("ngIf",r.errorMsg)}}var d=function(){function t(t,e){this.auth=t,this.fb=e,this.loading=!1,this.login={username:"",password:""},this.errorMsg=""}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.loginForm.get("identifier")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"password",{get:function(){return this.loginForm.get("password")},enumerable:!1,configurable:!0}),t.prototype.ngOnInit=function(){this.loginForm=this.fb.group({identifier:[null,[r.l.required]],password:[null,[r.l.required]],remember:[!0]})},t.prototype.onSubmit=function(){var t=this;this.loading=!0,this.login.username=this.loginForm.value.identifier.split("@")[0],this.login.password=this.loginForm.value.password,this.auth.handleLogin(this.login).subscribe((function(e){t.loading=!1}),(function(e){console.log(e),t.errorMsg=e.error,t.loading=!1}))},t.\u0275fac=function(e){return new(e||t)(o.Jb(i.a),o.Jb(r.b))},t.\u0275cmp=o.Db({type:t,selectors:[["lib-login"]],decls:5,vars:1,consts:[[1,"d-flex","align-items-center","justify-content-center","container","h-100","login-page"],[1,"d-flex","flex-column","justify-content-center","mt-3","mb-3",2,"width","50%"],[1,"text-center","border-bottom","w-100","display-4"],["class","p-fluid",3,"formGroup","ngSubmit",4,"ngIf"],[1,"p-fluid",3,"formGroup","ngSubmit"],[1,"p-field"],["type","text","pInputText","","formControlName","identifier"],["class","p-invalid",4,"ngIf"],[1,"p-field","mt-3"],["type","password","pInputText","","formControlName","password"],["pButton","","pRipple","","type","submit","label","Log In",1,"p-button-raised","p-button-text","w-100","mt-3",3,"disabled"],["class","text-danger mt-3",4,"ngIf"],[1,"p-invalid"],[1,"text-danger","mt-3"]],template:function(t,e){1&t&&(o.Pb(0,"div",0),o.Pb(1,"div",1),o.Pb(2,"h2",2),o.zc(3,"Login"),o.Ob(),o.xc(4,f,13,5,"form",3),o.Ob(),o.Ob()),2&t&&(o.yb(4),o.gc("ngIf",e.loginForm))},directives:[a.t,r.m,r.i,r.d,r.a,c.a,r.h,r.c,u.b],styles:[""]}),t}()},sr8b:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("2kYt"),i=n("nIj0"),o=n("YZUv"),a=n("vi62"),c=n("EM62"),u=function(){function t(){}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[r.c,i.e,i.k,a.b,o.c]]}),t}()},zBD5:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("JMdv"),i=n("YmSm"),o=n("EM62"),a=n("sEIs");function c(t,e){if(1&t&&o.Kb(0,"img",12),2&t){var n=o.Zb(2);o.gc("src",n.appLogo,o.sc)}}function u(t,e){1&t&&o.Kb(0,"lib-header-item",13),2&t&&o.gc("item",e.$implicit)}function s(t,e){1&t&&o.Kb(0,"lib-header-item",15),2&t&&o.gc("item",e.$implicit)}function p(t,e){if(1&t&&(o.Nb(0),o.xc(1,s,1,1,"lib-header-item",14),o.Mb()),2&t){var n=o.Zb(2);o.yb(1),o.gc("ngForOf",n.nonAuthItems)}}function l(t,e){if(1&t&&o.Kb(0,"lib-header-item",15),2&t){var n=e.$implicit,r=o.Zb(3);o.wc("display",r.auth.isActionAuthorized(n.name,n.expectedRoles)?"block":"none"),o.gc("item",n)}}function f(t,e){if(1&t&&(o.Nb(0),o.xc(1,l,1,3,"lib-header-item",16),o.Mb()),2&t){var n=o.Zb(2);o.yb(1),o.gc("ngForOf",n.authItems)}}function d(t,e){if(1&t&&(o.Pb(0,"header",3),o.xc(1,c,1,1,"img",4),o.Pb(2,"a",5),o.zc(3),o.Ob(),o.Pb(4,"div",6,7),o.xc(6,u,1,1,"lib-header-item",8),o.Ob(),o.Pb(7,"div",9,10),o.xc(9,p,2,1,"ng-container",11),o.xc(10,f,2,1,"ng-container",11),o.Ob(),o.Ob()),2&t){var n=o.Zb();o.yb(1),o.gc("ngIf",n.appLogo),o.yb(2),o.Ac(n.appTitle),o.yb(3),o.gc("ngForOf",n.headerItems),o.yb(3),o.gc("ngIf",!n.auth.isAuthenticated()),o.yb(1),o.gc("ngIf",n.auth.isAuthenticated())}}var b=function(t){return t.Link="a",t.Button="button",t.Menu="menu",t.Divider="divider",t.Text="text",t}({}),h=function(){function t(t,e,n){var r=this;this.auth=t,this.metricsService=e,this.router=n,this.nonAuthItems=[{type:b.Link,linkLocation:"/login",name:"Login"}],this.authItems=[{type:b.Menu,name:this.auth.getUser()?this.auth.getUser().username:"",menuItems:[{type:b.Text,name:"Admin",expectedRoles:["admin","superadmin"],linkLocation:location.origin+"/admin"},{type:b.Text,name:"Profile",linkLocation:"/user/profile"},{type:b.Button,name:"Logout",buttonHandler:this.auth.logout.bind(this)}]}],this.auth.userLoggedIn$.subscribe((function(t){r.authItems[0].name=t.username,r.router.navigate([""])})),this.metricsService.enableMetrics()}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(o.Jb(r.a),o.Jb(i.a),o.Jb(a.c))},t.\u0275cmp=o.Db({type:t,selectors:[["lib-app-layout"]],inputs:{appTitle:"appTitle",appLogo:"appLogo",headerItems:"headerItems",hideHeader:"hideHeader"},decls:4,vars:1,consts:[[1,"container-wrapper"],["class","container-header bg-primary",4,"ngIf"],[1,"container-main"],[1,"container-header","bg-primary"],["class","mr-1","height","64","width","64",3,"src",4,"ngIf"],["href","#",1,"text-white"],[1,"mr-auto","ml-5"],["leftItems",""],["class","mr-3",3,"item",4,"ngFor","ngForOf"],[1,"ml-auto"],["rightItems",""],[4,"ngIf"],["height","64","width","64",1,"mr-1",3,"src"],[1,"mr-3",3,"item"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],[3,"item","display",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(o.Pb(0,"main",0),o.xc(1,d,11,5,"header",1),o.Pb(2,"div",2),o.Kb(3,"router-outlet"),o.Ob(),o.Ob()),2&t&&(o.yb(1),o.gc("ngIf",!e.hideHeader))},styles:[""]}),t}()},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("EM62"),i=n("D57K"),o=n("KO65"),a=Object(i.a)(Object(i.a)({},o.BaseEnvironmentProd),{production:!0}),c=n("vobO"),u=n("e4iD"),s=n("5lCh"),p=n("qUoL"),l=n("tN4t"),f=n("ygCS"),d=n("rDYi"),b=n("qutd"),h=n("PWll"),m=n("sEIs"),g=n("9tA1"),y=[{path:"kid",loadChildren:function(){return Promise.all([n.e(1),n.e(6)]).then(n.bind(null,"S8dl")).then((function(t){return t.KidModule}))},data:{animation:"Kid",breadcrumb:"Kid"},canActivate:[g.c,g.a]},{path:"home",loadChildren:function(){return Promise.all([n.e(1),n.e(7)]).then(n.bind(null,"fOOd")).then((function(t){return t.HomeModule}))},data:{animation:"Home",breadcrumb:"Home"},canActivate:[g.c,g.a]},{path:"",redirectTo:"home",pathMatch:"full",canActivate:[]}],v=function(){function t(){}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[m.g.forRoot(Object(i.j)(y,g.d),{useHash:!0})],m.g]}),t}(),O=n("J+dc"),j=n("JMdv"),D=n("2k75"),S=n("cYft"),w=n("xVbo"),M=n("YtkY"),N=function(){function t(t,e,n){var r=this;this.route=t,this.router=e,this.dataService=n,this.home={icon:"pi pi-home",routerLink:"/"},this.breadcrumbs=[],this.router.events.pipe(Object(w.a)((function(t){return t instanceof m.b})),Object(M.a)((function(){return r.route})),Object(M.a)((function(t){return t.firstChild})),Object(M.a)((function(t){return t.snapshot}))).subscribe((function(t){r.breadcrumbs=[];var e=t._routerState.url.split("/").filter((function(t){return t&&""!==t&&"home"!==t}));r.breadcrumbs=e.map((function(t,n){for(var i=function(t){if(!t)return"";var e=t.slice();return e[0].toUpperCase()+e.slice(1)}(t),o="",a=0;a<=n;a++)o+="/"+e[a];var c=r.dataService.cache.Kid.find((function(e){return e.id===t}));return c&&(i=c.firstName),{label:i,routerLink:o}}))}))}return t.\u0275fac=function(e){return new(e||t)(r.Tb(m.a),r.Tb(m.c),r.Tb(D.a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),k=n("Yny0"),A=function(){return["."]};function E(t,e){if(1&t&&(r.Pb(0,"div",2),r.Pb(1,"div",3),r.Kb(2,"img",4),r.Ob(),r.Kb(3,"p-breadcrumb",5),r.Ob()),2&t){var n=r.Zb();r.yb(2),r.gc("routerLink",r.hc(3,A)),r.yb(1),r.gc("model",n.appService.breadcrumbs)("home",n.appService.home)}}function T(t,e){1&t&&r.Kb(0,"router-outlet")}var P=function(){function t(t,e,n,r,i){this.dataService=t,this.auth=e,this.appService=n,this.router=r,this.route=i}return t.prototype.ngOnInit=function(){var t=this;this.auth.userLoggedIn$.subscribe((function(e){t.dataService.read(S.a).pipe(Object(O.a)(1)).subscribe()}))},t.\u0275fac=function(e){return new(e||t)(r.Jb(D.a),r.Jb(j.a),r.Jb(N),r.Jb(m.c),r.Jb(m.a))},t.\u0275cmp=r.Db({type:t,selectors:[["gilly-root"]],decls:6,vars:0,consts:[["header",""],["main",""],[1,"w-100"],[1,"w-100","bg-primary","shadow-lg"],["src","assets/icons/icon-36x36.png",1,"ml-3","clickable",3,"routerLink"],[3,"model","home"]],template:function(t,e){1&t&&(r.Kb(0,"p-toast"),r.Pb(1,"lib-page-container"),r.xc(2,E,4,4,"ng-template",null,0,r.yc),r.xc(4,T,1,0,"ng-template",null,1,r.yc),r.Ob())},directives:[l.a,k.a,m.d,f.a,m.h],styles:[""]}),t}(),x=function(){function t(){}return t.\u0275mod=r.Hb({type:t,bootstrap:[P]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[p.c],imports:[[u.a,s.a,v,c.c,l.b,f.b,d.a.forRoot({serverEndpoint:a.serverUrl,dataEndpoint:a.dataUrl,securityEndpoint:a.authUrl,appName:a.appTitle,userMetrics:a.userMetrics}),b.a,h.a]]}),t}();a.production&&Object(r.R)(),u.c().bootstrapModule(x).catch((function(t){return console.error(t)}))},zYXd:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ns0p"),i=n("HOZh"),o=n("EM62"),a=n("2kYt"),c=n("sEIs"),u=function(){function t(t,e,n,r){var o=this;this.datePipe=t,this.breakpointObserver=e,this.route=n,this.router=r,this.isSmallScreen=!1,e.observe([i.b.Handset]).subscribe((function(t){o.isSmallScreen=!!t.matches}))}return t.prototype.createFromModelType=function(t){return new t({})},t.prototype.isLoaded=function(t){return!1===t},t.prototype.formatDate=function(t){return this.datePipe.transform(t,"longDate")},t.prototype.formatDateMedium=function(t){return this.datePipe.transform(t,"mediumDate")},t.prototype.formatDateShort=function(t){return this.datePipe.transform(t,"shortDate")},t.prototype.capitalizeFirstLetter=function(t){if(!t)return"";var e=t.slice();return e[0].toUpperCase()+e.slice(1)},t.prototype.prettyPrint=function(t){if(!t)return"";var e=t.match(/([A-Z]?[^A-Z]*)/g).slice(0,-1).join(" ");return this.capitalizeFirstLetter(e)},t.prototype.handleUrlParameters=function(t){var e=Object.assign({},this.route.snapshot.queryParams);t.paramsToDelete&&t.paramsToDelete.forEach((function(t){return delete e[t]})),t.paramsToAdd&&Object.keys(t.paramsToAdd).forEach((function(n){return e[n]=t.paramsToAdd[n]})),t.deleteAll&&(e={}),this.router.navigate([],{relativeTo:this.route,queryParams:e})},t.prototype.getPropertyTypesForArray=function(t,e){var n=this;void 0===t&&(t=[]),void 0===e&&(e=[]);var r={};return(t||[]).forEach((function(t){var i=n.getPropertyTypes(t,e);Object.assign(r,i)})),r},t.prototype.getPropertyTypes=function(t,e){var n=this;void 0===e&&(e=[]);var r={};return Object.keys(t).forEach((function(i){e.find((function(t){return t===i}))||(r[i]=n.getValueType(t[i]))})),r},t.prototype.getValueType=function(t){if(!t)return null;var e="string";switch(typeof t){case"number":e="number";break;case"string":e=this.isDate(t)?"date":"string";break;case"object":e=this.isDate(t)?"date":t instanceof Array?"array":"object";break;default:e="string"}return e},t.prototype.isDate=function(t){return"Invalid Date"!==Object(r.a)(t).toString()},t.prototype.getColorForPercentage=function(t){if(!t&&0!==t)return null;for(var e=[{pct:0,color:{r:255,g:0,b:0}},{pct:.5,color:{r:255,g:255,b:0}},{pct:1,color:{r:0,g:255,b:0}}],n=1;n<e.length-1&&!(t<e[n].pct);n++);var r=e[n-1],i=e[n],o=(t-r.pct)/(i.pct-r.pct),a=1-o,c=o,u={r:Math.floor(r.color.r*a+i.color.r*c),g:Math.floor(r.color.g*a+i.color.g*c),b:Math.floor(r.color.b*a+i.color.b*c)};return"rgb("+[u.r,u.g,u.b].join(",")+")"},t.\u0275fac=function(e){return new(e||t)(o.Tb(a.f),o.Tb(i.a),o.Tb(c.a),o.Tb(c.c))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t}()},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0,5]]]);