<div class="d-flex align-items-center justify-content-center container h-100 login-page">
	<div
		class="d-flex flex-column justify-content-center mt-3 mb-3 p-shadow-4 p-3 col-lg-6 col-sm-12"
	>
		<h2 class="text-center border-bottom w-100 display-4">Login</h2>

		<p-progressBar class="my-1" mode="indeterminate" *ngIf="auth.loading"></p-progressBar>

		<div class="w-100">
			<form
				[formGroup]="loginForm"
				class="d-flex flex-column"
				(ngSubmit)="onSubmit()"
				*ngIf="loginForm"
			>
				<div class="p-field">
					<div class="p-inputgroup">
						<span class="p-inputgroup-addon"><i class="pi pi-user"></i></span>
						<input
							type="text"
							formControlName="identifier"
							pInputText
							placeholder="Username"
						/>
					</div>
					<small
						class="p-invalid"
						*ngIf="(identifier.dirty || identifier.touched) && identifier.invalid"
					>
						Please input your username or e-mail!
					</small>
				</div>

				<div class="p-field">
					<div class="p-inputgroup">
						<span class="p-inputgroup-addon"><i class="pi pi-lock"></i></span>
						<input
							type="password"
							pPassword
							[feedback]="false"
							formControlName="password"
							placeholder="Password"
						/>
					</div>
					<small
						class="p-invalid"
						*ngIf="(password.dirty || password.touched) && password.invalid"
					>
						Please input your password!
					</small>
				</div>

				<button
					pButton
					class="p-button-raised"
					label="Login"
					[disabled]="identifier.invalid || password.invalid"
				></button>

				<div class="text-danger mt-3" *ngIf="errorMsg">
					{{ errorMsg }}
				</div>
			</form>
		</div>
	</div>
</div>
